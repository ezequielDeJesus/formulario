var GS=Object.defineProperty;var wv=i=>{throw TypeError(i)};var $S=(i,e,t)=>e in i?GS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var lt=(i,e,t)=>$S(i,typeof e!="symbol"?e+"":e,t),KS=(i,e,t)=>e.has(i)||wv("Cannot "+t);var xv=(i,e,t)=>e.has(i)?wv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t);var xh=(i,e,t)=>(KS(i,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Hb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var qm={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function YS(){if(Sv)return Kl;Sv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:l}}return Kl.Fragment=e,Kl.jsx=t,Kl.jsxs=t,Kl}var Av;function QS(){return Av||(Av=1,qm.exports=YS()),qm.exports}var b=QS(),Hm={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function XS(){if(Rv)return xe;Rv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function C(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,F={};function te(L,Z,le){this.props=L,this.context=Z,this.refs=F,this.updater=le||j}te.prototype.isReactComponent={},te.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},te.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function ie(){}ie.prototype=te.prototype;function ne(L,Z,le){this.props=L,this.context=Z,this.refs=F,this.updater=le||j}var ye=ne.prototype=new ie;ye.constructor=ne,P(ye,te.prototype),ye.isPureReactComponent=!0;var _e=Array.isArray;function oe(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function k(L,Z,le){var he=le.ref;return{$$typeof:i,type:L,key:Z,ref:he!==void 0?he:null,props:le}}function M(L,Z){return k(L.type,Z,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function O(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(le){return Z[le]})}var R=/\/+/g;function re(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?O(""+L.key):Z.toString(36)}function Ae(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(oe,oe):(L.status="pending",L.then(function(Z){L.status==="pending"&&(L.status="fulfilled",L.value=Z)},function(Z){L.status==="pending"&&(L.status="rejected",L.reason=Z)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,Z,le,he,Te){var Ne=typeof L;(Ne==="undefined"||Ne==="boolean")&&(L=null);var Be=!1;if(L===null)Be=!0;else switch(Ne){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(L.$$typeof){case i:case e:Be=!0;break;case _:return Be=L._init,Y(Be(L._payload),Z,le,he,Te)}}if(Be)return Te=Te(L),Be=he===""?"."+re(L,0):he,_e(Te)?(le="",Be!=null&&(le=Be.replace(R,"$&/")+"/"),Y(Te,Z,le,"",function(As){return As})):Te!=null&&(I(Te)&&(Te=M(Te,le+(Te.key==null||L&&L.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+Be)),Z.push(Te)),1;Be=0;var Vt=he===""?".":he+":";if(_e(L))for(var ct=0;ct<L.length;ct++)he=L[ct],Ne=Vt+re(he,ct),Be+=Y(he,Z,le,Ne,Te);else if(ct=C(L),typeof ct=="function")for(L=ct.call(L),ct=0;!(he=L.next()).done;)he=he.value,Ne=Vt+re(he,ct++),Be+=Y(he,Z,le,Ne,Te);else if(Ne==="object"){if(typeof L.then=="function")return Y(Ae(L),Z,le,he,Te);throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ae(L,Z,le){if(L==null)return L;var he=[],Te=0;return Y(L,he,"","",function(Ne){return Z.call(le,Ne,Te++)}),he}function me(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(le){(L._status===0||L._status===-1)&&(L._status=1,L._result=le)},function(le){(L._status===0||L._status===-1)&&(L._status=2,L._result=le)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var De=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Qe={map:ae,forEach:function(L,Z,le){ae(L,function(){Z.apply(this,arguments)},le)},count:function(L){var Z=0;return ae(L,function(){Z++}),Z},toArray:function(L){return ae(L,function(Z){return Z})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return xe.Activity=T,xe.Children=Qe,xe.Component=te,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=ne,xe.StrictMode=s,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,xe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return N.H.useMemoCache(L)}},xe.cache=function(L){return function(){return L.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(L,Z,le){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var he=P({},L.props),Te=L.key;if(Z!=null)for(Ne in Z.key!==void 0&&(Te=""+Z.key),Z)!A.call(Z,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Z.ref===void 0||(he[Ne]=Z[Ne]);var Ne=arguments.length-2;if(Ne===1)he.children=le;else if(1<Ne){for(var Be=Array(Ne),Vt=0;Vt<Ne;Vt++)Be[Vt]=arguments[Vt+2];he.children=Be}return k(L.type,Te,he)},xe.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},xe.createElement=function(L,Z,le){var he,Te={},Ne=null;if(Z!=null)for(he in Z.key!==void 0&&(Ne=""+Z.key),Z)A.call(Z,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=Z[he]);var Be=arguments.length-2;if(Be===1)Te.children=le;else if(1<Be){for(var Vt=Array(Be),ct=0;ct<Be;ct++)Vt[ct]=arguments[ct+2];Te.children=Vt}if(L&&L.defaultProps)for(he in Be=L.defaultProps,Be)Te[he]===void 0&&(Te[he]=Be[he]);return k(L,Ne,Te)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(L){return{$$typeof:m,render:L}},xe.isValidElement=I,xe.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:me}},xe.memo=function(L,Z){return{$$typeof:g,type:L,compare:Z===void 0?null:Z}},xe.startTransition=function(L){var Z=N.T,le={};N.T=le;try{var he=L(),Te=N.S;Te!==null&&Te(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(oe,De)}catch(Ne){De(Ne)}finally{Z!==null&&le.types!==null&&(Z.types=le.types),N.T=Z}},xe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},xe.use=function(L){return N.H.use(L)},xe.useActionState=function(L,Z,le){return N.H.useActionState(L,Z,le)},xe.useCallback=function(L,Z){return N.H.useCallback(L,Z)},xe.useContext=function(L){return N.H.useContext(L)},xe.useDebugValue=function(){},xe.useDeferredValue=function(L,Z){return N.H.useDeferredValue(L,Z)},xe.useEffect=function(L,Z){return N.H.useEffect(L,Z)},xe.useEffectEvent=function(L){return N.H.useEffectEvent(L)},xe.useId=function(){return N.H.useId()},xe.useImperativeHandle=function(L,Z,le){return N.H.useImperativeHandle(L,Z,le)},xe.useInsertionEffect=function(L,Z){return N.H.useInsertionEffect(L,Z)},xe.useLayoutEffect=function(L,Z){return N.H.useLayoutEffect(L,Z)},xe.useMemo=function(L,Z){return N.H.useMemo(L,Z)},xe.useOptimistic=function(L,Z){return N.H.useOptimistic(L,Z)},xe.useReducer=function(L,Z,le){return N.H.useReducer(L,Z,le)},xe.useRef=function(L){return N.H.useRef(L)},xe.useState=function(L){return N.H.useState(L)},xe.useSyncExternalStore=function(L,Z,le){return N.H.useSyncExternalStore(L,Z,le)},xe.useTransition=function(){return N.H.useTransition()},xe.version="19.2.4",xe}var Cv;function Hp(){return Cv||(Cv=1,Hm.exports=XS()),Hm.exports}var z=Hp();const JS=Hb(z);var Fm={exports:{}},Yl={},Gm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function WS(){return Iv||(Iv=1,(function(i){function e(Y,ae){var me=Y.length;Y.push(ae);e:for(;0<me;){var De=me-1>>>1,Qe=Y[De];if(0<o(Qe,ae))Y[De]=ae,Y[me]=Qe,me=De;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ae=Y[0],me=Y.pop();if(me!==ae){Y[0]=me;e:for(var De=0,Qe=Y.length,L=Qe>>>1;De<L;){var Z=2*(De+1)-1,le=Y[Z],he=Z+1,Te=Y[he];if(0>o(le,me))he<Qe&&0>o(Te,le)?(Y[De]=Te,Y[he]=me,De=he):(Y[De]=le,Y[Z]=me,De=Z);else if(he<Qe&&0>o(Te,me))Y[De]=Te,Y[he]=me,De=he;else break e}}return ae}function o(Y,ae){var me=Y.sortIndex-ae.sortIndex;return me!==0?me:Y.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,T=null,w=3,C=!1,j=!1,P=!1,F=!1,te=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ye(Y){for(var ae=t(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=Y)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(g)}}function _e(Y){if(P=!1,ye(Y),!j)if(t(p)!==null)j=!0,oe||(oe=!0,O());else{var ae=t(g);ae!==null&&Ae(_e,ae.startTime-Y)}}var oe=!1,N=-1,A=5,k=-1;function M(){return F?!0:!(i.unstable_now()-k<A)}function I(){if(F=!1,oe){var Y=i.unstable_now();k=Y;var ae=!0;try{e:{j=!1,P&&(P=!1,ie(N),N=-1),C=!0;var me=w;try{t:{for(ye(Y),T=t(p);T!==null&&!(T.expirationTime>Y&&M());){var De=T.callback;if(typeof De=="function"){T.callback=null,w=T.priorityLevel;var Qe=De(T.expirationTime<=Y);if(Y=i.unstable_now(),typeof Qe=="function"){T.callback=Qe,ye(Y),ae=!0;break t}T===t(p)&&s(p),ye(Y)}else s(p);T=t(p)}if(T!==null)ae=!0;else{var L=t(g);L!==null&&Ae(_e,L.startTime-Y),ae=!1}}break e}finally{T=null,w=me,C=!1}ae=void 0}}finally{ae?O():oe=!1}}}var O;if(typeof ne=="function")O=function(){ne(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,re=R.port2;R.port1.onmessage=I,O=function(){re.postMessage(null)}}else O=function(){te(I,0)};function Ae(Y,ae){N=te(function(){Y(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var me=w;w=ae;try{return Y()}finally{w=me}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=w;w=Y;try{return ae()}finally{w=me}},i.unstable_scheduleCallback=function(Y,ae,me){var De=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?De+me:De):me=De,Y){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=me+Qe,Y={id:_++,callback:ae,priorityLevel:Y,startTime:me,expirationTime:Qe,sortIndex:-1},me>De?(Y.sortIndex=me,e(g,Y),t(p)===null&&Y===t(g)&&(P?(ie(N),N=-1):P=!0,Ae(_e,me-De))):(Y.sortIndex=Qe,e(p,Y),j||C||(j=!0,oe||(oe=!0,O()))),Y},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(Y){var ae=w;return function(){var me=w;w=ae;try{return Y.apply(this,arguments)}finally{w=me}}}})($m)),$m}var Nv;function ZS(){return Nv||(Nv=1,Gm.exports=WS()),Gm.exports}var Km={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function eA(){if(kv)return Zt;kv=1;var i=Hp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},Zt.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:C}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},Zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zt.version="19.2.4",Zt}var Dv;function tA(){if(Dv)return Km.exports;Dv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Km.exports=eA(),Km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function nA(){if(Ov)return Yl;Ov=1;var i=ZS(),e=Hp(),t=tA();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===u)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=d;else{for(var v=!1,x=f.child;x;){if(x===a){v=!0,a=f,u=d;break}if(x===u){v=!0,u=f,a=d;break}x=x.sibling}if(!v){for(x=d.child;x;){if(x===a){v=!0,a=d,u=f;break}if(x===u){v=!0,u=d,a=f;break}x=x.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function _(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=_(n),r!==null)return r;n=n.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function O(n){return n===null||typeof n!="object"?null:(n=I&&n[I]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case te:return"Profiler";case F:return"StrictMode";case _e:return"Suspense";case oe:return"SuspenseList";case k:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case ne:return n.displayName||"Context";case ie:return(n._context.displayName||"Context")+".Consumer";case ye:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return r=n.displayName||null,r!==null?r:re(n.type)||"Memo";case A:r=n._payload,n=n._init;try{return re(n(r))}catch{}}return null}var Ae=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},De=[],Qe=-1;function L(n){return{current:n}}function Z(n){0>Qe||(n.current=De[Qe],De[Qe]=null,Qe--)}function le(n,r){Qe++,De[Qe]=n.current,n.current=r}var he=L(null),Te=L(null),Ne=L(null),Be=L(null);function Vt(n,r){switch(le(Ne,r),le(Te,n),le(he,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?$_(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=$_(r),n=K_(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Z(he),le(he,n)}function ct(){Z(he),Z(Te),Z(Ne)}function As(n){n.memoizedState!==null&&le(Be,n);var r=he.current,a=K_(r,n.type);r!==a&&(le(Te,n),le(he,a))}function Ta(n){Te.current===n&&(Z(he),Z(Te)),Be.current===n&&(Z(Be),Hl._currentValue=me)}var wa,xa;function fi(n){if(wa===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);wa=r&&r[1]||"",xa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+n+xa}var Ho=!1;function Rs(n,r){if(!n||Ho)return"";Ho=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(K){var G=K}Reflect.construct(n,[],W)}else{try{W.call()}catch(K){G=K}n.call(W.prototype)}}else{try{throw Error()}catch(K){G=K}(W=n())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),v=d[0],x=d[1];if(v&&x){var D=v.split(`
`),H=x.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===H.length)for(u=D.length-1,f=H.length-1;1<=u&&0<=f&&D[u]!==H[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==H[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==H[f]){var Q=`
`+D[u].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=u&&0<=f);break}}}finally{Ho=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?fi(a):""}function Fo(n,r){switch(n.tag){case 26:case 27:case 5:return fi(n.type);case 16:return fi("Lazy");case 13:return n.child!==r&&r!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Rs(n.type,!1);case 11:return Rs(n.type.render,!1);case 1:return Rs(n.type,!0);case 31:return fi("Activity");default:return""}}function Go(n){try{var r="",a=null;do r+=Fo(n,a),a=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Tt=Object.prototype.hasOwnProperty,Lt=i.unstable_scheduleCallback,wr=i.unstable_cancelCallback,Ff=i.unstable_shouldYield,Qu=i.unstable_requestPaint,an=i.unstable_now,Cs=i.unstable_getCurrentPriorityLevel,$o=i.unstable_ImmediatePriority,Ko=i.unstable_UserBlockingPriority,xr=i.unstable_NormalPriority,Gf=i.unstable_LowPriority,Xu=i.unstable_IdlePriority,Ju=i.log,Wu=i.unstable_setDisableYieldValue,Yn=null,Ft=null;function kn(n){if(typeof Ju=="function"&&Wu(n),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Yn,n)}catch{}}var yt=Math.clz32?Math.clz32:ec,Zu=Math.log,Sa=Math.LN2;function ec(n){return n>>>=0,n===0?32:31-(Zu(n)/Sa|0)|0}var di=256,Is=262144,wt=4194304;function mi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function pi(n,r,a){var u=n.pendingLanes;if(u===0)return 0;var f=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var x=u&134217727;return x!==0?(u=x&~d,u!==0?f=mi(u):(v&=x,v!==0?f=mi(v):a||(a=x&~n,a!==0&&(f=mi(a))))):(x=u&~d,x!==0?f=mi(x):v!==0?f=mi(v):a||(a=u&~n,a!==0&&(f=mi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Qn(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function $f(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var n=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),n}function gi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ns(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Kf(n,r,a,u,f,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var x=n.entanglements,D=n.expirationTimes,H=n.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-yt(a),W=1<<Q;x[Q]=0,D[Q]=-1;var G=H[Q];if(G!==null)for(H[Q]=null,Q=0;Q<G.length;Q++){var K=G[Q];K!==null&&(K.lane&=-536870913)}a&=~W}u!==0&&ks(n,u,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function ks(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-yt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&261930}function Yo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-yt(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function Qo(n,r){var a=r&-r;return a=(a&42)!==0?1:Ds(a),(a&(n.suspendedLanes|r))!==0?0:a}function Ds(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function qi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function nc(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:gv(n.type))}function Xn(n,r){var a=ae.p;try{return ae.p=n,r()}finally{ae.p=a}}var Jn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Jn,Ut="__reactProps$"+Jn,yi="__reactContainer$"+Jn,Aa="__reactEvents$"+Jn,Yf="__reactListeners$"+Jn,ic="__reactHandles$"+Jn,rc="__reactResources$"+Jn,_i="__reactMarker$"+Jn;function Ra(n){delete n[xt],delete n[Ut],delete n[Aa],delete n[Yf],delete n[ic]}function vi(n){var r=n[xt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[yi]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=ev(n);n!==null;){if(a=n[xt])return a;n=ev(n)}return r}n=a,a=n.parentNode}return null}function Dn(n){if(n=n[xt]||n[yi]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function _n(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Ei(n){var r=n[rc];return r||(r=n[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(n){n[_i]=!0}var Xo=new Set,Jo={};function bi(n,r){Ti(n,r),Ti(n+"Capture",r)}function Ti(n,r){for(Jo[n]=r,n=0;n<r.length;n++)Xo.add(r[n])}var Wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},el={};function sc(n){return Tt.call(el,n)?!0:Tt.call(Zo,n)?!1:Wo.test(n)?el[n]=!0:(Zo[n]=!0,!1)}function Ca(n,r,a){if(sc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function vn(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function At(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}function zt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Sr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function tl(n,r,a){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,d=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Xe(n){if(!n._valueTracker){var r=Sr(n)?"checked":"value";n._valueTracker=tl(n,r,""+n[r])}}function Os(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=Sr(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function wi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ms=/[\n"\\]/g;function un(n){return n.replace(Ms,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ia(n,r,a,u,f,d,v,x){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+zt(r)):n.value!==""+zt(r)&&(n.value=""+zt(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?nl(n,v,zt(r)):a!=null?nl(n,v,zt(a)):u!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+zt(x):n.removeAttribute("name")}function ac(n,r,a,u,f,d,v,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Xe(n);return}a=a!=null?""+zt(a):"",r=r!=null?""+zt(r):a,x||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=x?n.checked:!!u,n.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),Xe(n)}function nl(n,r,a){r==="number"&&wi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ar(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+zt(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function oc(n,r,a){if(r!=null&&(r=""+zt(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+zt(a):""}function Rr(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(Ae(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=zt(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u),Xe(n)}function cn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||lc.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function rl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&il(n,f,u)}else for(var d in r)r.hasOwnProperty(d)&&il(n,d,r[d])}function Na(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(n){return Cr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Wn(){}var sl=null;function On(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ir=null,xi=null;function Vs(n){var r=Dn(n);if(r&&(n=r.stateNode)){var a=n[Ut]||null;e:switch(n=r.stateNode,r.type){case"input":if(Ia(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[Ut]||null;if(!f)throw Error(s(90));Ia(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&Os(u)}break e;case"textarea":oc(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ar(n,!!a.multiple,r,!1)}}}var Da=!1;function Nr(n,r,a){if(Da)return n(r,a);Da=!0;try{var u=n(r);return u}finally{if(Da=!1,(Ir!==null||xi!==null)&&(nh(),Ir&&(r=Ir,n=xi,xi=Ir=null,Vs(r),n)))for(r=0;r<n.length;r++)Vs(n[r])}}function Zn(n,r){var a=n.stateNode;if(a===null)return null;var u=a[Ut]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(Mn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Ls=!1}var Si=null,al=null,Ps=null;function ol(){if(Ps)return Ps;var n,r=al,a=r.length,u,f="value"in Si?Si.value:Si.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var v=a-n;for(u=1;u<=v&&r[a-u]===f[d-u];u++);return Ps=f.slice(n,1<u?1-u:void 0)}function js(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Hi(){return!0}function ei(){return!1}function Gt(n){function r(a,u,f,d,v){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(a=n[x],this[x]=a?a(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:ei,this.isPropagationStopped=ei,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),r}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Gt(Fi),kr=T({},Fi,{view:0,detail:0}),ll=Gt(kr),Dr,Oa,Ri,Ma=T({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ri&&(Ri&&n.type==="mousemove"?(Dr=n.screenX-Ri.screenX,Oa=n.screenY-Ri.screenY):Oa=Dr=0,Ri=n),Dr)},movementY:function(n){return"movementY"in n?n.movementY:Oa}}),ul=Gt(Ma),Us=T({},Ma,{dataTransfer:0}),cc=Gt(Us),hc=T({},kr,{relatedTarget:0}),zs=Gt(hc),cl=T({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=Gt(cl),Va=T({},Fi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dc=Gt(Va),mc=T({},Fi,{data:0}),Ci=Gt(mc),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _c(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=yc[n])?!!r[n]:!1}function Or(){return _c}var on=T({},kr,{key:function(n){if(n.key){var r=pc[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=js(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(n){return n.type==="keypress"?js(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?js(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vc=Gt(on),Ec=T({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Gt(Ec),h=T({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),y=Gt(h),E=T({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Gt(E),B=T({},Ma,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Gt(B),se=T({},Fi,{newState:0,oldState:0}),Ce=Gt(se),_t=[9,13,27,32],Ge=Mn&&"CompositionEvent"in window,ht=null;Mn&&"documentMode"in document&&(ht=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!ht,Ii=Mn&&(!Ge||ht&&8<ht&&11>=ht),ti=" ",ni=!1;function Bs(n,r){switch(n){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pa=!1;function px(n,r){switch(n){case"compositionend":return La(r);case"keypress":return r.which!==32?null:(ni=!0,ti);case"textInput":return n=r.data,n===ti&&ni?null:n;default:return null}}function gx(n,r){if(Pa)return n==="compositionend"||!Ge&&Bs(n,r)?(n=ol(),Ps=al=Si=null,Pa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ii&&r.locale!=="ko"?null:r.data;default:return null}}var yx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iy(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!yx[n.type]:r==="textarea"}function ry(n,r,a,u){Ir?xi?xi.push(u):xi=[u]:Ir=u,r=uh(r,"onChange"),0<r.length&&(a=new Ai("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var hl=null,fl=null;function _x(n){z_(n,0)}function bc(n){var r=_n(n);if(Os(r))return n}function sy(n,r){if(n==="change")return r}var ay=!1;if(Mn){var Qf;if(Mn){var Xf="oninput"in document;if(!Xf){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),Xf=typeof oy.oninput=="function"}Qf=Xf}else Qf=!1;ay=Qf&&(!document.documentMode||9<document.documentMode)}function ly(){hl&&(hl.detachEvent("onpropertychange",uy),fl=hl=null)}function uy(n){if(n.propertyName==="value"&&bc(fl)){var r=[];ry(r,fl,n,On(n)),Nr(_x,r)}}function vx(n,r,a){n==="focusin"?(ly(),hl=r,fl=a,hl.attachEvent("onpropertychange",uy)):n==="focusout"&&ly()}function Ex(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bc(fl)}function bx(n,r){if(n==="click")return bc(r)}function Tx(n,r){if(n==="input"||n==="change")return bc(r)}function wx(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var En=typeof Object.is=="function"?Object.is:wx;function dl(n,r){if(En(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Tt.call(r,f)||!En(n[f],r[f]))return!1}return!0}function cy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hy(n,r){var a=cy(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cy(a)}}function fy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?fy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function dy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=wi(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=wi(n.document)}return r}function Jf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var xx=Mn&&"documentMode"in document&&11>=document.documentMode,ja=null,Wf=null,ml=null,Zf=!1;function my(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zf||ja==null||ja!==wi(u)||(u=ja,"selectionStart"in u&&Jf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ml&&dl(ml,u)||(ml=u,u=uh(Wf,"onSelect"),0<u.length&&(r=new Ai("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=ja)))}function qs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ua={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},ed={},py={};Mn&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Hs(n){if(ed[n])return ed[n];if(!Ua[n])return n;var r=Ua[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in py)return ed[n]=r[a];return n}var gy=Hs("animationend"),yy=Hs("animationiteration"),_y=Hs("animationstart"),Sx=Hs("transitionrun"),Ax=Hs("transitionstart"),Rx=Hs("transitioncancel"),vy=Hs("transitionend"),Ey=new Map,td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");td.push("scrollEnd");function ii(n,r){Ey.set(n,r),bi(r,[n])}var Tc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Ln=[],za=0,nd=0;function wc(){for(var n=za,r=nd=za=0;r<n;){var a=Ln[r];Ln[r++]=null;var u=Ln[r];Ln[r++]=null;var f=Ln[r];Ln[r++]=null;var d=Ln[r];if(Ln[r++]=null,u!==null&&f!==null){var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}d!==0&&by(a,f,d)}}function xc(n,r,a,u){Ln[za++]=n,Ln[za++]=r,Ln[za++]=a,Ln[za++]=u,nd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function id(n,r,a,u){return xc(n,r,a,u),Sc(n)}function Fs(n,r){return xc(n,null,null,r),Sc(n)}function by(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-yt(a),n=d.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=a|536870912),d):null}function Sc(n){if(50<Ll)throw Ll=0,fm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ba={};function Cx(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(n,r,a,u){return new Cx(n,r,a,u)}function rd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $i(n,r){var a=n.alternate;return a===null?(a=bn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ty(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ac(n,r,a,u,f,d){var v=0;if(u=n,typeof n=="function")rd(n)&&(v=1);else if(typeof n=="string")v=OS(n,a,he.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case k:return n=bn(31,a,r,f),n.elementType=k,n.lanes=d,n;case P:return Gs(a.children,f,d,r);case F:v=8,f|=24;break;case te:return n=bn(12,a,r,f|2),n.elementType=te,n.lanes=d,n;case _e:return n=bn(13,a,r,f),n.elementType=_e,n.lanes=d,n;case oe:return n=bn(19,a,r,f),n.elementType=oe,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ne:v=10;break e;case ie:v=9;break e;case ye:v=11;break e;case N:v=14;break e;case A:v=16,u=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=bn(v,a,r,f),r.elementType=n,r.type=u,r.lanes=d,r}function Gs(n,r,a,u){return n=bn(7,n,u,r),n.lanes=a,n}function sd(n,r,a){return n=bn(6,n,null,r),n.lanes=a,n}function wy(n){var r=bn(18,null,null,0);return r.stateNode=n,r}function ad(n,r,a){return r=bn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var xy=new WeakMap;function Pn(n,r){if(typeof n=="object"&&n!==null){var a=xy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Go(r)},xy.set(n,r),r)}return{value:n,source:r,stack:Go(r)}}var qa=[],Ha=0,Rc=null,pl=0,jn=[],Un=0,Mr=null,Ni=1,ki="";function Ki(n,r){qa[Ha++]=pl,qa[Ha++]=Rc,Rc=n,pl=r}function Sy(n,r,a){jn[Un++]=Ni,jn[Un++]=ki,jn[Un++]=Mr,Mr=n;var u=Ni;n=ki;var f=32-yt(u)-1;u&=~(1<<f),a+=1;var d=32-yt(r)+f;if(30<d){var v=f-f%5;d=(u&(1<<v)-1).toString(32),u>>=v,f-=v,Ni=1<<32-yt(r)+f|a<<f|u,ki=d+n}else Ni=1<<d|a<<f|u,ki=n}function od(n){n.return!==null&&(Ki(n,1),Sy(n,1,0))}function ld(n){for(;n===Rc;)Rc=qa[--Ha],qa[Ha]=null,pl=qa[--Ha],qa[Ha]=null;for(;n===Mr;)Mr=jn[--Un],jn[Un]=null,ki=jn[--Un],jn[Un]=null,Ni=jn[--Un],jn[Un]=null}function Ay(n,r){jn[Un++]=Ni,jn[Un++]=ki,jn[Un++]=Mr,Ni=r.id,ki=r.overflow,Mr=n}var $t=null,at=null,ze=!1,Vr=null,zn=!1,ud=Error(s(519));function Lr(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(Pn(r,n)),ud}function Ry(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[xt]=n,r[Ut]=u,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<jl.length;a++)Me(jl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),ac(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Rr(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||F_(r.textContent,a)?(u.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),u.onScroll!=null&&Me("scroll",r),u.onScrollEnd!=null&&Me("scrollend",r),u.onClick!=null&&(r.onclick=Wn),r=!0):r=!1,r||Lr(n,!0)}function Cy(n){for($t=n.return;$t;)switch($t.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:$t=$t.return}}function Fa(n){if(n!==$t)return!1;if(!ze)return Cy(n),ze=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Rm(n.type,n.memoizedProps)),a=!a),a&&at&&Lr(n),Cy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));at=Z_(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));at=Z_(n)}else r===27?(r=at,Xr(n.type)?(n=Dm,Dm=null,at=n):at=r):at=$t?qn(n.stateNode.nextSibling):null;return!0}function $s(){at=$t=null,ze=!1}function cd(){var n=Vr;return n!==null&&(mn===null?mn=n:mn.push.apply(mn,n),Vr=null),n}function gl(n){Vr===null?Vr=[n]:Vr.push(n)}var hd=L(null),Ks=null,Yi=null;function Pr(n,r,a){le(hd,r._currentValue),r._currentValue=a}function Qi(n){n._currentValue=hd.current,Z(hd)}function fd(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function dd(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=f;for(var D=0;D<r.length;D++)if(x.context===r[D]){d.lanes|=a,x=d.alternate,x!==null&&(x.lanes|=a),fd(d.return,a,n),u||(v=null);break e}d=x.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),fd(v,a,n),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===n){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ga(n,r,a,u){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var x=f.type;En(f.pendingProps.value,v.value)||(n!==null?n.push(x):n=[x])}}else if(f===Be.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Hl):n=[Hl])}f=f.return}n!==null&&dd(r,n,a,u),r.flags|=262144}function Cc(n){for(n=n.firstContext;n!==null;){if(!En(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ys(n){Ks=n,Yi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return Iy(Ks,n)}function Ic(n,r){return Ks===null&&Ys(n),Iy(n,r)}function Iy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Yi===null){if(n===null)throw Error(s(308));Yi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Yi=Yi.next=r;return a}var Ix=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Nx=i.unstable_scheduleCallback,kx=i.unstable_NormalPriority,Rt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new Ix,data:new Map,refCount:0}}function yl(n){n.refCount--,n.refCount===0&&Nx(kx,function(){n.controller.abort()})}var _l=null,pd=0,$a=0,Ka=null;function Dx(n,r){if(_l===null){var a=_l=[];pd=0,$a=_m(),Ka={status:"pending",value:void 0,then:function(u){a.push(u)}}}return pd++,r.then(Ny,Ny),r}function Ny(){if(--pd===0&&_l!==null){Ka!==null&&(Ka.status="fulfilled");var n=_l;_l=null,$a=0,Ka=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Ox(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var ky=Y.S;Y.S=function(n,r){m_=an(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Dx(n,r),ky!==null&&ky(n,r)};var Qs=L(null);function gd(){var n=Qs.current;return n!==null?n:rt.pooledCache}function Nc(n,r){r===null?le(Qs,Qs.current):le(Qs,r.pool)}function Dy(){var n=gd();return n===null?null:{parent:Rt._currentValue,pool:n}}var Ya=Error(s(460)),yd=Error(s(474)),kc=Error(s(542)),Dc={then:function(){}};function Oy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function My(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Wn,Wn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Ly(n),n;default:if(typeof r.status=="string")r.then(Wn,Wn);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Ly(n),n}throw Js=r,Ya}}function Xs(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Js=a,Ya):a}}var Js=null;function Vy(){if(Js===null)throw Error(s(459));var n=Js;return Js=null,n}function Ly(n){if(n===Ya||n===kc)throw Error(s(483))}var Qa=null,vl=0;function Oc(n){var r=vl;return vl+=1,Qa===null&&(Qa=[]),My(Qa,n,r)}function El(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Mc(n,r){throw r.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Py(n){function r(U,V){if(n){var q=U.deletions;q===null?(U.deletions=[V],U.flags|=16):q.push(V)}}function a(U,V){if(!n)return null;for(;V!==null;)r(U,V),V=V.sibling;return null}function u(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function f(U,V){return U=$i(U,V),U.index=0,U.sibling=null,U}function d(U,V,q){return U.index=q,n?(q=U.alternate,q!==null?(q=q.index,q<V?(U.flags|=67108866,V):q):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function v(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function x(U,V,q,X){return V===null||V.tag!==6?(V=sd(q,U.mode,X),V.return=U,V):(V=f(V,q),V.return=U,V)}function D(U,V,q,X){var pe=q.type;return pe===P?Q(U,V,q.props.children,X,q.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Xs(pe)===V.type)?(V=f(V,q.props),El(V,q),V.return=U,V):(V=Ac(q.type,q.key,q.props,null,U.mode,X),El(V,q),V.return=U,V)}function H(U,V,q,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=ad(q,U.mode,X),V.return=U,V):(V=f(V,q.children||[]),V.return=U,V)}function Q(U,V,q,X,pe){return V===null||V.tag!==7?(V=Gs(q,U.mode,X,pe),V.return=U,V):(V=f(V,q),V.return=U,V)}function W(U,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=sd(""+V,U.mode,q),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case C:return q=Ac(V.type,V.key,V.props,null,U.mode,q),El(q,V),q.return=U,q;case j:return V=ad(V,U.mode,q),V.return=U,V;case A:return V=Xs(V),W(U,V,q)}if(Ae(V)||O(V))return V=Gs(V,U.mode,q,null),V.return=U,V;if(typeof V.then=="function")return W(U,Oc(V),q);if(V.$$typeof===ne)return W(U,Ic(U,V),q);Mc(U,V)}return null}function G(U,V,q,X){var pe=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:x(U,V,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return q.key===pe?D(U,V,q,X):null;case j:return q.key===pe?H(U,V,q,X):null;case A:return q=Xs(q),G(U,V,q,X)}if(Ae(q)||O(q))return pe!==null?null:Q(U,V,q,X,null);if(typeof q.then=="function")return G(U,V,Oc(q),X);if(q.$$typeof===ne)return G(U,V,Ic(U,q),X);Mc(U,q)}return null}function K(U,V,q,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(q)||null,x(V,U,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case C:return U=U.get(X.key===null?q:X.key)||null,D(V,U,X,pe);case j:return U=U.get(X.key===null?q:X.key)||null,H(V,U,X,pe);case A:return X=Xs(X),K(U,V,q,X,pe)}if(Ae(X)||O(X))return U=U.get(q)||null,Q(V,U,X,pe,null);if(typeof X.then=="function")return K(U,V,q,Oc(X),pe);if(X.$$typeof===ne)return K(U,V,q,Ic(V,X),pe);Mc(V,X)}return null}function fe(U,V,q,X){for(var pe=null,He=null,de=V,ke=V=0,Le=null;de!==null&&ke<q.length;ke++){de.index>ke?(Le=de,de=null):Le=de.sibling;var Fe=G(U,de,q[ke],X);if(Fe===null){de===null&&(de=Le);break}n&&de&&Fe.alternate===null&&r(U,de),V=d(Fe,V,ke),He===null?pe=Fe:He.sibling=Fe,He=Fe,de=Le}if(ke===q.length)return a(U,de),ze&&Ki(U,ke),pe;if(de===null){for(;ke<q.length;ke++)de=W(U,q[ke],X),de!==null&&(V=d(de,V,ke),He===null?pe=de:He.sibling=de,He=de);return ze&&Ki(U,ke),pe}for(de=u(de);ke<q.length;ke++)Le=K(de,U,ke,q[ke],X),Le!==null&&(n&&Le.alternate!==null&&de.delete(Le.key===null?ke:Le.key),V=d(Le,V,ke),He===null?pe=Le:He.sibling=Le,He=Le);return n&&de.forEach(function(ts){return r(U,ts)}),ze&&Ki(U,ke),pe}function ve(U,V,q,X){if(q==null)throw Error(s(151));for(var pe=null,He=null,de=V,ke=V=0,Le=null,Fe=q.next();de!==null&&!Fe.done;ke++,Fe=q.next()){de.index>ke?(Le=de,de=null):Le=de.sibling;var ts=G(U,de,Fe.value,X);if(ts===null){de===null&&(de=Le);break}n&&de&&ts.alternate===null&&r(U,de),V=d(ts,V,ke),He===null?pe=ts:He.sibling=ts,He=ts,de=Le}if(Fe.done)return a(U,de),ze&&Ki(U,ke),pe;if(de===null){for(;!Fe.done;ke++,Fe=q.next())Fe=W(U,Fe.value,X),Fe!==null&&(V=d(Fe,V,ke),He===null?pe=Fe:He.sibling=Fe,He=Fe);return ze&&Ki(U,ke),pe}for(de=u(de);!Fe.done;ke++,Fe=q.next())Fe=K(de,U,ke,Fe.value,X),Fe!==null&&(n&&Fe.alternate!==null&&de.delete(Fe.key===null?ke:Fe.key),V=d(Fe,V,ke),He===null?pe=Fe:He.sibling=Fe,He=Fe);return n&&de.forEach(function(FS){return r(U,FS)}),ze&&Ki(U,ke),pe}function nt(U,V,q,X){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case C:e:{for(var pe=q.key;V!==null;){if(V.key===pe){if(pe=q.type,pe===P){if(V.tag===7){a(U,V.sibling),X=f(V,q.props.children),X.return=U,U=X;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Xs(pe)===V.type){a(U,V.sibling),X=f(V,q.props),El(X,q),X.return=U,U=X;break e}a(U,V);break}else r(U,V);V=V.sibling}q.type===P?(X=Gs(q.props.children,U.mode,X,q.key),X.return=U,U=X):(X=Ac(q.type,q.key,q.props,null,U.mode,X),El(X,q),X.return=U,U=X)}return v(U);case j:e:{for(pe=q.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(U,V.sibling),X=f(V,q.children||[]),X.return=U,U=X;break e}else{a(U,V);break}else r(U,V);V=V.sibling}X=ad(q,U.mode,X),X.return=U,U=X}return v(U);case A:return q=Xs(q),nt(U,V,q,X)}if(Ae(q))return fe(U,V,q,X);if(O(q)){if(pe=O(q),typeof pe!="function")throw Error(s(150));return q=pe.call(q),ve(U,V,q,X)}if(typeof q.then=="function")return nt(U,V,Oc(q),X);if(q.$$typeof===ne)return nt(U,V,Ic(U,q),X);Mc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(U,V.sibling),X=f(V,q),X.return=U,U=X):(a(U,V),X=sd(q,U.mode,X),X.return=U,U=X),v(U)):a(U,V)}return function(U,V,q,X){try{vl=0;var pe=nt(U,V,q,X);return Qa=null,pe}catch(de){if(de===Ya||de===kc)throw de;var He=bn(29,de,null,U.mode);return He.lanes=X,He.return=U,He}finally{}}}var Ws=Py(!0),jy=Py(!1),jr=!1;function _d(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ur(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function zr(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Sc(n),by(n,null,a),r}return xc(n,u,r,a),Sc(n)}function bl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Yo(n,a)}}function Ed(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var bd=!1;function Tl(){if(bd){var n=Ka;if(n!==null)throw n}}function wl(n,r,a,u){bd=!1;var f=n.updateQueue;jr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var D=x,H=D.next;D.next=null,v===null?d=H:v.next=H,v=D;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,x=Q.lastBaseUpdate,x!==v&&(x===null?Q.firstBaseUpdate=H:x.next=H,Q.lastBaseUpdate=D))}if(d!==null){var W=f.baseState;v=0,Q=H=D=null,x=d;do{var G=x.lane&-536870913,K=G!==x.lane;if(K?(Ve&G)===G:(u&G)===G){G!==0&&G===$a&&(bd=!0),Q!==null&&(Q=Q.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var fe=n,ve=x;G=r;var nt=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){W=fe.call(nt,W,G);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,G=typeof fe=="function"?fe.call(nt,W,G):fe,G==null)break e;W=T({},W,G);break e;case 2:jr=!0}}G=x.callback,G!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Q===null?(H=Q=K,D=W):Q=Q.next=K,v|=G;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;K=x,x=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Q===null&&(D=W),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),Gr|=v,n.lanes=v,n.memoizedState=W}}function Uy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function zy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Uy(a[n],r)}var Xa=L(null),Vc=L(0);function By(n,r){n=rr,le(Vc,n),le(Xa,r),rr=n|r.baseLanes}function Td(){le(Vc,rr),le(Xa,Xa.current)}function wd(){rr=Vc.current,Z(Xa),Z(Vc)}var Tn=L(null),Bn=null;function Br(n){var r=n.alternate;le(vt,vt.current&1),le(Tn,n),Bn===null&&(r===null||Xa.current!==null||r.memoizedState!==null)&&(Bn=n)}function xd(n){le(vt,vt.current),le(Tn,n),Bn===null&&(Bn=n)}function qy(n){n.tag===22?(le(vt,vt.current),le(Tn,n),Bn===null&&(Bn=n)):qr()}function qr(){le(vt,vt.current),le(Tn,Tn.current)}function wn(n){Z(Tn),Bn===n&&(Bn=null),Z(vt)}var vt=L(0);function Lc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nm(a)||km(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Xi=0,Ie=null,et=null,Ct=null,Pc=!1,Ja=!1,Zs=!1,jc=0,xl=0,Wa=null,Mx=0;function pt(){throw Error(s(321))}function Sd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!En(n[a],r[a]))return!1;return!0}function Ad(n,r,a,u,f,d){return Xi=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=n===null||n.memoizedState===null?S0:Bd,Zs=!1,d=a(u,f),Zs=!1,Ja&&(d=Fy(r,a,u,f)),Hy(n),d}function Hy(n){Y.H=Rl;var r=et!==null&&et.next!==null;if(Xi=0,Ct=et=Ie=null,Pc=!1,xl=0,Wa=null,r)throw Error(s(300));n===null||It||(n=n.dependencies,n!==null&&Cc(n)&&(It=!0))}function Fy(n,r,a,u){Ie=n;var f=0;do{if(Ja&&(Wa=null),xl=0,Ja=!1,25<=f)throw Error(s(301));if(f+=1,Ct=et=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=A0,d=r(a,u)}while(Ja);return d}function Vx(){var n=Y.H,r=n.useState()[0];return r=typeof r.then=="function"?Sl(r):r,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(Ie.flags|=1024),r}function Rd(){var n=jc!==0;return jc=0,n}function Cd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Id(n){if(Pc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Pc=!1}Xi=0,Ct=et=Ie=null,Ja=!1,xl=jc=0,Wa=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ie.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function Et(){if(et===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var r=Ct===null?Ie.memoizedState:Ct.next;if(r!==null)Ct=r,et=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?Ie.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(n){var r=xl;return xl+=1,Wa===null&&(Wa=[]),n=My(Wa,n,r),r=Ie,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?S0:Bd),n}function zc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Sl(n);if(n.$$typeof===ne)return Kt(n)}throw Error(s(438,String(n)))}function Nd(n){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Uc(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=M;return r.index++,a}function Ji(n,r){return typeof r=="function"?r(n):r}function Bc(n){var r=Et();return kd(r,et,n)}function kd(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,d=u.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,u.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var x=v=null,D=null,H=r,Q=!1;do{var W=H.lane&-536870913;if(W!==H.lane?(Ve&W)===W:(Xi&W)===W){var G=H.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),W===$a&&(Q=!0);else if((Xi&G)===G){H=H.next,G===$a&&(Q=!0);continue}else W={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(x=D=W,v=d):D=D.next=W,Ie.lanes|=G,Gr|=G;W=H.action,Zs&&a(d,W),d=H.hasEagerState?H.eagerState:a(d,W)}else G={lane:W,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(x=D=G,v=d):D=D.next=G,Ie.lanes|=W,Gr|=W;H=H.next}while(H!==null&&H!==r);if(D===null?v=d:D.next=x,!En(d,n.memoizedState)&&(It=!0,Q&&(a=Ka,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=D,u.lastRenderedState=d}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Dd(n){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=n(d,v.action),v=v.next;while(v!==f);En(d,r.memoizedState)||(It=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,u]}function Gy(n,r,a){var u=Ie,f=Et(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!En((et||f).memoizedState,a);if(v&&(f.memoizedState=a,It=!0),f=f.queue,Vd(Yy.bind(null,u,f,n),[n]),f.getSnapshot!==r||v||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,Za(9,{destroy:void 0},Ky.bind(null,u,f,a,r),null),rt===null)throw Error(s(349));d||(Xi&127)!==0||$y(u,r,a)}return a}function $y(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Uc(),Ie.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Ky(n,r,a,u){r.value=a,r.getSnapshot=u,Qy(r)&&Xy(n)}function Yy(n,r,a){return a(function(){Qy(r)&&Xy(n)})}function Qy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!En(n,a)}catch{return!0}}function Xy(n){var r=Fs(n,2);r!==null&&pn(r,n,2)}function Od(n){var r=ln();if(typeof n=="function"){var a=n;if(n=a(),Zs){kn(!0);try{a()}finally{kn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:n},r}function Jy(n,r,a,u){return n.baseState=a,kd(n,et,typeof u=="function"?u:Ji)}function Lx(n,r,a,u,f){if(Fc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,u(d),a=r.pending,a===null?(d.next=r.pending=d,Wy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Wy(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var d=Y.T,v={};Y.T=v;try{var x=a(f,u),D=Y.S;D!==null&&D(v,x),Zy(n,r,x)}catch(H){Md(n,r,H)}finally{d!==null&&v.types!==null&&(d.types=v.types),Y.T=d}}else try{d=a(f,u),Zy(n,r,d)}catch(H){Md(n,r,H)}}function Zy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){e0(n,r,u)},function(u){return Md(n,r,u)}):e0(n,r,a)}function e0(n,r,a){r.status="fulfilled",r.value=a,t0(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Wy(n,a)))}function Md(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,t0(r),r=r.next;while(r!==u)}n.action=null}function t0(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function n0(n,r){return r}function i0(n,r){if(ze){var a=rt.formState;if(a!==null){e:{var u=Ie;if(ze){if(at){t:{for(var f=at,d=zn;f.nodeType!==8;){if(!d){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){at=qn(f.nextSibling),u=f.data==="F!";break e}}Lr(u)}u=!1}u&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n0,lastRenderedState:r},a.queue=u,a=T0.bind(null,Ie,u),u.dispatch=a,u=Od(!1),d=zd.bind(null,Ie,!1,u.queue),u=ln(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=Lx.bind(null,Ie,f,d,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function r0(n){var r=Et();return s0(r,et,n)}function s0(n,r,a){if(r=kd(n,r,n0)[0],n=Bc(Ji)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Sl(r)}catch(v){throw v===Ya?kc:v}else u=r;r=Et();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Za(9,{destroy:void 0},Px.bind(null,f,a),null)),[u,d,n]}function Px(n,r){n.action=r}function a0(n){var r=Et(),a=et;if(a!==null)return s0(r,a,n);Et(),r=r.memoizedState,a=Et();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function Za(n,r,a,u){return n={tag:n,create:a,deps:u,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Uc(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function o0(){return Et().memoizedState}function qc(n,r,a,u){var f=ln();Ie.flags|=n,f.memoizedState=Za(1|r,{destroy:void 0},a,u===void 0?null:u)}function Hc(n,r,a,u){var f=Et();u=u===void 0?null:u;var d=f.memoizedState.inst;et!==null&&u!==null&&Sd(u,et.memoizedState.deps)?f.memoizedState=Za(r,d,a,u):(Ie.flags|=n,f.memoizedState=Za(1|r,d,a,u))}function l0(n,r){qc(8390656,8,n,r)}function Vd(n,r){Hc(2048,8,n,r)}function jx(n){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=Uc(),Ie.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function u0(n){var r=Et().memoizedState;return jx({ref:r,nextImpl:n}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function c0(n,r){return Hc(4,2,n,r)}function h0(n,r){return Hc(4,4,n,r)}function f0(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function d0(n,r,a){a=a!=null?a.concat([n]):null,Hc(4,4,f0.bind(null,r,n),a)}function Ld(){}function m0(n,r){var a=Et();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Sd(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function p0(n,r){var a=Et();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Sd(r,u[1]))return u[0];if(u=n(),Zs){kn(!0);try{n()}finally{kn(!1)}}return a.memoizedState=[u,r],u}function Pd(n,r,a){return a===void 0||(Xi&1073741824)!==0&&(Ve&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=g_(),Ie.lanes|=n,Gr|=n,a)}function g0(n,r,a,u){return En(a,r)?a:Xa.current!==null?(n=Pd(n,a,u),En(n,r)||(It=!0),n):(Xi&42)===0||(Xi&1073741824)!==0&&(Ve&261930)===0?(It=!0,n.memoizedState=a):(n=g_(),Ie.lanes|=n,Gr|=n,r)}function y0(n,r,a,u,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=Y.T,x={};Y.T=x,zd(n,!1,r,a);try{var D=f(),H=Y.S;if(H!==null&&H(x,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=Ox(D,u);Al(n,r,Q,An(n))}else Al(n,r,u,An(n))}catch(W){Al(n,r,{then:function(){},status:"rejected",reason:W},An())}finally{ae.p=d,v!==null&&x.types!==null&&(v.types=x.types),Y.T=v}}function Ux(){}function jd(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=_0(n).queue;y0(n,f,r,me,a===null?Ux:function(){return v0(n),a(u)})}function _0(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function v0(n){var r=_0(n);r.next===null&&(r=n.alternate.memoizedState),Al(n,r.next.queue,{},An())}function Ud(){return Kt(Hl)}function E0(){return Et().memoizedState}function b0(){return Et().memoizedState}function zx(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=An();n=Ur(a);var u=zr(r,n,a);u!==null&&(pn(u,r,a),bl(u,r,a)),r={cache:md()},n.payload=r;return}r=r.return}}function Bx(n,r,a){var u=An();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fc(n)?w0(r,a):(a=id(n,r,a,u),a!==null&&(pn(a,n,u),x0(a,r,u)))}function T0(n,r,a){var u=An();Al(n,r,a,u)}function Al(n,r,a,u){var f={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fc(n))w0(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,x=d(v,a);if(f.hasEagerState=!0,f.eagerState=x,En(x,v))return xc(n,r,f,0),rt===null&&wc(),!1}catch{}finally{}if(a=id(n,r,f,u),a!==null)return pn(a,n,u),x0(a,r,u),!0}return!1}function zd(n,r,a,u){if(u={lane:2,revertLane:_m(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Fc(n)){if(r)throw Error(s(479))}else r=id(n,a,u,2),r!==null&&pn(r,n,2)}function Fc(n){var r=n.alternate;return n===Ie||r!==null&&r===Ie}function w0(n,r){Ja=Pc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function x0(n,r,a){if((a&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Yo(n,a)}}var Rl={readContext:Kt,use:zc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Rl.useEffectEvent=pt;var S0={readContext:Kt,use:zc,useCallback:function(n,r){return ln().memoizedState=[n,r===void 0?null:r],n},useContext:Kt,useEffect:l0,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,qc(4194308,4,f0.bind(null,r,n),a)},useLayoutEffect:function(n,r){return qc(4194308,4,n,r)},useInsertionEffect:function(n,r){qc(4,2,n,r)},useMemo:function(n,r){var a=ln();r=r===void 0?null:r;var u=n();if(Zs){kn(!0);try{n()}finally{kn(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=ln();if(a!==void 0){var f=a(r);if(Zs){kn(!0);try{a(r)}finally{kn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=Bx.bind(null,Ie,n),[u.memoizedState,n]},useRef:function(n){var r=ln();return n={current:n},r.memoizedState=n},useState:function(n){n=Od(n);var r=n.queue,a=T0.bind(null,Ie,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Ld,useDeferredValue:function(n,r){var a=ln();return Pd(a,n,r)},useTransition:function(){var n=Od(!1);return n=y0.bind(null,Ie,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=Ie,f=ln();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));(Ve&127)!==0||$y(u,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,l0(Yy.bind(null,u,d,n),[n]),u.flags|=2048,Za(9,{destroy:void 0},Ky.bind(null,u,d,a,r),null),a},useId:function(){var n=ln(),r=rt.identifierPrefix;if(ze){var a=ki,u=Ni;a=(u&~(1<<32-yt(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=jc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Mx++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Ud,useFormState:i0,useActionState:i0,useOptimistic:function(n){var r=ln();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=zd.bind(null,Ie,!0,a),a.dispatch=r,[n,r]},useMemoCache:Nd,useCacheRefresh:function(){return ln().memoizedState=zx.bind(null,Ie)},useEffectEvent:function(n){var r=ln(),a={impl:n};return r.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Bd={readContext:Kt,use:zc,useCallback:m0,useContext:Kt,useEffect:Vd,useImperativeHandle:d0,useInsertionEffect:c0,useLayoutEffect:h0,useMemo:p0,useReducer:Bc,useRef:o0,useState:function(){return Bc(Ji)},useDebugValue:Ld,useDeferredValue:function(n,r){var a=Et();return g0(a,et.memoizedState,n,r)},useTransition:function(){var n=Bc(Ji)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:Sl(n),r]},useSyncExternalStore:Gy,useId:E0,useHostTransitionStatus:Ud,useFormState:r0,useActionState:r0,useOptimistic:function(n,r){var a=Et();return Jy(a,et,n,r)},useMemoCache:Nd,useCacheRefresh:b0};Bd.useEffectEvent=u0;var A0={readContext:Kt,use:zc,useCallback:m0,useContext:Kt,useEffect:Vd,useImperativeHandle:d0,useInsertionEffect:c0,useLayoutEffect:h0,useMemo:p0,useReducer:Dd,useRef:o0,useState:function(){return Dd(Ji)},useDebugValue:Ld,useDeferredValue:function(n,r){var a=Et();return et===null?Pd(a,n,r):g0(a,et.memoizedState,n,r)},useTransition:function(){var n=Dd(Ji)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:Sl(n),r]},useSyncExternalStore:Gy,useId:E0,useHostTransitionStatus:Ud,useFormState:a0,useActionState:a0,useOptimistic:function(n,r){var a=Et();return et!==null?Jy(a,et,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:b0};A0.useEffectEvent=u0;function qd(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:T({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Hd={enqueueSetState:function(n,r,a){n=n._reactInternals;var u=An(),f=Ur(u);f.payload=r,a!=null&&(f.callback=a),r=zr(n,f,u),r!==null&&(pn(r,n,u),bl(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=An(),f=Ur(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=zr(n,f,u),r!==null&&(pn(r,n,u),bl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=An(),u=Ur(a);u.tag=2,r!=null&&(u.callback=r),r=zr(n,u,a),r!==null&&(pn(r,n,a),bl(r,n,a))}};function R0(n,r,a,u,f,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,d,v):r.prototype&&r.prototype.isPureReactComponent?!dl(a,u)||!dl(f,d):!0}function C0(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&Hd.enqueueReplaceState(r,r.state,null)}function ea(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function I0(n){Tc(n)}function N0(n){console.error(n)}function k0(n){Tc(n)}function Gc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function D0(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fd(n,r,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){Gc(n,r)},a}function O0(n){return n=Ur(n),n.tag=3,n}function M0(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;n.payload=function(){return f(d)},n.callback=function(){D0(r,a,u)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){D0(r,a,u),typeof f!="function"&&($r===null?$r=new Set([this]):$r.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function qx(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Ga(r,a,f,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?ih():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Dc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),pm(n,u,f)),!1;case 22:return a.flags|=65536,u===Dc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),pm(n,u,f)),!1}throw Error(s(435,a.tag))}return pm(n,u,f),ih(),!1}if(ze)return r=Tn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==ud&&(n=Error(s(422),{cause:u}),gl(Pn(n,a)))):(u!==ud&&(r=Error(s(423),{cause:u}),gl(Pn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Pn(u,a),f=Fd(n.stateNode,u,f),Ed(n,f),gt!==4&&(gt=2)),!1;var d=Error(s(520),{cause:u});if(d=Pn(d,a),Vl===null?Vl=[d]:Vl.push(d),gt!==4&&(gt=2),r===null)return!0;u=Pn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Fd(a.stateNode,u,n),Ed(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($r===null||!$r.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=O0(f),M0(f,n,a,u),Ed(a,f),!1}a=a.return}while(a!==null);return!1}var Gd=Error(s(461)),It=!1;function Yt(n,r,a,u){r.child=n===null?jy(r,null,a,u):Ws(r,n.child,a,u)}function V0(n,r,a,u,f){a=a.render;var d=r.ref;if("ref"in u){var v={};for(var x in u)x!=="ref"&&(v[x]=u[x])}else v=u;return Ys(r),u=Ad(n,r,a,v,d,f),x=Rd(),n!==null&&!It?(Cd(n,r,f),Wi(n,r,f)):(ze&&x&&od(r),r.flags|=1,Yt(n,r,u,f),r.child)}function L0(n,r,a,u,f){if(n===null){var d=a.type;return typeof d=="function"&&!rd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,P0(n,r,d,u,f)):(n=Ac(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Zd(n,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(v,u)&&n.ref===r.ref)return Wi(n,r,f)}return r.flags|=1,n=$i(d,u),n.ref=r.ref,n.return=r,r.child=n}function P0(n,r,a,u,f){if(n!==null){var d=n.memoizedProps;if(dl(d,u)&&n.ref===r.ref)if(It=!1,r.pendingProps=u=d,Zd(n,f))(n.flags&131072)!==0&&(It=!0);else return r.lanes=n.lanes,Wi(n,r,f)}return $d(n,r,a,u,f)}function j0(n,r,a,u){var f=u.children,d=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(u=r.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~d}else u=0,r.child=null;return U0(n,r,d,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nc(r,d!==null?d.cachePool:null),d!==null?By(r,d):Td(),qy(r);else return u=r.lanes=536870912,U0(n,r,d!==null?d.baseLanes|a:a,a,u)}else d!==null?(Nc(r,d.cachePool),By(r,d),qr(),r.memoizedState=null):(n!==null&&Nc(r,null),Td(),qr());return Yt(n,r,f,a),r.child}function Cl(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function U0(n,r,a,u,f){var d=gd();return d=d===null?null:{parent:Rt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&Nc(r,null),Td(),qy(r),n!==null&&Ga(n,r,u,!0),r.childLanes=f,null}function $c(n,r){return r=Yc({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function z0(n,r,a){return Ws(r,n.child,null,a),n=$c(r,r.pendingProps),n.flags|=2,wn(r),r.memoizedState=null,n}function Hx(n,r,a){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(ze){if(u.mode==="hidden")return n=$c(r,u),r.lanes=536870912,Cl(null,n);if(xd(r),(n=at)?(n=W_(n,zn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Mr!==null?{id:Ni,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=wy(n),a.return=r,r.child=a,$t=r,at=null)):n=null,n===null)throw Lr(r);return r.lanes=536870912,null}return $c(r,u)}var d=n.memoizedState;if(d!==null){var v=d.dehydrated;if(xd(r),f)if(r.flags&256)r.flags&=-257,r=z0(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(It||Ga(n,r,a,!1),f=(a&n.childLanes)!==0,It||f){if(u=rt,u!==null&&(v=Qo(u,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Fs(n,v),pn(u,n,v),Gd;ih(),r=z0(n,r,a)}else n=d.treeContext,at=qn(v.nextSibling),$t=r,ze=!0,Vr=null,zn=!1,n!==null&&Ay(r,n),r=$c(r,u),r.flags|=4096;return r}return n=$i(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Kc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function $d(n,r,a,u,f){return Ys(r),a=Ad(n,r,a,u,void 0,f),u=Rd(),n!==null&&!It?(Cd(n,r,f),Wi(n,r,f)):(ze&&u&&od(r),r.flags|=1,Yt(n,r,a,f),r.child)}function B0(n,r,a,u,f,d){return Ys(r),r.updateQueue=null,a=Fy(r,u,a,f),Hy(n),u=Rd(),n!==null&&!It?(Cd(n,r,d),Wi(n,r,d)):(ze&&u&&od(r),r.flags|=1,Yt(n,r,a,d),r.child)}function q0(n,r,a,u,f){if(Ys(r),r.stateNode===null){var d=Ba,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},_d(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Ba,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(qd(r,a,v,u),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Hd.enqueueReplaceState(d,d.state,null),wl(r,u,d,f),Tl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){d=r.stateNode;var x=r.memoizedProps,D=ea(a,x);d.props=D;var H=d.context,Q=a.contextType;v=Ba,typeof Q=="object"&&Q!==null&&(v=Kt(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||H!==v)&&C0(r,d,u,v),jr=!1;var G=r.memoizedState;d.state=G,wl(r,u,d,f),Tl(),H=r.memoizedState,x||G!==H||jr?(typeof W=="function"&&(qd(r,a,W,u),H=r.memoizedState),(D=jr||R0(r,a,D,u,G,H,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=H),d.props=u,d.state=H,d.context=v,u=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,vd(n,r),v=r.memoizedProps,Q=ea(a,v),d.props=Q,W=r.pendingProps,G=d.context,H=a.contextType,D=Ba,typeof H=="object"&&H!==null&&(D=Kt(H)),x=a.getDerivedStateFromProps,(H=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||G!==D)&&C0(r,d,u,D),jr=!1,G=r.memoizedState,d.state=G,wl(r,u,d,f),Tl();var K=r.memoizedState;v!==W||G!==K||jr||n!==null&&n.dependencies!==null&&Cc(n.dependencies)?(typeof x=="function"&&(qd(r,a,x,u),K=r.memoizedState),(Q=jr||R0(r,a,Q,u,G,K,D)||n!==null&&n.dependencies!==null&&Cc(n.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,K,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=K),d.props=u,d.state=K,d.context=D,u=Q):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),u=!1)}return d=u,Kc(n,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&u?(r.child=Ws(r,n.child,null,f),r.child=Ws(r,null,a,f)):Yt(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Wi(n,r,f),n}function H0(n,r,a,u){return $s(),r.flags|=256,Yt(n,r,a,u),r.child}var Kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(n){return{baseLanes:n,cachePool:Dy()}}function Qd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Sn),n}function F0(n,r,a){var u=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(vt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(ze){if(f?Br(r):qr(),(n=at)?(n=W_(n,zn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Mr!==null?{id:Ni,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=wy(n),a.return=r,r.child=a,$t=r,at=null)):n=null,n===null)throw Lr(r);return km(n)?r.lanes=32:r.lanes=536870912,null}var x=u.children;return u=u.fallback,f?(qr(),f=r.mode,x=Yc({mode:"hidden",children:x},f),u=Gs(u,f,a,null),x.return=r,u.return=r,x.sibling=u,r.child=x,u=r.child,u.memoizedState=Yd(a),u.childLanes=Qd(n,v,a),r.memoizedState=Kd,Cl(null,u)):(Br(r),Xd(r,x))}var D=n.memoizedState;if(D!==null&&(x=D.dehydrated,x!==null)){if(d)r.flags&256?(Br(r),r.flags&=-257,r=Jd(n,r,a)):r.memoizedState!==null?(qr(),r.child=n.child,r.flags|=128,r=null):(qr(),x=u.fallback,f=r.mode,u=Yc({mode:"visible",children:u.children},f),x=Gs(x,f,a,null),x.flags|=2,u.return=r,x.return=r,u.sibling=x,r.child=u,Ws(r,n.child,null,a),u=r.child,u.memoizedState=Yd(a),u.childLanes=Qd(n,v,a),r.memoizedState=Kd,r=Cl(null,u));else if(Br(r),km(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var H=v.dgst;v=H,u=Error(s(419)),u.stack="",u.digest=v,gl({value:u,source:null,stack:null}),r=Jd(n,r,a)}else if(It||Ga(n,r,a,!1),v=(a&n.childLanes)!==0,It||v){if(v=rt,v!==null&&(u=Qo(v,a),u!==0&&u!==D.retryLane))throw D.retryLane=u,Fs(n,u),pn(v,n,u),Gd;Nm(x)||ih(),r=Jd(n,r,a)}else Nm(x)?(r.flags|=192,r.child=n.child,r=null):(n=D.treeContext,at=qn(x.nextSibling),$t=r,ze=!0,Vr=null,zn=!1,n!==null&&Ay(r,n),r=Xd(r,u.children),r.flags|=4096);return r}return f?(qr(),x=u.fallback,f=r.mode,D=n.child,H=D.sibling,u=$i(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,H!==null?x=$i(H,x):(x=Gs(x,f,a,null),x.flags|=2),x.return=r,u.return=r,u.sibling=x,r.child=u,Cl(null,u),u=r.child,x=n.child.memoizedState,x===null?x=Yd(a):(f=x.cachePool,f!==null?(D=Rt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Dy(),x={baseLanes:x.baseLanes|a,cachePool:f}),u.memoizedState=x,u.childLanes=Qd(n,v,a),r.memoizedState=Kd,Cl(n.child,u)):(Br(r),a=n.child,n=a.sibling,a=$i(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function Xd(n,r){return r=Yc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Yc(n,r){return n=bn(22,n,null,r),n.lanes=0,n}function Jd(n,r,a){return Ws(r,n.child,null,a),n=Xd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function G0(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),fd(n.return,r,a)}function Wd(n,r,a,u,f,d){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function $0(n,r,a){var u=r.pendingProps,f=u.revealOrder,d=u.tail;u=u.children;var v=vt.current,x=(v&2)!==0;if(x?(v=v&1|2,r.flags|=128):v&=1,le(vt,v),Yt(n,r,u,a),u=ze?pl:0,!x&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&G0(n,a,r);else if(n.tag===19)G0(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Lc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Wd(r,!1,f,a,d,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Lc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Wd(r,!0,a,null,d,u);break;case"together":Wd(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Wi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Gr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Ga(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=$i(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=$i(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Zd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Cc(n)))}function Fx(n,r,a){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),Pr(r,Rt,n.memoizedState.cache),$s();break;case 27:case 5:As(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,xd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Br(r),r.flags|=128,null):(a&r.child.childLanes)!==0?F0(n,r,a):(Br(r),n=Wi(n,r,a),n!==null?n.sibling:null);Br(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Ga(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return $0(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(vt,vt.current),u)break;return null;case 22:return r.lanes=0,j0(n,r,a,r.pendingProps);case 24:Pr(r,Rt,n.memoizedState.cache)}return Wi(n,r,a)}function K0(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)It=!0;else{if(!Zd(n,a)&&(r.flags&128)===0)return It=!1,Fx(n,r,a);It=(n.flags&131072)!==0}else It=!1,ze&&(r.flags&1048576)!==0&&Sy(r,pl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=Xs(r.elementType),r.type=n,typeof n=="function")rd(n)?(u=ea(n,u),r.tag=1,r=q0(null,r,n,u,a)):(r.tag=0,r=$d(null,r,n,u,a));else{if(n!=null){var f=n.$$typeof;if(f===ye){r.tag=11,r=V0(null,r,n,u,a);break e}else if(f===N){r.tag=14,r=L0(null,r,n,u,a);break e}}throw r=re(n)||n,Error(s(306,r,""))}}return r;case 0:return $d(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=ea(u,r.pendingProps),q0(n,r,u,f,a);case 3:e:{if(Vt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var d=r.memoizedState;f=d.element,vd(n,r),wl(r,u,null,a);var v=r.memoizedState;if(u=v.cache,Pr(r,Rt,u),u!==d.cache&&dd(r,[Rt],a,!0),Tl(),u=v.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=H0(n,r,u,a);break e}else if(u!==f){f=Pn(Error(s(424)),r),gl(f),r=H0(n,r,u,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(at=qn(n.firstChild),$t=r,ze=!0,Vr=null,zn=!0,a=jy(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($s(),u===f){r=Wi(n,r,a);break e}Yt(n,r,u,a)}r=r.child}return r;case 26:return Kc(n,r),n===null?(a=rv(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,n=r.pendingProps,u=ch(Ne.current).createElement(a),u[xt]=r,u[Ut]=n,Qt(u,a,n),St(u),r.stateNode=u):r.memoizedState=rv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return As(r),n===null&&ze&&(u=r.stateNode=tv(r.type,r.pendingProps,Ne.current),$t=r,zn=!0,f=at,Xr(r.type)?(Dm=f,at=qn(u.firstChild)):at=f),Yt(n,r,r.pendingProps.children,a),Kc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&ze&&((f=u=at)&&(u=ES(u,r.type,r.pendingProps,zn),u!==null?(r.stateNode=u,$t=r,at=qn(u.firstChild),zn=!1,f=!0):f=!1),f||Lr(r)),As(r),f=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,u=d.children,Rm(f,d)?u=null:v!==null&&Rm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Ad(n,r,Vx,null,null,a),Hl._currentValue=f),Kc(n,r),Yt(n,r,u,a),r.child;case 6:return n===null&&ze&&((n=a=at)&&(a=bS(a,r.pendingProps,zn),a!==null?(r.stateNode=a,$t=r,at=null,n=!0):n=!1),n||Lr(r)),null;case 13:return F0(n,r,a);case 4:return Vt(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Ws(r,null,u,a):Yt(n,r,u,a),r.child;case 11:return V0(n,r,r.type,r.pendingProps,a);case 7:return Yt(n,r,r.pendingProps,a),r.child;case 8:return Yt(n,r,r.pendingProps.children,a),r.child;case 12:return Yt(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,Pr(r,r.type,u.value),Yt(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Ys(r),f=Kt(f),u=u(f),r.flags|=1,Yt(n,r,u,a),r.child;case 14:return L0(n,r,r.type,r.pendingProps,a);case 15:return P0(n,r,r.type,r.pendingProps,a);case 19:return $0(n,r,a);case 31:return Hx(n,r,a);case 22:return j0(n,r,a,r.pendingProps);case 24:return Ys(r),u=Kt(Rt),n===null?(f=gd(),f===null&&(f=rt,d=md(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:u,cache:f},_d(r),Pr(r,Rt,f)):((n.lanes&a)!==0&&(vd(n,r),wl(r,null,null,a),Tl()),f=n.memoizedState,d=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Pr(r,Rt,u)):(u=d.cache,Pr(r,Rt,u),u!==f.cache&&dd(r,[Rt],a,!0))),Yt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zi(n){n.flags|=4}function em(n,r,a,u,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(E_())n.flags|=8192;else throw Js=Dc,yd}else n.flags&=-16777217}function Y0(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!uv(r))if(E_())n.flags|=8192;else throw Js=Dc,yd}function Qc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?tc():536870912,n.lanes|=r,io|=r)}function Il(n,r){if(!ze)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ot(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function Gx(n,r,a){var u=r.pendingProps;switch(ld(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Qi(Rt),ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Fa(r)?Zi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,cd())),ot(r),null;case 26:var f=r.type,d=r.memoizedState;return n===null?(Zi(r),d!==null?(ot(r),Y0(r,d)):(ot(r),em(r,f,null,u,a))):d?d!==n.memoizedState?(Zi(r),ot(r),Y0(r,d)):(ot(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&Zi(r),ot(r),em(r,f,n,u,a)),null;case 27:if(Ta(r),a=Ne.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Zi(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}n=he.current,Fa(r)?Ry(r):(n=tv(f,u,a),r.stateNode=n,Zi(r))}return ot(r),null;case 5:if(Ta(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Zi(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(d=he.current,Fa(r))Ry(r);else{var v=ch(Ne.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?d.multiple=!0:u.size&&(d.size=u.size);break;default:d=typeof u.is=="string"?v.createElement(f,{is:u.is}):v.createElement(f)}}d[xt]=r,d[Ut]=u;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(Qt(d,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Zi(r)}}return ot(r),em(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Zi(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ne.current,Fa(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=$t,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[xt]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||F_(n.nodeValue,a)),n||Lr(r,!0)}else n=ch(n).createTextNode(u),n[xt]=r,r.stateNode=n}return ot(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(u=Fa(r),a!==null){if(n===null){if(!u)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[xt]=r}else $s(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),n=!1}else a=cd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(wn(r),r):(wn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ot(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Fa(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xt]=r}else $s(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),f=!1}else f=cd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(wn(r),r):(wn(r),null)}return wn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,n=n!==null&&n.memoizedState!==null,a&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),d=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),Qc(r,r.updateQueue),ot(r),null);case 4:return ct(),n===null&&Tm(r.stateNode.containerInfo),ot(r),null;case 10:return Qi(r.type),ot(r),null;case 19:if(Z(vt),u=r.memoizedState,u===null)return ot(r),null;if(f=(r.flags&128)!==0,d=u.rendering,d===null)if(f)Il(u,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Lc(n),d!==null){for(r.flags|=128,Il(u,!1),n=d.updateQueue,r.updateQueue=n,Qc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Ty(a,n),a=a.sibling;return le(vt,vt.current&1|2),ze&&Ki(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&an()>eh&&(r.flags|=128,f=!0,Il(u,!1),r.lanes=4194304)}else{if(!f)if(n=Lc(d),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,Qc(r,n),Il(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!ze)return ot(r),null}else 2*an()-u.renderingStartTime>eh&&a!==536870912&&(r.flags|=128,f=!0,Il(u,!1),r.lanes=4194304);u.isBackwards?(d.sibling=r.child,r.child=d):(n=u.last,n!==null?n.sibling=d:r.child=d,u.last=d)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=an(),n.sibling=null,a=vt.current,le(vt,f?a&1|2:a&1),ze&&Ki(r,u.treeForkCount),n):(ot(r),null);case 22:case 23:return wn(r),wd(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&Qc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&Z(Qs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Qi(Rt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function $x(n,r){switch(ld(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Qi(Rt),ct(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ta(r),null;case 31:if(r.memoizedState!==null){if(wn(r),r.alternate===null)throw Error(s(340));$s()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(wn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));$s()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Z(vt),null;case 4:return ct(),null;case 10:return Qi(r.type),null;case 22:case 23:return wn(r),wd(),n!==null&&Z(Qs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Qi(Rt),null;case 25:return null;default:return null}}function Q0(n,r){switch(ld(r),r.tag){case 3:Qi(Rt),ct();break;case 26:case 27:case 5:Ta(r);break;case 4:ct();break;case 31:r.memoizedState!==null&&wn(r);break;case 13:wn(r);break;case 19:Z(vt);break;case 10:Qi(r.type);break;case 22:case 23:wn(r),wd(),n!==null&&Z(Qs);break;case 24:Qi(Rt)}}function Nl(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var d=a.create,v=a.inst;u=d(),v.destroy=u}a=a.next}while(a!==f)}}catch(x){We(r,r.return,x)}}function Hr(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&n)===n){var v=u.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,f=r;var D=a,H=x;try{H()}catch(Q){We(f,D,Q)}}}u=u.next}while(u!==d)}}catch(Q){We(r,r.return,Q)}}function X0(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{zy(r,a)}catch(u){We(n,n.return,u)}}}function J0(n,r,a){a.props=ea(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){We(n,r,u)}}function kl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(f){We(n,r,f)}}function Di(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){We(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(n,r,f)}else a.current=null}function W0(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){We(n,n.return,f)}}function tm(n,r,a){try{var u=n.stateNode;mS(u,n.type,a,r),u[Ut]=r}catch(f){We(n,n.return,f)}}function Z0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xr(n.type)||n.tag===4}function nm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Z0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function im(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Wn));else if(u!==4&&(u===27&&Xr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(im(n,r,a),n=n.sibling;n!==null;)im(n,r,a),n=n.sibling}function Xc(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&(u===27&&Xr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Xc(n,r,a),n=n.sibling;n!==null;)Xc(n,r,a),n=n.sibling}function e_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Qt(r,u,a),r[xt]=n,r[Ut]=a}catch(d){We(n,n.return,d)}}var er=!1,Nt=!1,rm=!1,t_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Kx(n,r){if(n=n.containerInfo,Sm=yh,n=dy(n),Jf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,x=-1,D=-1,H=0,Q=0,W=n,G=null;t:for(;;){for(var K;W!==a||f!==0&&W.nodeType!==3||(x=v+f),W!==d||u!==0&&W.nodeType!==3||(D=v+u),W.nodeType===3&&(v+=W.nodeValue.length),(K=W.firstChild)!==null;)G=W,W=K;for(;;){if(W===n)break t;if(G===a&&++H===f&&(x=v),G===d&&++Q===u&&(D=v),(K=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=K}a=x===-1||D===-1?null:{start:x,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Am={focusedElem:n,selectionRange:a},yh=!1,Bt=r;Bt!==null;)if(r=Bt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Bt=n;else for(;Bt!==null;){switch(r=Bt,d=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var fe=ea(a.type,f);n=u.getSnapshotBeforeUpdate(fe,d),u.__reactInternalSnapshotBeforeUpdate=n}catch(ve){We(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Im(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Im(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Bt=n;break}Bt=r.return}}function n_(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:nr(n,a),u&4&&Nl(5,a);break;case 1:if(nr(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(v){We(a,a.return,v)}else{var f=ea(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}u&64&&X0(a),u&512&&kl(a,a.return);break;case 3:if(nr(n,a),u&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{zy(n,r)}catch(v){We(a,a.return,v)}}break;case 27:r===null&&u&4&&e_(a);case 26:case 5:nr(n,a),r===null&&u&4&&W0(a),u&512&&kl(a,a.return);break;case 12:nr(n,a);break;case 31:nr(n,a),u&4&&s_(n,a);break;case 13:nr(n,a),u&4&&a_(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=nS.bind(null,a),TS(n,a))));break;case 22:if(u=a.memoizedState!==null||er,!u){r=r!==null&&r.memoizedState!==null||Nt,f=er;var d=Nt;er=u,(Nt=r)&&!d?ir(n,a,(a.subtreeFlags&8772)!==0):nr(n,a),er=f,Nt=d}break;case 30:break;default:nr(n,a)}}function i_(n){var r=n.alternate;r!==null&&(n.alternate=null,i_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Ra(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ft=null,hn=!1;function tr(n,r,a){for(a=a.child;a!==null;)r_(n,r,a),a=a.sibling}function r_(n,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Nt||Di(a,r),tr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Di(a,r);var u=ft,f=hn;Xr(a.type)&&(ft=a.stateNode,hn=!1),tr(n,r,a),zl(a.stateNode),ft=u,hn=f;break;case 5:Nt||Di(a,r);case 6:if(u=ft,f=hn,ft=null,tr(n,r,a),ft=u,hn=f,ft!==null)if(hn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{ft.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:ft!==null&&(hn?(n=ft,X_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),ho(n)):X_(ft,a.stateNode));break;case 4:u=ft,f=hn,ft=a.stateNode.containerInfo,hn=!0,tr(n,r,a),ft=u,hn=f;break;case 0:case 11:case 14:case 15:Hr(2,a,r),Nt||Hr(4,a,r),tr(n,r,a);break;case 1:Nt||(Di(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&J0(a,r,u)),tr(n,r,a);break;case 21:tr(n,r,a);break;case 22:Nt=(u=Nt)||a.memoizedState!==null,tr(n,r,a),Nt=u;break;default:tr(n,r,a)}}function s_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ho(n)}catch(a){We(r,r.return,a)}}}function a_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ho(n)}catch(a){We(r,r.return,a)}}function Yx(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new t_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new t_),r;default:throw Error(s(435,n.tag))}}function Jc(n,r){var a=Yx(n);r.forEach(function(u){if(!a.has(u)){a.add(u);var f=iS.bind(null,n,u);u.then(f,f)}})}function fn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],d=n,v=r,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(Xr(x.type)){ft=x.stateNode,hn=!1;break e}break;case 5:ft=x.stateNode,hn=!1;break e;case 3:case 4:ft=x.stateNode.containerInfo,hn=!0;break e}x=x.return}if(ft===null)throw Error(s(160));r_(d,v,f),ft=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)o_(r,n),r=r.sibling}var ri=null;function o_(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:fn(r,n),dn(n),u&4&&(Hr(3,n,n.return),Nl(3,n),Hr(5,n,n.return));break;case 1:fn(r,n),dn(n),u&512&&(Nt||a===null||Di(a,a.return)),u&64&&er&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=ri;if(fn(r,n),dn(n),u&512&&(Nt||a===null||Di(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[_i]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),Qt(d,u,a),d[xt]=n,St(d),u=d;break e;case"link":var v=ov("link","href",f).get(u+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(d=v[x],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}d=f.createElement(u),Qt(d,u,a),f.head.appendChild(d);break;case"meta":if(v=ov("meta","content",f).get(u+(a.content||""))){for(x=0;x<v.length;x++)if(d=v[x],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}d=f.createElement(u),Qt(d,u,a),f.head.appendChild(d);break;default:throw Error(s(468,u))}d[xt]=n,St(d),u=d}n.stateNode=u}else lv(f,n.type,n.stateNode);else n.stateNode=av(f,u,n.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?lv(f,n.type,n.stateNode):av(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&tm(n,n.memoizedProps,a.memoizedProps)}break;case 27:fn(r,n),dn(n),u&512&&(Nt||a===null||Di(a,a.return)),a!==null&&u&4&&tm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(fn(r,n),dn(n),u&512&&(Nt||a===null||Di(a,a.return)),n.flags&32){f=n.stateNode;try{cn(f,"")}catch(fe){We(n,n.return,fe)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,tm(n,f,a!==null?a.memoizedProps:f)),u&1024&&(rm=!0);break;case 6:if(fn(r,n),dn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(fe){We(n,n.return,fe)}}break;case 3:if(dh=null,f=ri,ri=hh(r.containerInfo),fn(r,n),ri=f,dn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{ho(r.containerInfo)}catch(fe){We(n,n.return,fe)}rm&&(rm=!1,l_(n));break;case 4:u=ri,ri=hh(n.stateNode.containerInfo),fn(r,n),dn(n),ri=u;break;case 12:fn(r,n),dn(n);break;case 31:fn(r,n),dn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Jc(n,u)));break;case 13:fn(r,n),dn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zc=an()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Jc(n,u)));break;case 22:f=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,H=er,Q=Nt;if(er=H||f,Nt=Q||D,fn(r,n),Nt=Q,er=H,dn(n),u&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||er||Nt||ta(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=D.stateNode;var W=D.memoizedProps.style,G=W!=null&&W.hasOwnProperty("display")?W.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(fe){We(D,D.return,fe)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(fe){We(D,D.return,fe)}}}else if(r.tag===18){if(a===null){D=r;try{var K=D.stateNode;f?J_(K,!0):J_(D.stateNode,!1)}catch(fe){We(D,D.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Jc(n,a))));break;case 19:fn(r,n),dn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Jc(n,u)));break;case 30:break;case 21:break;default:fn(r,n),dn(n)}}function dn(n){var r=n.flags;if(r&2){try{for(var a,u=n.return;u!==null;){if(Z0(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=nm(n);Xc(n,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(cn(v,""),a.flags&=-33);var x=nm(n);Xc(n,x,v);break;case 3:case 4:var D=a.stateNode.containerInfo,H=nm(n);im(n,H,D);break;default:throw Error(s(161))}}catch(Q){We(n,n.return,Q)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function l_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;l_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function nr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)n_(n,r.alternate,r),r=r.sibling}function ta(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Hr(4,r,r.return),ta(r);break;case 1:Di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&J0(r,r.return,a),ta(r);break;case 27:zl(r.stateNode);case 26:case 5:Di(r,r.return),ta(r);break;case 22:r.memoizedState===null&&ta(r);break;case 30:ta(r);break;default:ta(r)}n=n.sibling}}function ir(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:ir(f,d,a),Nl(4,d);break;case 1:if(ir(f,d,a),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){We(u,u.return,H)}if(u=d,f=u.updateQueue,f!==null){var x=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Uy(D[f],x)}catch(H){We(u,u.return,H)}}a&&v&64&&X0(d),kl(d,d.return);break;case 27:e_(d);case 26:case 5:ir(f,d,a),a&&u===null&&v&4&&W0(d),kl(d,d.return);break;case 12:ir(f,d,a);break;case 31:ir(f,d,a),a&&v&4&&s_(f,d);break;case 13:ir(f,d,a),a&&v&4&&a_(f,d);break;case 22:d.memoizedState===null&&ir(f,d,a),kl(d,d.return);break;case 30:break;default:ir(f,d,a)}r=r.sibling}}function sm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&yl(a))}function am(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&yl(n))}function si(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)u_(n,r,a,u),r=r.sibling}function u_(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:si(n,r,a,u),f&2048&&Nl(9,r);break;case 1:si(n,r,a,u);break;case 3:si(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&yl(n)));break;case 12:if(f&2048){si(n,r,a,u),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,x=d.onPostCommit;typeof x=="function"&&x(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){We(r,r.return,D)}}else si(n,r,a,u);break;case 31:si(n,r,a,u);break;case 13:si(n,r,a,u);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?si(n,r,a,u):Dl(n,r):d._visibility&2?si(n,r,a,u):(d._visibility|=2,eo(n,r,a,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&sm(v,r);break;case 24:si(n,r,a,u),f&2048&&am(r.alternate,r);break;default:si(n,r,a,u)}}function eo(n,r,a,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=n,v=r,x=a,D=u,H=v.flags;switch(v.tag){case 0:case 11:case 15:eo(d,v,x,D,f),Nl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?eo(d,v,x,D,f):Dl(d,v):(Q._visibility|=2,eo(d,v,x,D,f)),f&&H&2048&&sm(v.alternate,v);break;case 24:eo(d,v,x,D,f),f&&H&2048&&am(v.alternate,v);break;default:eo(d,v,x,D,f)}r=r.sibling}}function Dl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:Dl(a,u),f&2048&&sm(u.alternate,u);break;case 24:Dl(a,u),f&2048&&am(u.alternate,u);break;default:Dl(a,u)}r=r.sibling}}var Ol=8192;function to(n,r,a){if(n.subtreeFlags&Ol)for(n=n.child;n!==null;)c_(n,r,a),n=n.sibling}function c_(n,r,a){switch(n.tag){case 26:to(n,r,a),n.flags&Ol&&n.memoizedState!==null&&MS(a,ri,n.memoizedState,n.memoizedProps);break;case 5:to(n,r,a);break;case 3:case 4:var u=ri;ri=hh(n.stateNode.containerInfo),to(n,r,a),ri=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Ol,Ol=16777216,to(n,r,a),Ol=u):to(n,r,a));break;default:to(n,r,a)}}function h_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ml(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Bt=u,d_(u,n)}h_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)f_(n),n=n.sibling}function f_(n){switch(n.tag){case 0:case 11:case 15:Ml(n),n.flags&2048&&Hr(9,n,n.return);break;case 3:Ml(n);break;case 12:Ml(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Wc(n)):Ml(n);break;default:Ml(n)}}function Wc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Bt=u,d_(u,n)}h_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Hr(8,r,r.return),Wc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Wc(r));break;default:Wc(r)}n=n.sibling}}function d_(n,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Hr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:yl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Bt=u;else e:for(a=n;Bt!==null;){u=Bt;var f=u.sibling,d=u.return;if(i_(u),u===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var Qx={getCacheForType:function(n){var r=Kt(Rt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return Kt(Rt).controller.signal}},Xx=typeof WeakMap=="function"?WeakMap:Map,$e=0,rt=null,Oe=null,Ve=0,Je=0,xn=null,Fr=!1,no=!1,om=!1,rr=0,gt=0,Gr=0,na=0,lm=0,Sn=0,io=0,Vl=null,mn=null,um=!1,Zc=0,m_=0,eh=1/0,th=null,$r=null,Pt=0,Kr=null,ro=null,sr=0,cm=0,hm=null,p_=null,Ll=0,fm=null;function An(){return($e&2)!==0&&Ve!==0?Ve&-Ve:Y.T!==null?_m():nc()}function g_(){if(Sn===0)if((Ve&536870912)===0||ze){var n=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),Sn=n}else Sn=536870912;return n=Tn.current,n!==null&&(n.flags|=32),Sn}function pn(n,r,a){(n===rt&&(Je===2||Je===9)||n.cancelPendingCommit!==null)&&(so(n,0),Yr(n,Ve,Sn,!1)),Ns(n,a),(($e&2)===0||n!==rt)&&(n===rt&&(($e&2)===0&&(na|=a),gt===4&&Yr(n,Ve,Sn,!1)),Oi(n))}function y_(n,r,a){if(($e&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&n.expiredLanes)===0||Qn(n,r),f=u?Zx(n,r):mm(n,r,!0),d=u;do{if(f===0){no&&!u&&Yr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!Jx(a)){f=mm(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var x=n;f=Vl;var D=x.current.memoizedState.isDehydrated;if(D&&(so(x,v).flags|=256),v=mm(x,v,!1),v!==2){if(om&&!D){x.errorRecoveryDisabledLanes|=d,na|=d,f=4;break e}d=mn,mn=f,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){so(n,0),Yr(n,r,0,!0);break}e:{switch(u=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Yr(u,r,Sn,!Fr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Zc+300-an(),10<f)){if(Yr(u,r,Sn,!Fr),pi(u,0,!0)!==0)break e;sr=r,u.timeoutHandle=Y_(__.bind(null,u,a,mn,th,um,r,Sn,na,io,Fr,d,"Throttled",-0,0),f);break e}__(u,a,mn,th,um,r,Sn,na,io,Fr,d,null,-0,0)}}break}while(!0);Oi(n)}function __(n,r,a,u,f,d,v,x,D,H,Q,W,G,K){if(n.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},c_(r,d,W);var fe=(d&62914560)===d?Zc-an():(d&4194048)===d?m_-an():0;if(fe=VS(W,fe),fe!==null){sr=d,n.cancelPendingCommit=fe(A_.bind(null,n,r,d,a,u,f,v,x,D,Q,W,null,G,K)),Yr(n,d,v,!H);return}}A_(n,r,d,a,u,f,v,x,D)}function Jx(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],d=f.getSnapshot;f=f.value;try{if(!En(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yr(n,r,a,u){r&=~lm,r&=~na,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var d=31-yt(f),v=1<<d;u[d]=-1,f&=~v}a!==0&&ks(n,a,r)}function nh(){return($e&6)===0?(Pl(0),!1):!0}function dm(){if(Oe!==null){if(Je===0)var n=Oe.return;else n=Oe,Yi=Ks=null,Id(n),Qa=null,vl=0,n=Oe;for(;n!==null;)Q0(n.alternate,n),n=n.return;Oe=null}}function so(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,yS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),sr=0,dm(),rt=n,Oe=a=$i(n.current,null),Ve=r,Je=0,xn=null,Fr=!1,no=Qn(n,r),om=!1,io=Sn=lm=na=Gr=gt=0,mn=Vl=null,um=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-yt(u),d=1<<f;r|=n[f],u&=~d}return rr=r,wc(),a}function v_(n,r){Ie=null,Y.H=Rl,r===Ya||r===kc?(r=Vy(),Je=3):r===yd?(r=Vy(),Je=4):Je=r===Gd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,Oe===null&&(gt=1,Gc(n,Pn(r,n.current)))}function E_(){var n=Tn.current;return n===null?!0:(Ve&4194048)===Ve?Bn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?n===Bn:!1}function b_(){var n=Y.H;return Y.H=Rl,n===null?Rl:n}function T_(){var n=Y.A;return Y.A=Qx,n}function ih(){gt=4,Fr||(Ve&4194048)!==Ve&&Tn.current!==null||(no=!0),(Gr&134217727)===0&&(na&134217727)===0||rt===null||Yr(rt,Ve,Sn,!1)}function mm(n,r,a){var u=$e;$e|=2;var f=b_(),d=T_();(rt!==n||Ve!==r)&&(th=null,so(n,r)),r=!1;var v=gt;e:do try{if(Je!==0&&Oe!==null){var x=Oe,D=xn;switch(Je){case 8:dm(),v=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(r=!0);var H=Je;if(Je=0,xn=null,ao(n,x,D,H),a&&no){v=0;break e}break;default:H=Je,Je=0,xn=null,ao(n,x,D,H)}}Wx(),v=gt;break}catch(Q){v_(n,Q)}while(!0);return r&&n.shellSuspendCounter++,Yi=Ks=null,$e=u,Y.H=f,Y.A=d,Oe===null&&(rt=null,Ve=0,wc()),v}function Wx(){for(;Oe!==null;)w_(Oe)}function Zx(n,r){var a=$e;$e|=2;var u=b_(),f=T_();rt!==n||Ve!==r?(th=null,eh=an()+500,so(n,r)):no=Qn(n,r);e:do try{if(Je!==0&&Oe!==null){r=Oe;var d=xn;t:switch(Je){case 1:Je=0,xn=null,ao(n,r,d,1);break;case 2:case 9:if(Oy(d)){Je=0,xn=null,x_(r);break}r=function(){Je!==2&&Je!==9||rt!==n||(Je=7),Oi(n)},d.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Oy(d)?(Je=0,xn=null,x_(r)):(Je=0,xn=null,ao(n,r,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var x=Oe;if(v?uv(v):x.stateNode.complete){Je=0,xn=null;var D=x.sibling;if(D!==null)Oe=D;else{var H=x.return;H!==null?(Oe=H,rh(H)):Oe=null}break t}}Je=0,xn=null,ao(n,r,d,5);break;case 6:Je=0,xn=null,ao(n,r,d,6);break;case 8:dm(),gt=6;break e;default:throw Error(s(462))}}eS();break}catch(Q){v_(n,Q)}while(!0);return Yi=Ks=null,Y.H=u,Y.A=f,$e=a,Oe!==null?0:(rt=null,Ve=0,wc(),gt)}function eS(){for(;Oe!==null&&!Ff();)w_(Oe)}function w_(n){var r=K0(n.alternate,n,rr);n.memoizedProps=n.pendingProps,r===null?rh(n):Oe=r}function x_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=B0(a,r,r.pendingProps,r.type,void 0,Ve);break;case 11:r=B0(a,r,r.pendingProps,r.type.render,r.ref,Ve);break;case 5:Id(r);default:Q0(a,r),r=Oe=Ty(r,rr),r=K0(a,r,rr)}n.memoizedProps=n.pendingProps,r===null?rh(n):Oe=r}function ao(n,r,a,u){Yi=Ks=null,Id(r),Qa=null,vl=0;var f=r.return;try{if(qx(n,f,r,a,Ve)){gt=1,Gc(n,Pn(a,n.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;gt=1,Gc(n,Pn(a,n.current)),Oe=null;return}r.flags&32768?(ze||u===1?n=!0:no||(Ve&536870912)!==0?n=!1:(Fr=n=!0,(u===2||u===9||u===3||u===6)&&(u=Tn.current,u!==null&&u.tag===13&&(u.flags|=16384))),S_(r,n)):rh(r)}function rh(n){var r=n;do{if((r.flags&32768)!==0){S_(r,Fr);return}n=r.return;var a=Gx(r.alternate,r,rr);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=n}while(r!==null);gt===0&&(gt=5)}function S_(n,r){do{var a=$x(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);gt=6,Oe=null}function A_(n,r,a,u,f,d,v,x,D){n.cancelPendingCommit=null;do sh();while(Pt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=nd,Kf(n,a,d,v,x,D),n===rt&&(Oe=rt=null,Ve=0),ro=r,Kr=n,sr=a,cm=d,hm=f,p_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,rS(xr,function(){return k_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,f=ae.p,ae.p=2,v=$e,$e|=4;try{Kx(n,r,a)}finally{$e=v,ae.p=f,Y.T=u}}Pt=1,R_(),C_(),I_()}}function R_(){if(Pt===1){Pt=0;var n=Kr,r=ro,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var u=ae.p;ae.p=2;var f=$e;$e|=4;try{o_(r,n);var d=Am,v=dy(n.containerInfo),x=d.focusedElem,D=d.selectionRange;if(v!==x&&x&&x.ownerDocument&&fy(x.ownerDocument.documentElement,x)){if(D!==null&&Jf(x)){var H=D.start,Q=D.end;if(Q===void 0&&(Q=H),"selectionStart"in x)x.selectionStart=H,x.selectionEnd=Math.min(Q,x.value.length);else{var W=x.ownerDocument||document,G=W&&W.defaultView||window;if(G.getSelection){var K=G.getSelection(),fe=x.textContent.length,ve=Math.min(D.start,fe),nt=D.end===void 0?ve:Math.min(D.end,fe);!K.extend&&ve>nt&&(v=nt,nt=ve,ve=v);var U=hy(x,ve),V=hy(x,nt);if(U&&V&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var q=W.createRange();q.setStart(U.node,U.offset),K.removeAllRanges(),ve>nt?(K.addRange(q),K.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),K.addRange(q))}}}}for(W=[],K=x;K=K.parentNode;)K.nodeType===1&&W.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<W.length;x++){var X=W[x];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}yh=!!Sm,Am=Sm=null}finally{$e=f,ae.p=u,Y.T=a}}n.current=r,Pt=2}}function C_(){if(Pt===2){Pt=0;var n=Kr,r=ro,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var u=ae.p;ae.p=2;var f=$e;$e|=4;try{n_(n,r.alternate,r)}finally{$e=f,ae.p=u,Y.T=a}}Pt=3}}function I_(){if(Pt===4||Pt===3){Pt=0,Qu();var n=Kr,r=ro,a=sr,u=p_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,ro=Kr=null,N_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&($r=null),qi(a),r=r.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Yn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Y.T,f=ae.p,ae.p=2,Y.T=null;try{for(var d=n.onRecoverableError,v=0;v<u.length;v++){var x=u[v];d(x.value,{componentStack:x.stack})}}finally{Y.T=r,ae.p=f}}(sr&3)!==0&&sh(),Oi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===fm?Ll++:(Ll=0,fm=n):Ll=0,Pl(0)}}function N_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,yl(r)))}function sh(){return R_(),C_(),I_(),k_()}function k_(){if(Pt!==5)return!1;var n=Kr,r=cm;cm=0;var a=qi(sr),u=Y.T,f=ae.p;try{ae.p=32>a?32:a,Y.T=null,a=hm,hm=null;var d=Kr,v=sr;if(Pt=0,ro=Kr=null,sr=0,($e&6)!==0)throw Error(s(331));var x=$e;if($e|=4,f_(d.current),u_(d,d.current,v,a),$e=x,Pl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{ae.p=f,Y.T=u,N_(n,r)}}function D_(n,r,a){r=Pn(a,r),r=Fd(n.stateNode,r,2),n=zr(n,r,2),n!==null&&(Ns(n,2),Oi(n))}function We(n,r,a){if(n.tag===3)D_(n,n,a);else for(;r!==null;){if(r.tag===3){D_(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($r===null||!$r.has(u))){n=Pn(a,n),a=O0(2),u=zr(r,a,2),u!==null&&(M0(a,u,r,n),Ns(u,2),Oi(u));break}}r=r.return}}function pm(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new Xx;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(om=!0,f.add(a),n=tS.bind(null,n,r,a),r.then(n,n))}function tS(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(Ve&a)===a&&(gt===4||gt===3&&(Ve&62914560)===Ve&&300>an()-Zc?($e&2)===0&&so(n,0):lm|=a,io===Ve&&(io=0)),Oi(n)}function O_(n,r){r===0&&(r=tc()),n=Fs(n,r),n!==null&&(Ns(n,r),Oi(n))}function nS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),O_(n,a)}function iS(n,r){var a=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),O_(n,a)}function rS(n,r){return Lt(n,r)}var ah=null,oo=null,gm=!1,oh=!1,ym=!1,Qr=0;function Oi(n){n!==oo&&n.next===null&&(oo===null?ah=oo=n:oo=oo.next=n),oh=!0,gm||(gm=!0,aS())}function Pl(n,r){if(!ym&&oh){ym=!0;do for(var a=!1,u=ah;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var v=u.suspendedLanes,x=u.pingedLanes;d=(1<<31-yt(42|n)+1)-1,d&=f&~(v&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,P_(u,d))}else d=Ve,d=pi(u,u===rt?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||Qn(u,d)||(a=!0,P_(u,d));u=u.next}while(a);ym=!1}}function sS(){M_()}function M_(){oh=gm=!1;var n=0;Qr!==0&&gS()&&(n=Qr);for(var r=an(),a=null,u=ah;u!==null;){var f=u.next,d=V_(u,r);d===0?(u.next=null,a===null?ah=f:a.next=f,f===null&&(oo=a)):(a=u,(n!==0||(d&3)!==0)&&(oh=!0)),u=f}Pt!==0&&Pt!==5||Pl(n),Qr!==0&&(Qr=0)}function V_(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-yt(d),x=1<<v,D=f[v];D===-1?((x&a)===0||(x&u)!==0)&&(f[v]=$f(x,r)):D<=r&&(n.expiredLanes|=x),d&=~x}if(r=rt,a=Ve,a=pi(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===r&&(Je===2||Je===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&wr(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Qn(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&wr(u),qi(a)){case 2:case 8:a=Ko;break;case 32:a=xr;break;case 268435456:a=Xu;break;default:a=xr}return u=L_.bind(null,n),a=Lt(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&wr(u),n.callbackPriority=2,n.callbackNode=null,2}function L_(n,r){if(Pt!==0&&Pt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(sh()&&n.callbackNode!==a)return null;var u=Ve;return u=pi(n,n===rt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(y_(n,u,r),V_(n,an()),n.callbackNode!=null&&n.callbackNode===a?L_.bind(null,n):null)}function P_(n,r){if(sh())return null;y_(n,r,!0)}function aS(){_S(function(){($e&6)!==0?Lt($o,sS):M_()})}function _m(){if(Qr===0){var n=$a;n===0&&(n=di,di<<=1,(di&261888)===0&&(di=256)),Qr=n}return Qr}function j_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ka(""+n)}function U_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function oS(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var d=j_((f[Ut]||null).action),v=u.submitter;v&&(r=(r=v[Ut]||null)?j_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var x=new Ai("action","action",null,u,f);n.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Qr!==0){var D=v?U_(f,v):new FormData(f);jd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(x.preventDefault(),D=v?U_(f,v):new FormData(f),jd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var vm=0;vm<td.length;vm++){var Em=td[vm],lS=Em.toLowerCase(),uS=Em[0].toUpperCase()+Em.slice(1);ii(lS,"on"+uS)}ii(gy,"onAnimationEnd"),ii(yy,"onAnimationIteration"),ii(_y,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(Sx,"onTransitionRun"),ii(Ax,"onTransitionStart"),ii(Rx,"onTransitionCancel"),ii(vy,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function z_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var d=void 0;if(r)for(var v=u.length-1;0<=v;v--){var x=u[v],D=x.instance,H=x.currentTarget;if(x=x.listener,D!==d&&f.isPropagationStopped())break e;d=x,f.currentTarget=H;try{d(f)}catch(Q){Tc(Q)}f.currentTarget=null,d=D}else for(v=0;v<u.length;v++){if(x=u[v],D=x.instance,H=x.currentTarget,x=x.listener,D!==d&&f.isPropagationStopped())break e;d=x,f.currentTarget=H;try{d(f)}catch(Q){Tc(Q)}f.currentTarget=null,d=D}}}}function Me(n,r){var a=r[Aa];a===void 0&&(a=r[Aa]=new Set);var u=n+"__bubble";a.has(u)||(B_(r,n,2,!1),a.add(u))}function bm(n,r,a){var u=0;r&&(u|=4),B_(a,n,u,r)}var lh="_reactListening"+Math.random().toString(36).slice(2);function Tm(n){if(!n[lh]){n[lh]=!0,Xo.forEach(function(a){a!=="selectionchange"&&(cS.has(a)||bm(a,!1,n),bm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[lh]||(r[lh]=!0,bm("selectionchange",!1,r))}}function B_(n,r,a,u){switch(gv(r)){case 2:var f=jS;break;case 8:f=US;break;default:f=Pm}a=f.bind(null,r,a,n),f=void 0,!Ls||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function wm(n,r,a,u,f){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var x=u.stateNode.containerInfo;if(x===f)break;if(v===4)for(v=u.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;x!==null;){if(v=vi(x),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){u=d=v;continue e}x=x.parentNode}}u=u.return}Nr(function(){var H=d,Q=On(a),W=[];e:{var G=Ey.get(n);if(G!==void 0){var K=Ai,fe=n;switch(n){case"keypress":if(js(a)===0)break e;case"keydown":case"keyup":K=vc;break;case"focusin":fe="focus",K=zs;break;case"focusout":fe="blur",K=zs;break;case"beforeblur":case"afterblur":K=zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case gy:case yy:case _y:K=fc;break;case vy:K=S;break;case"scroll":case"scrollend":K=ll;break;case"wheel":K=$;break;case"copy":case"cut":case"paste":K=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Gi;break;case"toggle":case"beforetoggle":K=Ce}var ve=(r&4)!==0,nt=!ve&&(n==="scroll"||n==="scrollend"),U=ve?G!==null?G+"Capture":null:G;ve=[];for(var V=H,q;V!==null;){var X=V;if(q=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||q===null||U===null||(X=Zn(V,U),X!=null&&ve.push(Ul(V,X,q))),nt)break;V=V.return}0<ve.length&&(G=new K(G,fe,null,a,Q),W.push({event:G,listeners:ve}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",G&&a!==sl&&(fe=a.relatedTarget||a.fromElement)&&(vi(fe)||fe[yi]))break e;if((K||G)&&(G=Q.window===Q?Q:(G=Q.ownerDocument)?G.defaultView||G.parentWindow:window,K?(fe=a.relatedTarget||a.toElement,K=H,fe=fe?vi(fe):null,fe!==null&&(nt=l(fe),ve=fe.tag,fe!==nt||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(K=null,fe=H),K!==fe)){if(ve=ul,X="onMouseLeave",U="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(ve=Gi,X="onPointerLeave",U="onPointerEnter",V="pointer"),nt=K==null?G:_n(K),q=fe==null?G:_n(fe),G=new ve(X,V+"leave",K,a,Q),G.target=nt,G.relatedTarget=q,X=null,vi(Q)===H&&(ve=new ve(U,V+"enter",fe,a,Q),ve.target=q,ve.relatedTarget=nt,X=ve),nt=X,K&&fe)t:{for(ve=hS,U=K,V=fe,q=0,X=U;X;X=ve(X))q++;X=0;for(var pe=V;pe;pe=ve(pe))X++;for(;0<q-X;)U=ve(U),q--;for(;0<X-q;)V=ve(V),X--;for(;q--;){if(U===V||V!==null&&U===V.alternate){ve=U;break t}U=ve(U),V=ve(V)}ve=null}else ve=null;K!==null&&q_(W,G,K,ve,!1),fe!==null&&nt!==null&&q_(W,nt,fe,ve,!0)}}e:{if(G=H?_n(H):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var He=sy;else if(iy(G))if(ay)He=Tx;else{He=Ex;var de=vx}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Na(H.elementType)&&(He=sy):He=bx;if(He&&(He=He(n,H))){ry(W,He,a,Q);break e}de&&de(n,G,H),n==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&nl(G,"number",G.value)}switch(de=H?_n(H):window,n){case"focusin":(iy(de)||de.contentEditable==="true")&&(ja=de,Wf=H,ml=null);break;case"focusout":ml=Wf=ja=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,my(W,a,Q);break;case"selectionchange":if(xx)break;case"keydown":case"keyup":my(W,a,Q)}var ke;if(Ge)e:{switch(n){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Pa?Bs(n,a)&&(Le="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Ii&&a.locale!=="ko"&&(Pa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Pa&&(ke=ol()):(Si=Q,al="value"in Si?Si.value:Si.textContent,Pa=!0)),de=uh(H,Le),0<de.length&&(Le=new Ci(Le,n,null,a,Q),W.push({event:Le,listeners:de}),ke?Le.data=ke:(ke=La(a),ke!==null&&(Le.data=ke)))),(ke=Vn?px(n,a):gx(n,a))&&(Le=uh(H,"onBeforeInput"),0<Le.length&&(de=new Ci("onBeforeInput","beforeinput",null,a,Q),W.push({event:de,listeners:Le}),de.data=ke)),oS(W,n,H,a,Q)}z_(W,r)})}function Ul(n,r,a){return{instance:n,listener:r,currentTarget:a}}function uh(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Zn(n,a),f!=null&&u.unshift(Ul(n,f,d)),f=Zn(n,r),f!=null&&u.push(Ul(n,f,d))),n.tag===3)return u;n=n.return}return[]}function hS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function q_(n,r,a,u,f){for(var d=r._reactName,v=[];a!==null&&a!==u;){var x=a,D=x.alternate,H=x.stateNode;if(x=x.tag,D!==null&&D===u)break;x!==5&&x!==26&&x!==27||H===null||(D=H,f?(H=Zn(a,d),H!=null&&v.unshift(Ul(a,H,D))):f||(H=Zn(a,d),H!=null&&v.push(Ul(a,H,D)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var fS=/\r\n?/g,dS=/\u0000|\uFFFD/g;function H_(n){return(typeof n=="string"?n:""+n).replace(fS,`
`).replace(dS,"")}function F_(n,r){return r=H_(r),H_(n)===r}function tt(n,r,a,u,f,d){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||cn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&cn(n,""+u);break;case"className":vn(n,"class",u);break;case"tabIndex":vn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(n,a,u);break;case"style":rl(n,u,d);break;case"data":if(r!=="object"){vn(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=ka(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&tt(n,r,"name",f.name,f,null),tt(n,r,"formEncType",f.formEncType,f,null),tt(n,r,"formMethod",f.formMethod,f,null),tt(n,r,"formTarget",f.formTarget,f,null)):(tt(n,r,"encType",f.encType,f,null),tt(n,r,"method",f.method,f,null),tt(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=ka(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Wn);break;case"onScroll":u!=null&&Me("scroll",n);break;case"onScrollEnd":u!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=ka(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Me("beforetoggle",n),Me("toggle",n),Ca(n,"popover",u);break;case"xlinkActuate":At(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":At(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":At(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":At(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":At(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":At(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":At(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":At(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":At(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ca(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uc.get(a)||a,Ca(n,a,u))}}function xm(n,r,a,u,f,d){switch(a){case"style":rl(n,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?cn(n,u):(typeof u=="number"||typeof u=="bigint")&&cn(n,""+u);break;case"onScroll":u!=null&&Me("scroll",n);break;case"onScrollEnd":u!=null&&Me("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Ca(n,a,u)}}}function Qt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var u=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(n,r,d,v,a,null)}}f&&tt(n,r,"srcSet",a.srcSet,a,null),u&&tt(n,r,"src",a.src,a,null);return;case"input":Me("invalid",n);var x=d=v=f=null,D=null,H=null;for(u in a)if(a.hasOwnProperty(u)){var Q=a[u];if(Q!=null)switch(u){case"name":f=Q;break;case"type":v=Q;break;case"checked":D=Q;break;case"defaultChecked":H=Q;break;case"value":d=Q;break;case"defaultValue":x=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:tt(n,r,u,Q,a,null)}}ac(n,d,x,D,H,v,f,!1);return;case"select":Me("invalid",n),u=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(x=a[f],x!=null))switch(f){case"value":d=x;break;case"defaultValue":v=x;break;case"multiple":u=x;default:tt(n,r,f,x,a,null)}r=d,a=v,n.multiple=!!u,r!=null?Ar(n,!!u,r,!1):a!=null&&Ar(n,!!u,a,!0);return;case"textarea":Me("invalid",n),d=f=u=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":u=x;break;case"defaultValue":f=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:tt(n,r,v,x,a,null)}Rr(n,u,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:tt(n,r,D,u,a,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(u=0;u<jl.length;u++)Me(jl[u],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(u=a[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(n,r,H,u,a,null)}return;default:if(Na(r)){for(Q in a)a.hasOwnProperty(Q)&&(u=a[Q],u!==void 0&&xm(n,r,Q,u,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(u=a[x],u!=null&&tt(n,r,x,u,a,null))}function mS(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,x=null,D=null,H=null,Q=null;for(K in a){var W=a[K];if(a.hasOwnProperty(K)&&W!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=W;default:u.hasOwnProperty(K)||tt(n,r,K,null,u,W)}}for(var G in u){var K=u[G];if(W=a[G],u.hasOwnProperty(G)&&(K!=null||W!=null))switch(G){case"type":d=K;break;case"name":f=K;break;case"checked":H=K;break;case"defaultChecked":Q=K;break;case"value":v=K;break;case"defaultValue":x=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==W&&tt(n,r,G,K,u,W)}}Ia(n,v,x,D,H,Q,d,f);return;case"select":K=v=x=G=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:u.hasOwnProperty(d)||tt(n,r,d,null,u,D)}for(f in u)if(d=u[f],D=a[f],u.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":G=d;break;case"defaultValue":x=d;break;case"multiple":v=d;default:d!==D&&tt(n,r,f,d,u,D)}r=x,a=v,u=K,G!=null?Ar(n,!!a,G,!1):!!u!=!!a&&(r!=null?Ar(n,!!a,r,!0):Ar(n,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(x in a)if(f=a[x],a.hasOwnProperty(x)&&f!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:tt(n,r,x,null,u,f)}for(v in u)if(f=u[v],d=a[v],u.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&tt(n,r,v,f,u,d)}oc(n,G,K);return;case"option":for(var fe in a)if(G=a[fe],a.hasOwnProperty(fe)&&G!=null&&!u.hasOwnProperty(fe))switch(fe){case"selected":n.selected=!1;break;default:tt(n,r,fe,null,u,G)}for(D in u)if(G=u[D],K=a[D],u.hasOwnProperty(D)&&G!==K&&(G!=null||K!=null))switch(D){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:tt(n,r,D,G,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!u.hasOwnProperty(ve)&&tt(n,r,ve,null,u,G);for(H in u)if(G=u[H],K=a[H],u.hasOwnProperty(H)&&G!==K&&(G!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:tt(n,r,H,G,u,K)}return;default:if(Na(r)){for(var nt in a)G=a[nt],a.hasOwnProperty(nt)&&G!==void 0&&!u.hasOwnProperty(nt)&&xm(n,r,nt,void 0,u,G);for(Q in u)G=u[Q],K=a[Q],!u.hasOwnProperty(Q)||G===K||G===void 0&&K===void 0||xm(n,r,Q,G,u,K);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!u.hasOwnProperty(U)&&tt(n,r,U,null,u,G);for(W in u)G=u[W],K=a[W],!u.hasOwnProperty(W)||G===K||G==null&&K==null||tt(n,r,W,G,u,K)}function G_(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var f=a[u],d=f.transferSize,v=f.initiatorType,x=f.duration;if(d&&x&&G_(v)){for(v=0,x=f.responseEnd,u+=1;u<a.length;u++){var D=a[u],H=D.startTime;if(H>x)break;var Q=D.transferSize,W=D.initiatorType;Q&&G_(W)&&(D=D.responseEnd,v+=Q*(D<x?1:(x-H)/(D-H)))}if(--u,r+=8*(d+v)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Sm=null,Am=null;function ch(n){return n.nodeType===9?n:n.ownerDocument}function $_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Rm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cm=null;function gS(){var n=window.event;return n&&n.type==="popstate"?n===Cm?!1:(Cm=n,!0):(Cm=null,!1)}var Y_=typeof setTimeout=="function"?setTimeout:void 0,yS=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,_S=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(n){return Q_.resolve(null).then(n).catch(vS)}:Y_;function vS(n){setTimeout(function(){throw n})}function Xr(n){return n==="head"}function X_(n,r){var a=r,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(u===0){n.removeChild(f),ho(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")zl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,zl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,x=d.nodeName;d[_i]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&zl(n.ownerDocument.body);a=f}while(a);ho(r)}function J_(n,r){var a=n;n=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=u}while(a)}function Im(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Im(a),Ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function ES(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[_i])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=qn(n.nextSibling),n===null)break}return null}function bS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=qn(n.nextSibling),n===null))return null;return n}function W_(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=qn(n.nextSibling),n===null))return null;return n}function Nm(n){return n.data==="$?"||n.data==="$~"}function km(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function TS(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function qn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Dm=null;function Z_(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return qn(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function ev(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function tv(n,r,a){switch(r=ch(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function zl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Ra(n)}var Hn=new Map,nv=new Set;function hh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ar=ae.d;ae.d={f:wS,r:xS,D:SS,C:AS,L:RS,m:CS,X:NS,S:IS,M:kS};function wS(){var n=ar.f(),r=nh();return n||r}function xS(n){var r=Dn(n);r!==null&&r.tag===5&&r.type==="form"?v0(r):ar.r(n)}var lo=typeof document>"u"?null:document;function iv(n,r,a){var u=lo;if(u&&typeof r=="string"&&r){var f=un(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),nv.has(f)||(nv.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Qt(r,"link",n),St(r),u.head.appendChild(r)))}}function SS(n){ar.D(n),iv("dns-prefetch",n,null)}function AS(n,r){ar.C(n,r),iv("preconnect",n,r)}function RS(n,r,a){ar.L(n,r,a);var u=lo;if(u&&n&&r){var f='link[rel="preload"][as="'+un(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(n)+'"]';var d=f;switch(r){case"style":d=uo(n);break;case"script":d=co(n)}Hn.has(d)||(n=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Hn.set(d,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Bl(d))||r==="script"&&u.querySelector(ql(d))||(r=u.createElement("link"),Qt(r,"link",n),St(r),u.head.appendChild(r)))}}function CS(n,r){ar.m(n,r);var a=lo;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+un(u)+'"][href="'+un(n)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(n)}if(!Hn.has(d)&&(n=T({rel:"modulepreload",href:n},r),Hn.set(d,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(d)))return}u=a.createElement("link"),Qt(u,"link",n),St(u),a.head.appendChild(u)}}}function IS(n,r,a){ar.S(n,r,a);var u=lo;if(u&&n){var f=Ei(u).hoistableStyles,d=uo(n);r=r||"default";var v=f.get(d);if(!v){var x={loading:0,preload:null};if(v=u.querySelector(Bl(d)))x.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Hn.get(d))&&Om(n,a);var D=v=u.createElement("link");St(D),Qt(D,"link",n),D._p=new Promise(function(H,Q){D.onload=H,D.onerror=Q}),D.addEventListener("load",function(){x.loading|=1}),D.addEventListener("error",function(){x.loading|=2}),x.loading|=4,fh(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:x},f.set(d,v)}}}function NS(n,r){ar.X(n,r);var a=lo;if(a&&n){var u=Ei(a).hoistableScripts,f=co(n),d=u.get(f);d||(d=a.querySelector(ql(f)),d||(n=T({src:n,async:!0},r),(r=Hn.get(f))&&Mm(n,r),d=a.createElement("script"),St(d),Qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function kS(n,r){ar.M(n,r);var a=lo;if(a&&n){var u=Ei(a).hoistableScripts,f=co(n),d=u.get(f);d||(d=a.querySelector(ql(f)),d||(n=T({src:n,async:!0,type:"module"},r),(r=Hn.get(f))&&Mm(n,r),d=a.createElement("script"),St(d),Qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function rv(n,r,a,u){var f=(f=Ne.current)?hh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=uo(a.href),a=Ei(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=uo(a.href);var d=Ei(f).hoistableStyles,v=d.get(n);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=f.querySelector(Bl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),Hn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(n,a),d||DS(f,n,a,v.state))),r&&u===null)throw Error(s(528,""));return v}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=co(a),a=Ei(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function uo(n){return'href="'+un(n)+'"'}function Bl(n){return'link[rel="stylesheet"]['+n+"]"}function sv(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function DS(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Qt(r,"link",a),St(r),n.head.appendChild(r))}function co(n){return'[src="'+un(n)+'"]'}function ql(n){return"script[async]"+n}function av(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+un(a.href)+'"]');if(u)return r.instance=u,St(u),u;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),St(u),Qt(u,"style",f),fh(u,a.precedence,n),r.instance=u;case"stylesheet":f=uo(a.href);var d=n.querySelector(Bl(f));if(d)return r.state.loading|=4,r.instance=d,St(d),d;u=sv(a),(f=Hn.get(f))&&Om(u,f),d=(n.ownerDocument||n).createElement("link"),St(d);var v=d;return v._p=new Promise(function(x,D){v.onload=x,v.onerror=D}),Qt(d,"link",u),r.state.loading|=4,fh(d,a.precedence,n),r.instance=d;case"script":return d=co(a.src),(f=n.querySelector(ql(d)))?(r.instance=f,St(f),f):(u=a,(f=Hn.get(d))&&(u=T({},a),Mm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),St(f),Qt(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,fh(u,a.precedence,n));return r.instance}function fh(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,v=0;v<u.length;v++){var x=u[v];if(x.dataset.precedence===r)d=x;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Om(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Mm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var dh=null;function ov(n,r,a){if(dh===null){var u=new Map,f=dh=new Map;f.set(a,u)}else f=dh,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[_i]||d[xt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var x=u.get(v);x?x.push(d):u.set(v,[d])}}return u}function lv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function OS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function uv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function MS(n,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=uo(u.href),d=r.querySelector(Bl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=mh.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=d,St(d);return}d=r.ownerDocument||r,u=sv(u),(f=Hn.get(f))&&Om(u,f),d=d.createElement("link"),St(d);var v=d;v._p=new Promise(function(x,D){v.onload=x,v.onerror=D}),Qt(d,"link",u),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=mh.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var Vm=0;function VS(n,r){return n.stylesheets&&n.count===0&&gh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var u=setTimeout(function(){if(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+r);0<n.imgBytes&&Vm===0&&(Vm=62500*pS());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&gh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Vm?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ph=null;function gh(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ph=new Map,r.forEach(LS,n),ph=null,mh.call(n))}function LS(n,r){if(!(r.state.loading&4)){var a=ph.get(n);if(a)var u=a.get(null);else{a=new Map,ph.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),u=v)}u&&a.set(null,u)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||u,d===u&&a.set(null,f),a.set(v,f),this.count++,u=mh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Hl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function PS(n,r,a,u,f,d,v,x,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function cv(n,r,a,u,f,d,v,x,D,H,Q,W){return n=new PS(n,r,a,v,D,H,Q,W,x),r=1,d===!0&&(r|=24),d=bn(3,null,null,r),n.current=d,d.stateNode=n,r=md(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:r},_d(d),n}function hv(n){return n?(n=Ba,n):Ba}function fv(n,r,a,u,f,d){f=hv(f),u.context===null?u.context=f:u.pendingContext=f,u=Ur(r),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=zr(n,u,r),a!==null&&(pn(a,n,r),bl(a,n,r))}function dv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Lm(n,r){dv(n,r),(n=n.alternate)&&dv(n,r)}function mv(n){if(n.tag===13||n.tag===31){var r=Fs(n,67108864);r!==null&&pn(r,n,67108864),Lm(n,67108864)}}function pv(n){if(n.tag===13||n.tag===31){var r=An();r=Ds(r);var a=Fs(n,r);a!==null&&pn(a,n,r),Lm(n,r)}}var yh=!0;function jS(n,r,a,u){var f=Y.T;Y.T=null;var d=ae.p;try{ae.p=2,Pm(n,r,a,u)}finally{ae.p=d,Y.T=f}}function US(n,r,a,u){var f=Y.T;Y.T=null;var d=ae.p;try{ae.p=8,Pm(n,r,a,u)}finally{ae.p=d,Y.T=f}}function Pm(n,r,a,u){if(yh){var f=jm(u);if(f===null)wm(n,r,u,_h,a),yv(n,u);else if(BS(f,n,r,a,u))u.stopPropagation();else if(yv(n,u),r&4&&-1<zS.indexOf(n)){for(;f!==null;){var d=Dn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=mi(d.pendingLanes);if(v!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var D=1<<31-yt(v);x.entanglements[1]|=D,v&=~D}Oi(d),($e&6)===0&&(eh=an()+500,Pl(0))}}break;case 31:case 13:x=Fs(d,2),x!==null&&pn(x,d,2),nh(),Lm(d,2)}if(d=jm(u),d===null&&wm(n,r,u,_h,a),d===f)break;f=d}f!==null&&u.stopPropagation()}else wm(n,r,u,null,a)}}function jm(n){return n=On(n),Um(n)}var _h=null;function Um(n){if(_h=null,n=vi(n),n!==null){var r=l(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=c(r),n!==null)return n;n=null}else if(a===31){if(n=m(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return _h=n,null}function gv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case $o:return 2;case Ko:return 8;case xr:case Gf:return 32;case Xu:return 268435456;default:return 32}default:return 32}}var zm=!1,Jr=null,Wr=null,Zr=null,Fl=new Map,Gl=new Map,es=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yv(n,r){switch(n){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Fl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(r.pointerId)}}function $l(n,r,a,u,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Dn(r),r!==null&&mv(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function BS(n,r,a,u,f){switch(r){case"focusin":return Jr=$l(Jr,n,r,a,u,f),!0;case"dragenter":return Wr=$l(Wr,n,r,a,u,f),!0;case"mouseover":return Zr=$l(Zr,n,r,a,u,f),!0;case"pointerover":var d=f.pointerId;return Fl.set(d,$l(Fl.get(d)||null,n,r,a,u,f)),!0;case"gotpointercapture":return d=f.pointerId,Gl.set(d,$l(Gl.get(d)||null,n,r,a,u,f)),!0}return!1}function _v(n){var r=vi(n.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){n.blockedOn=r,Xn(n.priority,function(){pv(a)});return}}else if(r===31){if(r=m(a),r!==null){n.blockedOn=r,Xn(n.priority,function(){pv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function vh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=jm(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);sl=u,a.target.dispatchEvent(u),sl=null}else return r=Dn(a),r!==null&&mv(r),n.blockedOn=a,!1;r.shift()}return!0}function vv(n,r,a){vh(n)&&a.delete(r)}function qS(){zm=!1,Jr!==null&&vh(Jr)&&(Jr=null),Wr!==null&&vh(Wr)&&(Wr=null),Zr!==null&&vh(Zr)&&(Zr=null),Fl.forEach(vv),Gl.forEach(vv)}function Eh(n,r){n.blockedOn===r&&(n.blockedOn=null,zm||(zm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qS)))}var bh=null;function Ev(n){bh!==n&&(bh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){bh===n&&(bh=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(Um(u||a)===null)continue;break}var d=Dn(a);d!==null&&(n.splice(r,3),r-=3,jd(d,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function ho(n){function r(D){return Eh(D,n)}Jr!==null&&Eh(Jr,n),Wr!==null&&Eh(Wr,n),Zr!==null&&Eh(Zr,n),Fl.forEach(r),Gl.forEach(r);for(var a=0;a<es.length;a++){var u=es[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<es.length&&(a=es[0],a.blockedOn===null);)_v(a),a.blockedOn===null&&es.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],d=a[u+1],v=f[Ut]||null;if(typeof d=="function")v||Ev(a);else if(v){var x=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Ut]||null)x=v.formAction;else if(Um(f)!==null)continue}else x=v.action;typeof x=="function"?a[u+1]=x:(a.splice(u,3),u-=3),Ev(a)}}}function bv(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Bm(n){this._internalRoot=n}Th.prototype.render=Bm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=An();fv(a,u,n,r,null,null)},Th.prototype.unmount=Bm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;fv(n.current,2,null,n,null,null),nh(),r[yi]=null}};function Th(n){this._internalRoot=n}Th.prototype.unstable_scheduleHydration=function(n){if(n){var r=nc();n={blockedOn:null,target:n,priority:r};for(var a=0;a<es.length&&r!==0&&r<es[a].priority;a++);es.splice(a,0,n),a===0&&_v(n)}};var Tv=e.version;if(Tv!=="19.2.4")throw Error(s(527,Tv,"19.2.4"));ae.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var HS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Yn=wh.inject(HS),Ft=wh}catch{}}return Yl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=I0,d=N0,v=k0;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=cv(n,1,!1,null,null,a,u,null,f,d,v,bv),n[yi]=r.current,Tm(n),new Bm(r)},Yl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",d=I0,v=N0,x=k0,D=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=cv(n,1,!0,r,a??null,u,f,D,d,v,x,bv),r.context=hv(null),a=r.current,u=An(),u=Ds(u),f=Ur(u),f.callback=null,zr(a,f,u),a=u,r.current.lanes=a,Ns(r,a),Oi(r),n[yi]=r.current,Tm(n),new Th(r)},Yl.version="19.2.4",Yl}var Mv;function iA(){if(Mv)return Fm.exports;Mv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fm.exports=nA(),Fm.exports}var rA=iA();const sA=Hb(rA);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vv="popstate";function aA(i={}){function e(o,l){let{pathname:c="/",search:m="",hash:p=""}=ya(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),up("",{pathname:c,search:m,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),m="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof l=="string"?l:pu(l))}function s(o,l){$n(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return lA(e,t,s,i)}function dt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function $n(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oA(){return Math.random().toString(36).substring(2,10)}function Lv(i,e){return{usr:i.state,key:i.key,idx:e}}function up(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:t,key:e&&e.key||s||oA()}}function pu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ya(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function lA(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,m="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){m="POP";let F=_(),te=F==null?null:F-g;g=F,p&&p({action:m,location:P.location,delta:te})}function w(F,te){m="PUSH";let ie=up(P.location,F,te);t&&t(ie,F),g=_()+1;let ne=Lv(ie,g),ye=P.createHref(ie);try{c.pushState(ne,"",ye)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;o.location.assign(ye)}l&&p&&p({action:m,location:P.location,delta:1})}function C(F,te){m="REPLACE";let ie=up(P.location,F,te);t&&t(ie,F),g=_();let ne=Lv(ie,g),ye=P.createHref(ie);c.replaceState(ne,"",ye),l&&p&&p({action:m,location:P.location,delta:0})}function j(F){return uA(F)}let P={get action(){return m},get location(){return i(o,c)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Vv,T),p=F,()=>{o.removeEventListener(Vv,T),p=null}},createHref(F){return e(o,F)},createURL:j,encodeLocation(F){let te=j(F);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:w,replace:C,go(F){return c.go(F)}};return P}function uA(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:pu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Fb(i,e,t="/"){return cA(i,e,t,!1)}function cA(i,e,t,s){let o=typeof e=="string"?ya(e):e,l=mr(o.pathname||"/",t);if(l==null)return null;let c=Gb(i);hA(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=TA(l);m=EA(c[p],g,s)}return m}function Gb(i,e=[],t=[],s="",o=!1){let l=(c,m,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;dt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=hr([s,_.relativePath]),w=t.concat(_);c.children&&c.children.length>0&&(dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Gb(c.children,e,w,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:_A(T,c.index),routesMeta:w})};return i.forEach((c,m)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,m);else for(let g of $b(c.path))l(c,m,!0,g)}),e}function $b(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=$b(s.join("/")),m=[];return m.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function hA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:vA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var fA=/^:[\w-]+$/,dA=3,mA=2,pA=1,gA=10,yA=-2,Pv=i=>i==="*";function _A(i,e){let t=i.split("/"),s=t.length;return t.some(Pv)&&(s+=yA),e&&(s+=mA),t.filter(o=>!Pv(o)).reduce((o,l)=>o+(fA.test(l)?dA:l===""?pA:gA),s)}function vA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function EA(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=Yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=Yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:hr([l,T.pathname]),pathnameBase:AA(hr([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=hr([l,T.pathnameBase]))}return c}function Yh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=bA(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},w)=>{if(_==="*"){let j=m[w]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const C=m[w];return T&&!C?g[_]=void 0:g[_]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function bA(i,e=!1,t=!0){$n(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function TA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function mr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var wA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function xA(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?ya(i):i,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=jv(t.substring(1),"/"):l=jv(t,e)):l=e,{pathname:l,search:RA(s),hash:CA(o)}}function jv(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ym(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SA(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fp(i){let e=SA(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Gp(i,e,t,s=!1){let o;typeof i=="string"?o=ya(i):(o={...i},dt(!o.pathname||!o.pathname.includes("?"),Ym("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),Ym("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),Ym("#","search","hash",o)));let l=i===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=xA(o,m),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var hr=i=>i.join("/").replace(/\/\/+/g,"/"),AA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),RA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,CA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,IA=class{constructor(i,e,t,s=!1){this.status=i,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function NA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function kA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Kb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Yb(i,e){let t=i;if(typeof t!="string"||!wA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(Kb)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),m=mr(c.pathname,e);c.origin===l.origin&&m!=null?t=m+c.search+c.hash:o=!0}catch{$n(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Qb=["POST","PUT","PATCH","DELETE"];new Set(Qb);var DA=["GET",...Qb];new Set(DA);var Do=z.createContext(null);Do.displayName="DataRouter";var vf=z.createContext(null);vf.displayName="DataRouterState";var OA=z.createContext(!1),Xb=z.createContext({isTransitioning:!1});Xb.displayName="ViewTransition";var MA=z.createContext(new Map);MA.displayName="Fetchers";var VA=z.createContext(null);VA.displayName="Await";var Nn=z.createContext(null);Nn.displayName="Navigation";var Iu=z.createContext(null);Iu.displayName="Location";var hi=z.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var $p=z.createContext(null);$p.displayName="RouteError";var Jb="REACT_ROUTER_ERROR",LA="REDIRECT",PA="ROUTE_ERROR_RESPONSE";function jA(i){if(i.startsWith(`${Jb}:${LA}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function UA(i){if(i.startsWith(`${Jb}:${PA}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new IA(e.status,e.statusText,e.data)}catch{}}function zA(i,{relative:e}={}){dt(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=z.useContext(Nn),{hash:o,pathname:l,search:c}=ku(i,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:hr([t,l])),s.createHref({pathname:m,search:c,hash:o})}function Oo(){return z.useContext(Iu)!=null}function br(){return dt(Oo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Iu).location}var Wb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zb(i){z.useContext(Nn).static||z.useLayoutEffect(i)}function Nu(){let{isDataRoute:i}=z.useContext(hi);return i?ZA():BA()}function BA(){dt(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(Do),{basename:e,navigator:t}=z.useContext(Nn),{matches:s}=z.useContext(hi),{pathname:o}=br(),l=JSON.stringify(Fp(s)),c=z.useRef(!1);return Zb(()=>{c.current=!0}),z.useCallback((p,g={})=>{if($n(c.current,Wb),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Gp(p,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:hr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,o,i])}z.createContext(null);function Kp(){let{matches:i}=z.useContext(hi),e=i[i.length-1];return e?e.params:{}}function ku(i,{relative:e}={}){let{matches:t}=z.useContext(hi),{pathname:s}=br(),o=JSON.stringify(Fp(t));return z.useMemo(()=>Gp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function qA(i,e){return e1(i,e)}function e1(i,e,t,s,o){var ie;dt(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=z.useContext(Nn),{matches:c}=z.useContext(hi),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";n1(g,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=br(),C;if(e){let ne=typeof e=="string"?ya(e):e;dt(_==="/"||((ie=ne.pathname)==null?void 0:ie.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),C=ne}else C=w;let j=C.pathname||"/",P=j;if(_!=="/"){let ne=_.replace(/^\//,"").split("/");P="/"+j.replace(/^\//,"").split("/").slice(ne.length).join("/")}let F=Fb(i,{pathname:P});$n(T||F!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),$n(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=KA(F&&F.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:hr([_,l.encodeLocation?l.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?_:hr([_,l.encodeLocation?l.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),c,t,s,o);return e&&te?z.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},te):te}function HA(){let i=WA(),e=NA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:o},t):null,c)}var FA=z.createElement(HA,null),t1=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const t=UA(i.digest);t&&(i=t)}let e=i!==void 0?z.createElement(hi.Provider,{value:this.props.routeContext},z.createElement($p.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?z.createElement(GA,{error:i},e):e}};t1.contextType=OA;var Qm=new WeakMap;function GA({children:i,error:e}){let{basename:t}=z.useContext(Nn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=jA(e.digest);if(s){let o=Qm.get(e);if(o)throw o;let l=Yb(s.location,t);if(Kb&&!Qm.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Qm.set(e,c),c}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return i}function $A({routeContext:i,match:e,children:t}){let s=z.useContext(Do);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(hi.Provider,{value:i},t)}function KA(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,c=t==null?void 0:t.errors;if(c!=null){let _=l.findIndex(T=>T.route.id&&(c==null?void 0:c[T.route.id])!==void 0);dt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let m=!1,p=-1;if(t)for(let _=0;_<l.length;_++){let T=l[_];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=_),T.route.id){let{loaderData:w,errors:C}=t,j=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!C||C[T.route.id]===void 0);if(T.route.lazy||j){m=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&s?(_,T)=>{var w,C;s(_,{location:t.location,params:((C=(w=t.matches)==null?void 0:w[0])==null?void 0:C.params)??{},unstable_pattern:kA(t.matches),errorInfo:T})}:void 0;return l.reduceRight((_,T,w)=>{let C,j=!1,P=null,F=null;t&&(C=c&&T.route.id?c[T.route.id]:void 0,P=T.route.errorElement||FA,m&&(p<0&&w===0?(n1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,F=null):p===w&&(j=!0,F=T.route.hydrateFallbackElement||null)));let te=e.concat(l.slice(0,w+1)),ie=()=>{let ne;return C?ne=P:j?ne=F:T.route.Component?ne=z.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=_,z.createElement($A,{match:T,routeContext:{outlet:_,matches:te,isDataRoute:t!=null},children:ne})};return t&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?z.createElement(t1,{location:t.location,revalidation:t.revalidation,component:P,error:C,children:ie(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):ie()},null)}function Yp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YA(i){let e=z.useContext(Do);return dt(e,Yp(i)),e}function QA(i){let e=z.useContext(vf);return dt(e,Yp(i)),e}function XA(i){let e=z.useContext(hi);return dt(e,Yp(i)),e}function Qp(i){let e=XA(i),t=e.matches[e.matches.length-1];return dt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function JA(){return Qp("useRouteId")}function WA(){var s;let i=z.useContext($p),e=QA("useRouteError"),t=Qp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function ZA(){let{router:i}=YA("useNavigate"),e=Qp("useNavigate"),t=z.useRef(!1);return Zb(()=>{t.current=!0}),z.useCallback(async(o,l={})=>{$n(t.current,Wb),t.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var Uv={};function n1(i,e,t){!e&&!Uv[i]&&(Uv[i]=!0,$n(!1,t))}z.memo(e2);function e2({routes:i,future:e,state:t,onError:s}){return e1(i,void 0,t,s,e)}function i1({to:i,replace:e,state:t,relative:s}){dt(Oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Nn);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=z.useContext(hi),{pathname:c}=br(),m=Nu(),p=Gp(i,Fp(l),c,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function or(i){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t2({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){dt(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:m,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[m,o,l,c]);typeof t=="string"&&(t=ya(t));let{pathname:g="/",search:_="",hash:T="",state:w=null,key:C="default"}=t,j=z.useMemo(()=>{let P=mr(g,m);return P==null?null:{location:{pathname:P,search:_,hash:T,state:w,key:C},navigationType:s}},[m,g,_,T,w,C,s]);return $n(j!=null,`<Router basename="${m}"> is not able to match the URL "${g}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:z.createElement(Nn.Provider,{value:p},z.createElement(Iu.Provider,{children:e,value:j}))}function n2({children:i,location:e}){return qA(cp(i),e)}function cp(i,e=[]){let t=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let l=[...e,o];if(s.type===z.Fragment){t.push.apply(t,cp(s.props.children,l));return}dt(s.type===or,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=cp(s.props.children,l)),t.push(c)}),t}var Mh="get",Vh="application/x-www-form-urlencoded";function Ef(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function i2(i){return Ef(i)&&i.tagName.toLowerCase()==="button"}function r2(i){return Ef(i)&&i.tagName.toLowerCase()==="form"}function s2(i){return Ef(i)&&i.tagName.toLowerCase()==="input"}function a2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function o2(i,e){return i.button===0&&(!e||e==="_self")&&!a2(i)}var Sh=null;function l2(){if(Sh===null)try{new FormData(document.createElement("form"),0),Sh=!1}catch{Sh=!0}return Sh}var u2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(i){return i!=null&&!u2.has(i)?($n(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):i}function c2(i,e){let t,s,o,l,c;if(r2(i)){let m=i.getAttribute("action");s=m?mr(m,e):null,t=i.getAttribute("method")||Mh,o=Xm(i.getAttribute("enctype"))||Vh,l=new FormData(i)}else if(i2(i)||s2(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?mr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Mh,o=Xm(i.getAttribute("formenctype"))||Xm(m.getAttribute("enctype"))||Vh,l=new FormData(m,i),!l2()){let{name:g,type:_,value:T}=i;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,T)}}else{if(Ef(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mh,s=null,o=Vh,c=i}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function h2(i,e,t,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&mr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function f2(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function m2(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await f2(l,t);return c.links?c.links():[]}return[]}));return _2(s.flat(1).filter(d2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zv(i,e,t,s,o,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{var T;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function p2(i,e,{includeHydrateFallback:t}={}){return g2(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function g2(i){return[...new Set(i)]}function y2(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function _2(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(y2(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function r1(){let i=z.useContext(Do);return Xp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function v2(){let i=z.useContext(vf);return Xp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Jp=z.createContext(void 0);Jp.displayName="FrameworkContext";function s1(){let i=z.useContext(Jp);return Xp(i,"You must render this element inside a <HydratedRouter> element"),i}function E2(i,e){let t=z.useContext(Jp),[s,o]=z.useState(!1),[l,c]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,w=z.useRef(null);z.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let P=te=>{te.forEach(ie=>{c(ie.isIntersecting)})},F=new IntersectionObserver(P,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[i]),z.useEffect(()=>{if(s){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[s]);let C=()=>{o(!0)},j=()=>{o(!1),c(!1)};return t?i!=="intent"?[l,w,{}]:[l,w,{onFocus:Ql(m,C),onBlur:Ql(p,j),onMouseEnter:Ql(g,C),onMouseLeave:Ql(_,j),onTouchStart:Ql(T,C)}]:[!1,w,{}]}function Ql(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function b2({page:i,...e}){let{router:t}=r1(),s=z.useMemo(()=>Fb(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?z.createElement(w2,{page:i,matches:s,...e}):null}function T2(i){let{manifest:e,routeModules:t}=s1(),[s,o]=z.useState([]);return z.useEffect(()=>{let l=!1;return m2(i,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[i,e,t]),s}function w2({page:i,matches:e,...t}){let s=br(),{future:o,manifest:l,routeModules:c}=s1(),{basename:m}=r1(),{loaderData:p,matches:g}=v2(),_=z.useMemo(()=>zv(i,e,g,l,s,"data"),[i,e,g,l,s]),T=z.useMemo(()=>zv(i,e,g,l,s,"assets"),[i,e,g,l,s]),w=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,F=!1;if(e.forEach(ie=>{var ye;let ne=l.routes[ie.route.id];!ne||!ne.hasLoader||(!_.some(_e=>_e.route.id===ie.route.id)&&ie.route.id in p&&((ye=c[ie.route.id])!=null&&ye.shouldRevalidate)||ne.hasClientLoader?F=!0:P.add(ie.route.id))}),P.size===0)return[];let te=h2(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return F&&P.size>0&&te.searchParams.set("_routes",e.filter(ie=>P.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[te.pathname+te.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,l,_,e,i,c]),C=z.useMemo(()=>p2(T,l),[T,l]),j=T2(T);return z.createElement(z.Fragment,null,w.map(P=>z.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),C.map(P=>z.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),j.map(({key:P,link:F})=>z.createElement("link",{key:P,nonce:t.nonce,...F,crossOrigin:F.crossOrigin??t.crossOrigin})))}function x2(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var S2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S2&&(window.__reactRouterVersion="7.13.0")}catch{}function A2({basename:i,children:e,unstable_useTransitions:t,window:s}){let o=z.useRef();o.current==null&&(o.current=aA({window:s,v5Compat:!0}));let l=o.current,[c,m]=z.useState({action:l.action,location:l.location}),p=z.useCallback(g=>{t===!1?m(g):z.startTransition(()=>m(g))},[t]);return z.useLayoutEffect(()=>l.listen(p),[l,p]),z.createElement(t2,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var a1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gn=z.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:m,target:p,to:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:w,...C},j){let{basename:P,unstable_useTransitions:F}=z.useContext(Nn),te=typeof g=="string"&&a1.test(g),ie=Yb(g,P);g=ie.to;let ne=zA(g,{relative:o}),[ye,_e,oe]=E2(s,C),N=N2(g,{replace:c,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:w,unstable_useTransitions:F});function A(M){e&&e(M),M.defaultPrevented||N(M)}let k=z.createElement("a",{...C,...oe,href:ie.absoluteURL||ne,onClick:ie.isExternal||l?e:A,ref:x2(j,_e),target:p,"data-discover":!te&&t==="render"?"true":void 0});return ye&&!te?z.createElement(z.Fragment,null,k,z.createElement(b2,{page:ne})):k});Gn.displayName="Link";var R2=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:m,children:p,...g},_){let T=ku(c,{relative:g.relative}),w=br(),C=z.useContext(vf),{navigator:j,basename:P}=z.useContext(Nn),F=C!=null&&V2(T)&&m===!0,te=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,ie=w.pathname,ne=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(ie=ie.toLowerCase(),ne=ne?ne.toLowerCase():null,te=te.toLowerCase()),ne&&P&&(ne=mr(ne,P)||ne);const ye=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let _e=ie===te||!o&&ie.startsWith(te)&&ie.charAt(ye)==="/",oe=ne!=null&&(ne===te||!o&&ne.startsWith(te)&&ne.charAt(te.length)==="/"),N={isActive:_e,isPending:oe,isTransitioning:F},A=_e?e:void 0,k;typeof s=="function"?k=s(N):k=[s,_e?"active":null,oe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(N):l;return z.createElement(Gn,{...g,"aria-current":A,className:k,ref:_,style:M,to:c,viewTransition:m},typeof p=="function"?p(N):p)});R2.displayName="NavLink";var C2=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:c=Mh,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:w,...C},j)=>{let{unstable_useTransitions:P}=z.useContext(Nn),F=O2(),te=M2(m,{relative:g}),ie=c.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&a1.test(m),ye=_e=>{if(p&&p(_e),_e.defaultPrevented)return;_e.preventDefault();let oe=_e.nativeEvent.submitter,N=(oe==null?void 0:oe.getAttribute("formmethod"))||c,A=()=>F(oe||_e.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:w});P&&t!==!1?z.startTransition(()=>A()):A()};return z.createElement("form",{ref:j,method:ie,action:te,onSubmit:s?p:ye,...C,"data-discover":!ne&&i==="render"?"true":void 0})});C2.displayName="Form";function I2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o1(i){let e=z.useContext(Do);return dt(e,I2(i)),e}function N2(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Nu(),_=br(),T=ku(i,{relative:l});return z.useCallback(w=>{if(o2(w,e)){w.preventDefault();let C=t!==void 0?t:pu(_)===pu(T),j=()=>g(i,{replace:C,state:s,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:m});p?z.startTransition(()=>j()):j()}},[_,g,T,t,s,e,i,o,l,c,m,p])}var k2=0,D2=()=>`__${String(++k2)}__`;function O2(){let{router:i}=o1("useSubmit"),{basename:e}=z.useContext(Nn),t=JA(),s=i.fetch,o=i.navigate;return z.useCallback(async(l,c={})=>{let{action:m,method:p,encType:g,formData:_,body:T}=c2(l,e);if(c.navigate===!1){let w=c.fetcherKey||D2();await s(w,t,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:T,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:T,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,t])}function M2(i,{relative:e}={}){let{basename:t}=z.useContext(Nn),s=z.useContext(hi);dt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...ku(i||".",{relative:e})},c=br();if(i==null){l.search=c.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:hr([t,l.pathname])),pu(l)}function V2(i,{relative:e}={}){let t=z.useContext(Xb);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=o1("useViewTransitionState"),o=ku(i,{relative:e});if(!t.isTransitioning)return!1;let l=mr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=mr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Yh(o.pathname,c)!=null||Yh(o.pathname,l)!=null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P2=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Bv=i=>{const e=P2(i);return e.charAt(0).toUpperCase()+e.slice(1)},l1=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),j2=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=z.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...m},p)=>z.createElement("svg",{ref:p,...U2,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:l1("lucide",o),...!l&&!j2(m)&&{"aria-hidden":"true"},...m},[...c.map(([g,_])=>z.createElement(g,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(i,e)=>{const t=z.forwardRef(({className:s,...o},l)=>z.createElement(z2,{ref:l,iconNode:e,className:l1(`lucide-${L2(Bv(i))}`,`lucide-${i}`,s),...o}));return t.displayName=Bv(i),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],q2=Re("arrow-left",B2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],F2=Re("arrow-right",H2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$2=Re("calendar",G2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Wp=Re("chevron-left",K2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Q2=Re("chevron-right",Y2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],J2=Re("chromium",X2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qv=Re("circle-check",W2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],eR=Re("circle-plus",Z2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hv=Re("circle-x",tR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],iR=Re("clipboard-list",nR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],sR=Re("copy",rR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],oR=Re("download",aR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],u1=Re("external-link",lR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],cR=Re("image",uR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],fR=Re("layout-dashboard",hR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xo=Re("loader-circle",dR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],pR=Re("lock",mR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yR=Re("log-out",gR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vR=Re("mail",_R);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],bR=Re("menu",ER);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],c1=Re("message-circle",TR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],h1=Re("message-square",wR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],f1=Re("moon",xR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],AR=Re("package",SR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],CR=Re("palette",RR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],NR=Re("phone",IR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qh=Re("plus",kR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],d1=Re("rectangle-ellipsis",DR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],MR=Re("save",OR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],m1=Re("search",VR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PR=Re("shield-check",LR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Xh=Re("sparkles",jR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zR=Re("square-pen",UR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],p1=Re("sun",BR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],HR=Re("target",qR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zp=Re("trash-2",FR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$R=Re("trending-up",GR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],YR=Re("trophy",KR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],XR=Re("upload",QR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],WR=Re("user",JR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],g1=Re("users",ZR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],tC=Re("wand-sparkles",eC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Du=Re("x",nC),iC=()=>{};var Fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},rC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],c=i[t++],m=i[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],c=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},_1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=l>>2,T=(l&3)<<4|m>>4;let w=(m&15)<<2|g>>6,C=g&63;p||(C=64,c||(w=64)),s.push(t[_],t[T],t[w],t[C])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(y1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):rC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||m==null||g==null||T==null)throw new sC;const w=l<<2|m>>4;if(s.push(w),g!==64){const C=m<<4&240|g>>2;if(s.push(C),T!==64){const j=g<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class sC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aC=function(i){const e=y1(i);return _1.encodeByteArray(e,!0)},Jh=function(i){return aC(i).replace(/\./g,"")},v1=function(i){try{return _1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=()=>oC().__FIREBASE_DEFAULTS__,uC=()=>{if(typeof process>"u"||typeof Fv>"u")return;const i=Fv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},cC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&v1(i[1]);return e&&JSON.parse(e)},bf=()=>{try{return iC()||lC()||uC()||cC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},E1=i=>{var e,t;return(t=(e=bf())==null?void 0:e.emulatorHosts)==null?void 0:t[i]},hC=i=>{const e=E1(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},b1=()=>{var i;return(i=bf())==null?void 0:i.config},T1=i=>{var e;return(e=bf())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w1(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Jh(JSON.stringify(t)),Jh(JSON.stringify(c)),""].join(".")}const su={};function mC(){const i={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?i.emulator.push(e):i.prod.push(e);return i}function pC(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Gv=!1;function x1(i,e){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||su[i]===e||su[i]||Gv)return;su[i]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=mC().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Gv=!0,c()},w}function _(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=pC(s),C=t("text"),j=document.getElementById(C)||document.createElement("span"),P=t("learnmore"),F=document.getElementById(P)||document.createElement("a"),te=t("preprendIcon"),ie=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ne=w.element;m(ne),_(F,P);const ye=g();p(ie,te),ne.append(ie,j,F,ye),document.body.appendChild(ne)}l?(j.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function yC(){var e;const i=(e=bf())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _C(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function EC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bC(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function TC(){return!yC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wC(){try{return typeof indexedDB=="object"}catch{return!1}}function xC(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="FirebaseError";class Tr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=SC,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?AC(l,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Tr(o,m,s)}}function AC(i,e){return i.replace(RC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const RC=/\{\$([^}]+)}/g;function CC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function oa(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],c=e[o];if($v(l)&&$v(c)){if(!oa(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function $v(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function eu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function IC(i,e){const t=new NC(i,e);return t.subscribe.bind(t)}class NC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");kC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Jm),o.error===void 0&&(o.error=Jm),o.complete===void 0&&(o.complete=Jm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(i){return i&&i._delegate?i._delegate:i}class la{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new fC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MC(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OC(i){return i===ia?void 0:i}function MC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const LC={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},PC=Pe.INFO,jC={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},UC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=jC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eg{constructor(e){this.name=e,this._logLevel=PC,this._logHandler=UC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const zC=(i,e)=>e.some(t=>i instanceof t);let Kv,Yv;function BC(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qC(){return Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S1=new WeakMap,hp=new WeakMap,A1=new WeakMap,Wm=new WeakMap,tg=new WeakMap;function HC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(us(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&S1.set(t,i)}).catch(()=>{}),tg.set(e,i),e}function FC(i){if(hp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});hp.set(i,e)}let fp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return hp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||A1.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return us(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function GC(i){fp=i(fp)}function $C(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Zm(this),e,...t);return A1.set(s,e.sort?e.sort():[e]),us(s)}:qC().includes(i)?function(...e){return i.apply(Zm(this),e),us(S1.get(this))}:function(...e){return us(i.apply(Zm(this),e))}}function KC(i){return typeof i=="function"?$C(i):(i instanceof IDBTransaction&&FC(i),zC(i,BC())?new Proxy(i,fp):i)}function us(i){if(i instanceof IDBRequest)return HC(i);if(Wm.has(i))return Wm.get(i);const e=KC(i);return e!==i&&(Wm.set(i,e),tg.set(e,i)),e}const Zm=i=>tg.get(i);function YC(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(i,e),m=us(c);return s&&c.addEventListener("upgradeneeded",p=>{s(us(c.result),p.oldVersion,p.newVersion,us(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const QC=["get","getKey","getAll","getAllKeys","count"],XC=["put","add","delete","clear"],ep=new Map;function Qv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=XC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QC.includes(t)))return;const l=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return ep.set(e,l),l}GC(i=>({...i,get:(e,t,s)=>Qv(e,t)||i.get(e,t,s),has:(e,t)=>!!Qv(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function WC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dp="@firebase/app",Xv="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new eg("@firebase/app"),ZC="@firebase/app-compat",eI="@firebase/analytics-compat",tI="@firebase/analytics",nI="@firebase/app-check-compat",iI="@firebase/app-check",rI="@firebase/auth",sI="@firebase/auth-compat",aI="@firebase/database",oI="@firebase/data-connect",lI="@firebase/database-compat",uI="@firebase/functions",cI="@firebase/functions-compat",hI="@firebase/installations",fI="@firebase/installations-compat",dI="@firebase/messaging",mI="@firebase/messaging-compat",pI="@firebase/performance",gI="@firebase/performance-compat",yI="@firebase/remote-config",_I="@firebase/remote-config-compat",vI="@firebase/storage",EI="@firebase/storage-compat",bI="@firebase/firestore",TI="@firebase/ai",wI="@firebase/firestore-compat",xI="firebase",SI="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="[DEFAULT]",AI={[dp]:"fire-core",[ZC]:"fire-core-compat",[tI]:"fire-analytics",[eI]:"fire-analytics-compat",[iI]:"fire-app-check",[nI]:"fire-app-check-compat",[rI]:"fire-auth",[sI]:"fire-auth-compat",[aI]:"fire-rtdb",[oI]:"fire-data-connect",[lI]:"fire-rtdb-compat",[uI]:"fire-fn",[cI]:"fire-fn-compat",[hI]:"fire-iid",[fI]:"fire-iid-compat",[dI]:"fire-fcm",[mI]:"fire-fcm-compat",[pI]:"fire-perf",[gI]:"fire-perf-compat",[yI]:"fire-rc",[_I]:"fire-rc-compat",[vI]:"fire-gcs",[EI]:"fire-gcs-compat",[bI]:"fire-fst",[wI]:"fire-fst-compat",[TI]:"fire-vertex","fire-js":"fire-js",[xI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Map,RI=new Map,pp=new Map;function Jv(i,e){try{i.container.addComponent(e)}catch(t){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function So(i){const e=i.name;if(pp.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;pp.set(e,i);for(const t of Wh.values())Jv(t,i);for(const t of RI.values())Jv(t,i);return!0}function ng(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Cn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Ou("app","Firebase",CI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=SI;function R1(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:mp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(t||(t=b1()),!t)throw cs.create("no-options");const l=Wh.get(o);if(l){if(oa(t,l.options)&&oa(s,l.config))return l;throw cs.create("duplicate-app",{appName:o})}const c=new VC(o);for(const p of pp.values())c.addComponent(p);const m=new II(t,s,c);return Wh.set(o,m),m}function C1(i=mp){const e=Wh.get(i);if(!e&&i===mp&&b1())return R1();if(!e)throw cs.create("no-app",{appName:i});return e}function hs(i,e,t){let s=AI[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(c.join(" "));return}So(new la(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="firebase-heartbeat-database",kI=1,gu="firebase-heartbeat-store";let tp=null;function I1(){return tp||(tp=YC(NI,kI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(i=>{throw cs.create("idb-open",{originalErrorMessage:i.message})})),tp}async function DI(i){try{const t=(await I1()).transaction(gu),s=await t.objectStore(gu).get(N1(i));return await t.done,s}catch(e){if(e instanceof Tr)pr.warn(e.message);else{const t=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pr.warn(t.message)}}}async function Wv(i,e){try{const s=(await I1()).transaction(gu,"readwrite");await s.objectStore(gu).put(e,N1(i)),await s.done}catch(t){if(t instanceof Tr)pr.warn(t.message);else{const s=cs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});pr.warn(s.message)}}}function N1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=1024,MI=30;class VI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Zv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>MI){const c=jI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){pr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Zv(),{heartbeatsToSend:s,unsentEntries:o}=LI(this._heartbeatsCache.heartbeats),l=Jh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return pr.warn(t),""}}}function Zv(){return new Date().toISOString().substring(0,10)}function LI(i,e=OI){const t=[];let s=i.slice();for(const o of i){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),eE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),eE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class PI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wC()?xC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function eE(i){return Jh(JSON.stringify({version:2,heartbeats:i})).length}function jI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(i){So(new la("platform-logger",e=>new JC(e),"PRIVATE")),So(new la("heartbeat",e=>new VI(e),"PRIVATE")),hs(dp,Xv,i),hs(dp,Xv,"esm2020"),hs("fire-js","")}UI("");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fs,k1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function k(){}k.prototype=A.prototype,N.F=A.prototype,N.prototype=new k,N.prototype.constructor=N,N.D=function(M,I,O){for(var R=Array(arguments.length-2),re=2;re<arguments.length;re++)R[re-2]=arguments[re];return A.prototype[I].apply(M,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,k){k||(k=0);const M=Array(16);if(typeof A=="string")for(var I=0;I<16;++I)M[I]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(I=0;I<16;++I)M[I]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=N.g[0],k=N.g[1],I=N.g[2];let O=N.g[3],R;R=A+(O^k&(I^O))+M[0]+3614090360&4294967295,A=k+(R<<7&4294967295|R>>>25),R=O+(I^A&(k^I))+M[1]+3905402710&4294967295,O=A+(R<<12&4294967295|R>>>20),R=I+(k^O&(A^k))+M[2]+606105819&4294967295,I=O+(R<<17&4294967295|R>>>15),R=k+(A^I&(O^A))+M[3]+3250441966&4294967295,k=I+(R<<22&4294967295|R>>>10),R=A+(O^k&(I^O))+M[4]+4118548399&4294967295,A=k+(R<<7&4294967295|R>>>25),R=O+(I^A&(k^I))+M[5]+1200080426&4294967295,O=A+(R<<12&4294967295|R>>>20),R=I+(k^O&(A^k))+M[6]+2821735955&4294967295,I=O+(R<<17&4294967295|R>>>15),R=k+(A^I&(O^A))+M[7]+4249261313&4294967295,k=I+(R<<22&4294967295|R>>>10),R=A+(O^k&(I^O))+M[8]+1770035416&4294967295,A=k+(R<<7&4294967295|R>>>25),R=O+(I^A&(k^I))+M[9]+2336552879&4294967295,O=A+(R<<12&4294967295|R>>>20),R=I+(k^O&(A^k))+M[10]+4294925233&4294967295,I=O+(R<<17&4294967295|R>>>15),R=k+(A^I&(O^A))+M[11]+2304563134&4294967295,k=I+(R<<22&4294967295|R>>>10),R=A+(O^k&(I^O))+M[12]+1804603682&4294967295,A=k+(R<<7&4294967295|R>>>25),R=O+(I^A&(k^I))+M[13]+4254626195&4294967295,O=A+(R<<12&4294967295|R>>>20),R=I+(k^O&(A^k))+M[14]+2792965006&4294967295,I=O+(R<<17&4294967295|R>>>15),R=k+(A^I&(O^A))+M[15]+1236535329&4294967295,k=I+(R<<22&4294967295|R>>>10),R=A+(I^O&(k^I))+M[1]+4129170786&4294967295,A=k+(R<<5&4294967295|R>>>27),R=O+(k^I&(A^k))+M[6]+3225465664&4294967295,O=A+(R<<9&4294967295|R>>>23),R=I+(A^k&(O^A))+M[11]+643717713&4294967295,I=O+(R<<14&4294967295|R>>>18),R=k+(O^A&(I^O))+M[0]+3921069994&4294967295,k=I+(R<<20&4294967295|R>>>12),R=A+(I^O&(k^I))+M[5]+3593408605&4294967295,A=k+(R<<5&4294967295|R>>>27),R=O+(k^I&(A^k))+M[10]+38016083&4294967295,O=A+(R<<9&4294967295|R>>>23),R=I+(A^k&(O^A))+M[15]+3634488961&4294967295,I=O+(R<<14&4294967295|R>>>18),R=k+(O^A&(I^O))+M[4]+3889429448&4294967295,k=I+(R<<20&4294967295|R>>>12),R=A+(I^O&(k^I))+M[9]+568446438&4294967295,A=k+(R<<5&4294967295|R>>>27),R=O+(k^I&(A^k))+M[14]+3275163606&4294967295,O=A+(R<<9&4294967295|R>>>23),R=I+(A^k&(O^A))+M[3]+4107603335&4294967295,I=O+(R<<14&4294967295|R>>>18),R=k+(O^A&(I^O))+M[8]+1163531501&4294967295,k=I+(R<<20&4294967295|R>>>12),R=A+(I^O&(k^I))+M[13]+2850285829&4294967295,A=k+(R<<5&4294967295|R>>>27),R=O+(k^I&(A^k))+M[2]+4243563512&4294967295,O=A+(R<<9&4294967295|R>>>23),R=I+(A^k&(O^A))+M[7]+1735328473&4294967295,I=O+(R<<14&4294967295|R>>>18),R=k+(O^A&(I^O))+M[12]+2368359562&4294967295,k=I+(R<<20&4294967295|R>>>12),R=A+(k^I^O)+M[5]+4294588738&4294967295,A=k+(R<<4&4294967295|R>>>28),R=O+(A^k^I)+M[8]+2272392833&4294967295,O=A+(R<<11&4294967295|R>>>21),R=I+(O^A^k)+M[11]+1839030562&4294967295,I=O+(R<<16&4294967295|R>>>16),R=k+(I^O^A)+M[14]+4259657740&4294967295,k=I+(R<<23&4294967295|R>>>9),R=A+(k^I^O)+M[1]+2763975236&4294967295,A=k+(R<<4&4294967295|R>>>28),R=O+(A^k^I)+M[4]+1272893353&4294967295,O=A+(R<<11&4294967295|R>>>21),R=I+(O^A^k)+M[7]+4139469664&4294967295,I=O+(R<<16&4294967295|R>>>16),R=k+(I^O^A)+M[10]+3200236656&4294967295,k=I+(R<<23&4294967295|R>>>9),R=A+(k^I^O)+M[13]+681279174&4294967295,A=k+(R<<4&4294967295|R>>>28),R=O+(A^k^I)+M[0]+3936430074&4294967295,O=A+(R<<11&4294967295|R>>>21),R=I+(O^A^k)+M[3]+3572445317&4294967295,I=O+(R<<16&4294967295|R>>>16),R=k+(I^O^A)+M[6]+76029189&4294967295,k=I+(R<<23&4294967295|R>>>9),R=A+(k^I^O)+M[9]+3654602809&4294967295,A=k+(R<<4&4294967295|R>>>28),R=O+(A^k^I)+M[12]+3873151461&4294967295,O=A+(R<<11&4294967295|R>>>21),R=I+(O^A^k)+M[15]+530742520&4294967295,I=O+(R<<16&4294967295|R>>>16),R=k+(I^O^A)+M[2]+3299628645&4294967295,k=I+(R<<23&4294967295|R>>>9),R=A+(I^(k|~O))+M[0]+4096336452&4294967295,A=k+(R<<6&4294967295|R>>>26),R=O+(k^(A|~I))+M[7]+1126891415&4294967295,O=A+(R<<10&4294967295|R>>>22),R=I+(A^(O|~k))+M[14]+2878612391&4294967295,I=O+(R<<15&4294967295|R>>>17),R=k+(O^(I|~A))+M[5]+4237533241&4294967295,k=I+(R<<21&4294967295|R>>>11),R=A+(I^(k|~O))+M[12]+1700485571&4294967295,A=k+(R<<6&4294967295|R>>>26),R=O+(k^(A|~I))+M[3]+2399980690&4294967295,O=A+(R<<10&4294967295|R>>>22),R=I+(A^(O|~k))+M[10]+4293915773&4294967295,I=O+(R<<15&4294967295|R>>>17),R=k+(O^(I|~A))+M[1]+2240044497&4294967295,k=I+(R<<21&4294967295|R>>>11),R=A+(I^(k|~O))+M[8]+1873313359&4294967295,A=k+(R<<6&4294967295|R>>>26),R=O+(k^(A|~I))+M[15]+4264355552&4294967295,O=A+(R<<10&4294967295|R>>>22),R=I+(A^(O|~k))+M[6]+2734768916&4294967295,I=O+(R<<15&4294967295|R>>>17),R=k+(O^(I|~A))+M[13]+1309151649&4294967295,k=I+(R<<21&4294967295|R>>>11),R=A+(I^(k|~O))+M[4]+4149444226&4294967295,A=k+(R<<6&4294967295|R>>>26),R=O+(k^(A|~I))+M[11]+3174756917&4294967295,O=A+(R<<10&4294967295|R>>>22),R=I+(A^(O|~k))+M[2]+718787259&4294967295,I=O+(R<<15&4294967295|R>>>17),R=k+(O^(I|~A))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+O&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const k=A-this.blockSize,M=this.C;let I=this.h,O=0;for(;O<A;){if(I==0)for(;O<=k;)o(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<A;)if(M[I++]=N.charCodeAt(O++),I==this.blockSize){o(this,M),I=0;break}}else for(;O<A;)if(M[I++]=N[O++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var k=N.length-8;k<N.length;++k)N[k]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,k=0;k<4;++k)for(let M=0;M<32;M+=8)N[A++]=this.g[k]>>>M&255;return N};function l(N,A){var k=m;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=A(N)}function c(N,A){this.h=A;const k=[];let M=!0;for(let I=N.length-1;I>=0;I--){const O=N[I]|0;M&&O==A||(k[I]=O,M=!1)}this.g=k}var m={};function p(N){return-128<=N&&N<128?l(N,function(A){return new c([A|0],A<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return F(g(-N));const A=[];let k=1;for(let M=0;N>=k;M++)A[M]=N/k|0,k*=4294967296;return new c(A,0)}function _(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return F(_(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=g(Math.pow(A,8));let M=T;for(let O=0;O<N.length;O+=8){var I=Math.min(8,N.length-O);const R=parseInt(N.substring(O,O+I),A);I<8?(I=g(Math.pow(A,I)),M=M.j(I).add(g(R))):(M=M.j(k),M=M.add(g(R)))}return M}var T=p(0),w=p(1),C=p(16777216);i=c.prototype,i.m=function(){if(P(this))return-F(this).m();let N=0,A=1;for(let k=0;k<this.g.length;k++){const M=this.i(k);N+=(M>=0?M:4294967296+M)*A,A*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(P(this))return"-"+F(this).toString(N);const A=g(Math.pow(N,6));var k=this;let M="";for(;;){const I=ye(k,A).g;k=te(k,I.j(A));let O=((k.g.length>0?k.g[0]:k.h)>>>0).toString(N);if(k=I,j(k))return O+M;for(;O.length<6;)O="0"+O;M=O+M}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function P(N){return N.h==-1}i.l=function(N){return N=te(this,N),P(N)?-1:j(N)?0:1};function F(N){const A=N.g.length,k=[];for(let M=0;M<A;M++)k[M]=~N.g[M];return new c(k,~N.h).add(w)}i.abs=function(){return P(this)?F(this):this},i.add=function(N){const A=Math.max(this.g.length,N.g.length),k=[];let M=0;for(let I=0;I<=A;I++){let O=M+(this.i(I)&65535)+(N.i(I)&65535),R=(O>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);M=R>>>16,O&=65535,R&=65535,k[I]=R<<16|O}return new c(k,k[k.length-1]&-2147483648?-1:0)};function te(N,A){return N.add(F(A))}i.j=function(N){if(j(this)||j(N))return T;if(P(this))return P(N)?F(this).j(F(N)):F(F(this).j(N));if(P(N))return F(this.j(F(N)));if(this.l(C)<0&&N.l(C)<0)return g(this.m()*N.m());const A=this.g.length+N.g.length,k=[];for(var M=0;M<2*A;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<N.g.length;I++){const O=this.i(M)>>>16,R=this.i(M)&65535,re=N.i(I)>>>16,Ae=N.i(I)&65535;k[2*M+2*I]+=R*Ae,ie(k,2*M+2*I),k[2*M+2*I+1]+=O*Ae,ie(k,2*M+2*I+1),k[2*M+2*I+1]+=R*re,ie(k,2*M+2*I+1),k[2*M+2*I+2]+=O*re,ie(k,2*M+2*I+2)}for(N=0;N<A;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=A;N<2*A;N++)k[N]=0;return new c(k,0)};function ie(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ne(N,A){this.g=N,this.h=A}function ye(N,A){if(j(A))throw Error("division by zero");if(j(N))return new ne(T,T);if(P(N))return A=ye(F(N),A),new ne(F(A.g),F(A.h));if(P(A))return A=ye(N,F(A)),new ne(F(A.g),A.h);if(N.g.length>30){if(P(N)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var k=w,M=A;M.l(N)<=0;)k=_e(k),M=_e(M);var I=oe(k,1),O=oe(M,1);for(M=oe(M,2),k=oe(k,2);!j(M);){var R=O.add(M);R.l(N)<=0&&(I=I.add(k),O=R),M=oe(M,1),k=oe(k,1)}return A=te(N,I.j(A)),new ne(I,A)}for(I=T;N.l(A)>=0;){for(k=Math.max(1,Math.floor(N.m()/A.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),O=g(k),R=O.j(A);P(R)||R.l(N)>0;)k-=M,O=g(k),R=O.j(A);j(O)&&(O=w),I=I.add(O),N=te(N,R)}return new ne(I,N)}i.B=function(N){return ye(this,N).h},i.and=function(N){const A=Math.max(this.g.length,N.g.length),k=[];for(let M=0;M<A;M++)k[M]=this.i(M)&N.i(M);return new c(k,this.h&N.h)},i.or=function(N){const A=Math.max(this.g.length,N.g.length),k=[];for(let M=0;M<A;M++)k[M]=this.i(M)|N.i(M);return new c(k,this.h|N.h)},i.xor=function(N){const A=Math.max(this.g.length,N.g.length),k=[];for(let M=0;M<A;M++)k[M]=this.i(M)^N.i(M);return new c(k,this.h^N.h)};function _e(N){const A=N.g.length+1,k=[];for(let M=0;M<A;M++)k[M]=N.i(M)<<1|N.i(M-1)>>>31;return new c(k,N.h)}function oe(N,A){const k=A>>5;A%=32;const M=N.g.length-k,I=[];for(let O=0;O<M;O++)I[O]=A>0?N.i(O+k)>>>A|N.i(O+k+1)<<32-A:N.i(O+k);return new c(I,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,k1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,fs=c}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D1,tu,O1,Lh,gp,M1,V1,L1;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ah=="object"&&Ah];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(h,y){if(y)e:{var E=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var B=h[S];if(!(B in E))break e;E=E[B]}h=h[h.length-1],S=E[h],y=y(S),y!=S&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&E.push([S,y[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(S,B,$){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return y.prototype[B].apply(S,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const y=h.length;if(y>0){const E=Array(y);for(let S=0;S<y;S++)E[S]=h[S];return E}return[]}function j(h,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=h.length||0;const $=B.length||0;h.length=E+$;for(let se=0;se<$;se++)h[E+se]=B[se]}else h.push(B)}}class P{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(h){c.setTimeout(()=>{throw h},0)}function te(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,E){const S=ne.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new P(()=>new ye,h=>h.reset());class ye{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,oe=!1,N=new ie,A=()=>{const h=Promise.resolve(void 0);_e=()=>{h.then(k)}};function k(){for(var h;h=te();){try{h.h.call(h.g)}catch(E){F(E)}var y=ne;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}oe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function re(h,y){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(re,I),re.prototype.init=function(h,y){const E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ae(h,y,E,S,B){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=B,this.key=++Y,this.da=this.fa=!1}function me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,y,E){for(const S in h)y.call(E,h[S],S,h)}function Qe(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function L(h){const y={};for(const E in h)y[E]=h[E];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,y){let E,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(E in S)h[E]=S[E];for(let $=0;$<Z.length;$++)E=Z[$],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,y,E,S,B){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const se=Ne(h,y,S,B);return se>-1?(y=h[se],E||(y.fa=!1)):(y=new ae(y,this.src,$,!!S,B),y.fa=E,h.push(y)),y};function Te(h,y){const E=y.type;if(E in h.g){var S=h.g[E],B=Array.prototype.indexOf.call(S,y,void 0),$;($=B>=0)&&Array.prototype.splice.call(S,B,1),$&&(me(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ne(h,y,E,S){for(let B=0;B<h.length;++B){const $=h[B];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==S)return B}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Vt={};function ct(h,y,E,S,B){if(Array.isArray(y)){for(let $=0;$<y.length;$++)ct(h,y[$],E,S,B);return null}return E=Go(E),h&&h[Ae]?h.J(y,E,m(S)?!!S.capture:!1,B):As(h,y,E,!1,S,B)}function As(h,y,E,S,B,$){if(!y)throw Error("Invalid event type");const se=m(B)?!!B.capture:!!B;let Ce=Rs(h);if(Ce||(h[Be]=Ce=new he(h)),E=Ce.add(y,E,S,se,$),E.proxy)return E;if(S=Ta(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)O||(B=se),B===void 0&&(B=!1),h.addEventListener(y.toString(),S,B);else if(h.attachEvent)h.attachEvent(fi(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ta(){function h(E){return y.call(h.src,h.listener,E)}const y=Ho;return h}function wa(h,y,E,S,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)wa(h,y[$],E,S,B);else S=m(S)?!!S.capture:!!S,E=Go(E),h&&h[Ae]?(h=h.i,$=String(y).toString(),$ in h.g&&(y=h.g[$],E=Ne(y,E,S,B),E>-1&&(me(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[$],h.h--)))):h&&(h=Rs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ne(y,E,S,B)),(E=h>-1?y[h]:null)&&xa(E))}function xa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ae])Te(y.i,h);else{var E=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(E,S,h.capture):y.detachEvent?y.detachEvent(fi(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=Rs(y))?(Te(E,h),E.h==0&&(E.src=null,y[Be]=null)):me(h)}}}function fi(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function Ho(h,y){if(h.da)h=!0;else{y=new re(y,this);const E=h.listener,S=h.ha||h.src;h.fa&&xa(h),h=E.call(S,y)}return h}function Rs(h){return h=h[Be],h instanceof he?h:null}var Fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Go(h){return typeof h=="function"?h:(h[Fo]||(h[Fo]=function(y){return h.handleEvent(y)}),h[Fo])}function Tt(){M.call(this),this.i=new he(this),this.M=this,this.G=null}T(Tt,M),Tt.prototype[Ae]=!0,Tt.prototype.removeEventListener=function(h,y,E,S){wa(this,h,y,E,S)};function Lt(h,y){var E,S=h.G;if(S)for(E=[];S;S=S.G)E.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new I(y,h);else if(y instanceof I)y.target=y.target||h;else{var B=y;y=new I(S,h),le(y,B)}B=!0;let $,se;if(E)for(se=E.length-1;se>=0;se--)$=y.g=E[se],B=wr($,S,!0,y)&&B;if($=y.g=h,B=wr($,S,!0,y)&&B,B=wr($,S,!1,y)&&B,E)for(se=0;se<E.length;se++)$=y.g=E[se],B=wr($,S,!1,y)&&B}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let S=0;S<E.length;S++)me(E[S]);delete h.g[y],h.h--}}this.G=null},Tt.prototype.J=function(h,y,E,S){return this.i.add(String(h),y,!1,E,S)},Tt.prototype.K=function(h,y,E,S){return this.i.add(String(h),y,!0,E,S)};function wr(h,y,E,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let $=0;$<y.length;++$){const se=y[$];if(se&&!se.da&&se.capture==E){const Ce=se.listener,_t=se.ha||se.src;se.fa&&Te(h.i,se),B=Ce.call(_t,S)!==!1&&B}}return B&&!S.defaultPrevented}function Ff(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Qu(h){h.g=Ff(()=>{h.g=null,h.i&&(h.i=!1,Qu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class an extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(h){M.call(this),this.h=h,this.g={}}T(Cs,M);var $o=[];function Ko(h){De(h.g,function(y,E){this.g.hasOwnProperty(E)&&xa(y)},h),h.g={}}Cs.prototype.N=function(){Cs.Z.N.call(this),Ko(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=c.JSON.stringify,Gf=c.JSON.parse,Xu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ju(){}function Wu(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){I.call(this,"d")}T(Ft,I);function kn(){I.call(this,"c")}T(kn,I);var yt={},Zu=null;function Sa(){return Zu=Zu||new Tt}yt.Ia="serverreachability";function ec(h){I.call(this,yt.Ia,h)}T(ec,I);function di(h){const y=Sa();Lt(y,new ec(y))}yt.STAT_EVENT="statevent";function Is(h,y){I.call(this,yt.STAT_EVENT,h),this.stat=y}T(Is,I);function wt(h){const y=Sa();Lt(y,new Is(y,h))}yt.Ja="timingevent";function mi(h,y){I.call(this,yt.Ja,h),this.size=y}T(mi,I);function pi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function $f(h,y,E,S,B,$){h.info(function(){if(h.g)if($){var se="",Ce=$.split("&");for(let Ge=0;Ge<Ce.length;Ge++){var _t=Ce[Ge].split("=");if(_t.length>1){const ht=_t[0];_t=_t[1];const Vn=ht.split("_");se=Vn.length>=2&&Vn[1]=="type"?se+(ht+"="+_t+"&"):se+(ht+"=redacted&")}}}else se=null;else se=$;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+E+`
`+se})}function tc(h,y,E,S,B,$,se){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+E+`
`+$+" "+se})}function gi(h,y,E,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Kf(h,E)+(S?" "+S:"")})}function Ns(h,y){h.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function Kf(h,y){if(!h.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var E=$[h];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return xr($)}catch{return y}}var ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qo;function Ds(){}T(Ds,Ju),Ds.prototype.g=function(){return new XMLHttpRequest},Qo=new Ds;function qi(h){return encodeURIComponent(String(h))}function nc(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Xn(h,y,E,S){this.j=h,this.i=y,this.l=E,this.S=S||1,this.V=new Cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var xt={},Ut={};function yi(h,y,E){h.M=1,h.A=Os(At(y)),h.u=E,h.R=!0,Aa(h,null)}function Aa(h,y){h.F=Date.now(),_i(h),h.B=At(h.A);var E=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Na(E.i,"t",S),h.C=0,E=h.j.L,h.h=new Jn,h.g=yc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new an(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,S=h.ba;var B="readystatechange";Array.isArray(B)||(B&&($o[0]=B.toString()),B=$o);for(let $=0;$<B.length;$++){const se=ct(E,B[$],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),di(),$f(h.i,h.v,h.B,h.l,h.S,h.u)}Xn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ei(h)==3?y.j():this.Y(h)},Xn.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=ei(this.g),_t=this.g.ya(),Ge=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||Ce!=4||_t==7||(_t==8||Ge<=0?di(3):di(2)),vi(this);var y=this.g.ca();this.X=y;var E=Yf(this);if(this.o=y==200,tc(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var $=S;break t}}$=null}if(h=$)gi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,h);else{this.o=!1,this.m=3,wt(12),_n(this),Dn(this);break e}}if(this.R){h=!0;let ht;for(;!this.K&&this.C<E.length;)if(ht=rc(this,E),ht==Ut){Ce==4&&(this.m=4,wt(14),h=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==xt){this.m=4,wt(15),gi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else gi(this.i,this.l,ht,null),Ei(this,ht);if(ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,wt(16),h=!1),this.o=this.o&&h,!h)gi(this.i,this.l,E,"[Invalid Chunked Response]"),_n(this),Dn(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),cl(se),se.P=!0,wt(11))}}else gi(this.i,this.l,E,null),Ei(this,E);Ce==4&&_n(this),this.o&&!this.K&&(Ce==4?dc(this.j,this):(this.o=!1,_i(this)))}else Fi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),_n(this),Dn(this)}}}catch{}finally{}};function Yf(h){if(!ic(h))return h.g.la();const y=Gt(h.g);if(y==="")return"";let E="";const S=y.length,B=ei(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return _n(h),Dn(h),"";h.h.i=new c.TextDecoder}for(let $=0;$<S;$++)h.h.h=!0,E+=h.h.i.decode(y[$],{stream:!(B&&$==S-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function ic(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function rc(h,y){var E=h.C,S=y.indexOf(`
`,E);return S==-1?Ut:(E=Number(y.substring(E,S)),isNaN(E)?xt:(S+=1,S+E>y.length?Ut:(y=y.slice(S,S+E),h.C=S+E,y)))}Xn.prototype.cancel=function(){this.K=!0,_n(this)};function _i(h){h.T=Date.now()+h.H,Ra(h,h.H)}function Ra(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=pi(g(h.aa,h),y)}function vi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Xn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ns(this.i,this.B),this.M!=2&&(di(),wt(17)),_n(this),this.m=2,Dn(this)):Ra(this,this.T-h)};function Dn(h){h.j.I==0||h.K||dc(h.j,h)}function _n(h){vi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Ko(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ei(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Ti(E.h,h))){if(!h.L&&Ti(E.h,h)&&E.I==3){try{var S=E.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Va(E),Dr(E);else break e;zs(E),wt(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=pi(g(E.Va,E),6e3));bi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ci(E,11)}else if((h.L||E.g==h)&&Va(E),!R(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Ge=B[y];const ht=Ge[0];if(!(ht<=E.K))if(E.K=ht,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const Vn=Ge[3];Vn!=null&&(E.ka=Vn,E.j.info("VER="+E.ka));const Ii=Ge[4];Ii!=null&&(E.za=Ii,E.j.info("SVER="+E.za));const ti=Ge[5];ti!=null&&typeof ti=="number"&&ti>0&&(S=1.5*ti,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const ni=h.g;if(ni){const Bs=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bs){var $=S.h;$.g||Bs.indexOf("spdy")==-1&&Bs.indexOf("quic")==-1&&Bs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Wo($,$.h),$.h=null))}if(S.G){const La=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(S.wa=La,Xe(S.J,S.G,La))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var se=h;if(S.na=gc(S,S.L?S.ba:null,S.W),se.L){Zo(S.h,se);var Ce=se,_t=S.O;_t&&(Ce.H=_t),Ce.D&&(vi(Ce),_i(Ce)),S.g=se}else hc(S);E.i.length>0&&Ri(E)}else Ge[0]!="stop"&&Ge[0]!="close"||Ci(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ci(E,7):ll(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}di(4)}catch{}}var St=class{constructor(h,y){this.g=h,this.map=y}};function Xo(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bi(h){return h.h?1:h.g?h.g.size:0}function Ti(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Wo(h,y){h.g?h.g.add(y):h.h=y}function Zo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Xo.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function el(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return C(h.i)}var sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const S=h[E].indexOf("=");let B,$=null;S>=0?(B=h[E].substring(0,S),$=h[E].substring(S+1)):B=h[E],y(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof vn?(this.l=h.l,zt(this,h.j),this.o=h.o,this.g=h.g,Sr(this,h.u),this.h=h.h,tl(this,uc(h.i)),this.m=h.m):h&&(y=String(h).match(sc))?(this.l=!1,zt(this,y[1]||"",!0),this.o=wi(y[2]||""),this.g=wi(y[3]||"",!0),Sr(this,y[4]),this.h=wi(y[5]||"",!0),tl(this,y[6]||"",!0),this.m=wi(y[7]||"")):(this.l=!1,this.i=new Rr(null,this.l))}vn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ms(y,Ia,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ms(y,Ia,!0),"@"),h.push(qi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ms(E,E.charAt(0)=="/"?nl:ac,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ms(E,oc)),h.join("")},vn.prototype.resolve=function(h){const y=At(this);let E=!!h.j;E?zt(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var S=h.h;if(E)Sr(y,h.u);else if(E=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const $=[];for(let se=0;se<B.length;){const Ce=B[se++];Ce=="."?S&&se==B.length&&$.push(""):Ce==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),S&&se==B.length&&$.push("")):($.push(Ce),S=!0)}S=$.join("/")}else S=B}return E?y.h=S:E=h.i.toString()!=="",E?tl(y,uc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function At(h){return new vn(h)}function zt(h,y,E){h.j=E?wi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Sr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function tl(h,y,E){y instanceof Rr?(h.i=y,ka(h.i,h.l)):(E||(y=Ms(y,Ar)),h.i=new Rr(y,h.l))}function Xe(h,y,E){h.i.set(y,E)}function Os(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function wi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ms(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,un),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function un(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ia=/[#\/\?@]/g,ac=/[#\?:]/g,nl=/[#\?]/g,Ar=/[#\?@]/g,oc=/#/g;function Rr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function cn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ca(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Rr.prototype,i.add=function(h,y){cn(this),this.i=null,h=Cr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function lc(h,y){cn(h),y=Cr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function il(h,y){return cn(h),y=Cr(h,y),h.g.has(y)}i.forEach=function(h,y){cn(this),this.g.forEach(function(E,S){E.forEach(function(B){h.call(y,B,S,this)},this)},this)};function rl(h,y){cn(h);let E=[];if(typeof y=="string")il(h,y)&&(E=E.concat(h.g.get(Cr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return cn(this),this.i=null,h=Cr(this,h),il(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=rl(this,h),h.length>0?String(h[0]):y):y};function Na(h,y,E){lc(h,y),E.length>0&&(h.i=null,h.g.set(Cr(h,y),C(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var E=y[S];const B=qi(E);E=rl(this,E);for(let $=0;$<E.length;$++){let se=B;E[$]!==""&&(se+="="+qi(E[$])),h.push(se)}}return this.i=h.join("&")};function uc(h){const y=new Rr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Cr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ka(h,y){y&&!h.j&&(cn(h),h.i=null,h.g.forEach(function(E,S){const B=S.toLowerCase();S!=B&&(lc(this,S),Na(this,B,E))},h)),h.j=y}function Wn(h,y){const E=new Qn;if(c.Image){const S=new Image;S.onload=_(On,E,"TestLoadImage: loaded",!0,y,S),S.onerror=_(On,E,"TestLoadImage: error",!1,y,S),S.onabort=_(On,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=_(On,E,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function sl(h,y){const E=new Qn,S=new AbortController,B=setTimeout(()=>{S.abort(),On(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then($=>{clearTimeout(B),$.ok?On(E,"TestPingServer: ok",!0,y):On(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),On(E,"TestPingServer: error",!1,y)})}function On(h,y,E,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(E)}catch{}}function Ir(){this.g=new Xu}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(xi,Ju),xi.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(h,y){Tt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Vs,Tt),i=Vs.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Zn(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Nr(this):Zn(this),this.readyState==3&&Da(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Nr(this))},i.Na=function(h){this.g&&(this.response=h,Nr(this))},i.ga=function(){this.g&&Nr(this)};function Nr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Zn(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Zn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Mn(h){let y="";return De(h,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function Ls(h,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Mn(E),typeof h=="string"?E!=null&&qi(E):Xe(h,y,E))}function Ze(h){Tt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,Tt);var Si=/^https?$/i,al=["POST","PUT"];i=Ze.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qo.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch($){Ps(this,$);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)E.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())E.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(al,y,void 0)>=0)||S||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,se]of E)this.g.setRequestHeader($,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){Ps(this,$)}};function Ps(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,ol(h),Hi(h)}function ol(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),Hi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Ze.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},i.Xa=function(){js(this)};function js(h){if(h.h&&typeof l<"u"){if(h.v&&ei(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),ei(h)==4){h.h=!1;try{const $=h.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=$===0){let se=String(h.D).match(sc)[1]||null;!se&&c.self&&c.self.location&&(se=c.self.location.protocol.slice(0,-1)),S=!Si.test(se?se.toLowerCase():"")}E=S}if(E)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var B=ei(h)>2?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.ca()+"]",ol(h)}}finally{Hi(h)}}}}function Hi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Lt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ei(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Gf(y)}};function Gt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(h){const y={};h=(h.g&&ei(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(R(h[S]))continue;var E=nc(h[S]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[B]||[];y[B]=$,$.push(E)}Qe(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function kr(h){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,h),this.Za=Ai("retryDelaySeedMs",1e4,h),this.Ta=Ai("forwardChannelMaxRetries",2,h),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Xo(h&&h.concurrentRequestLimit),this.Ba=new Ir,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=kr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,S){wt(0),this.W=h,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=gc(this,null,this.W),Ri(this)};function ll(h){if(Oa(h),h.I==3){var y=h.V++,E=At(h.J);if(Xe(E,"SID",h.M),Xe(E,"RID",y),Xe(E,"TYPE","terminate"),Us(h,E),y=new Xn(h,h.j,y),y.M=2,y.A=Os(At(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=yc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),_i(y)}pc(h)}function Dr(h){h.g&&(cl(h),h.g.cancel(),h.g=null)}function Oa(h){Dr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Va(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ri(h){if(!Jo(h.h)&&!h.m){h.m=!0;var y=h.Ea;_e||A(),oe||(_e(),oe=!0),N.add(y,h),h.D=0}}function Ma(h,y){return bi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=pi(g(h.Ea,h,y),mc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const B=new Xn(this,this.j,h);let $=this.o;if(this.U&&($?($=L($),le($,this.U)):$=this.U),this.u!==null||this.R||(B.J=$,$=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=cc(this,B,y),E=At(this.J),Xe(E,"RID",h),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),Us(this,E),$&&(this.R?y="headers="+qi(Mn($))+"&"+y:this.u&&Ls(E,this.u,$)),Wo(this.h,B),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",y),Xe(E,"SID","null"),B.U=!0,yi(B,E,null)):yi(B,E,y),this.I=2}}else this.I==3&&(h?ul(this,h):this.i.length==0||Jo(this.h)||ul(this))};function ul(h,y){var E;y?E=y.l:E=h.V++;const S=At(h.J);Xe(S,"SID",h.M),Xe(S,"RID",E),Xe(S,"AID",h.K),Us(h,S),h.u&&h.o&&Ls(S,h.u,h.o),E=new Xn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=cc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Wo(h.h,E),yi(E,S,y)}function Us(h,y){h.H&&De(h.H,function(E,S){Xe(y,S,E)}),h.l&&De({},function(E,S){Xe(y,S,E)})}function cc(h,y,E){E=Math.min(h.i.length,E);const S=h.l?g(h.l.Ka,h.l,h):null;e:{var B=h.i;let Ce=-1;for(;;){const _t=["count="+E];Ce==-1?E>0?(Ce=B[0].g,_t.push("ofs="+Ce)):Ce=0:_t.push("ofs="+Ce);let Ge=!0;for(let ht=0;ht<E;ht++){var $=B[ht].g;const Vn=B[ht].map;if($-=Ce,$<0)Ce=Math.max(0,B[ht].g-100),Ge=!1;else try{$="req"+$+"_"||"";try{var se=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ii,ti]of se){let ni=ti;m(ti)&&(ni=xr(ti)),_t.push($+Ii+"="+encodeURIComponent(ni))}}catch(Ii){throw _t.push($+"type="+encodeURIComponent("_badmap")),Ii}}catch{S&&S(Vn)}}if(Ge){se=_t.join("&");break e}}se=void 0}return h=h.i.splice(0,E),y.G=h,se}function hc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;_e||A(),oe||(_e(),oe=!0),N.add(y,h),h.A=0}}function zs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=pi(g(h.Da,h),mc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=pi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Dr(this),fc(this))};function cl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function fc(h){h.g=new Xn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=At(h.na);Xe(y,"RID","rpc"),Xe(y,"SID",h.M),Xe(y,"AID",h.K),Xe(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(y,"TO",h.ia),Xe(y,"TYPE","xmlhttp"),Us(h,y),h.u&&h.o&&Ls(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Os(At(y)),E.u=null,E.R=!0,Aa(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Dr(this),zs(this),wt(19))};function Va(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function dc(h,y){var E=null;if(h.g==y){Va(h),cl(h),h.g=null;var S=2}else if(Ti(h.h,y))E=y.G,Zo(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=h.D;S=Sa(),Lt(S,new mi(S,E)),Ri(h)}else hc(h);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&Ma(h,y)||S==2&&zs(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),B){case 1:Ci(h,5);break;case 4:Ci(h,10);break;case 3:Ci(h,6);break;default:Ci(h,2)}}}function mc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Ci(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),S=h.Ua;const B=!S;S=new vn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||zt(S,"https"),Os(S),B?Wn(S.toString(),E):sl(S.toString(),E)}else wt(2);h.I=0,h.l&&h.l.pa(y),pc(h),Oa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function pc(h){if(h.I=0,h.ja=[],h.l){const y=el(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function gc(h,y,E){var S=E instanceof vn?At(E):new vn(E);if(S.g!="")y&&(S.g=y+"."+S.g),Sr(S,S.u);else{var B=c.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const $=new vn(null);S&&zt($,S),y&&($.g=y),B&&Sr($,B),E&&($.h=E),S=$}return E=h.G,y=h.wa,E&&y&&Xe(S,E,y),Xe(S,"VER",h.ka),Us(h,S),S}function yc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Ze(new xi({ab:E})):new Ze(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function _c(){}i=_c.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Or(){}Or.prototype.g=function(h,y){return new on(h,y)};function on(h,y){Tt.call(this),this.g=new kr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!R(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Gi(this)}T(on,Tt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){ll(this.g)},on.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=xr(h),h=E);y.i.push(new St(y.Ya++,h)),y.I==3&&Ri(y)},on.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,on.Z.N.call(this)};function vc(h){Ft.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(vc,Ft);function Ec(){kn.call(this),this.status=1}T(Ec,kn);function Gi(h){this.g=h}T(Gi,_c),Gi.prototype.ra=function(){Lt(this.g,"a")},Gi.prototype.qa=function(h){Lt(this.g,new vc(h))},Gi.prototype.pa=function(h){Lt(this.g,new Ec)},Gi.prototype.oa=function(){Lt(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,L1=function(){return new Or},V1=function(){return Sa()},M1=yt,gp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Lh=ks,Yo.COMPLETE="complete",O1=Yo,Wu.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,tu=Wu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,D1=Ze}).apply(typeof Ah<"u"?Ah:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="12.8.0";function zI(i){Lo=i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new eg("@firebase/firestore");function mo(){return ua.logLevel}function ce(i,...e){if(ua.logLevel<=Pe.DEBUG){const t=e.map(ig);ua.debug(`Firestore (${Lo}): ${i}`,...t)}}function gr(i,...e){if(ua.logLevel<=Pe.ERROR){const t=e.map(ig);ua.error(`Firestore (${Lo}): ${i}`,...t)}}function Ao(i,...e){if(ua.logLevel<=Pe.WARN){const t=e.map(ig);ua.warn(`Firestore (${Lo}): ${i}`,...t)}}function ig(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,P1(i,s,t)}function P1(i,e,t){let s=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw gr(s),new Error(s)}function Ye(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||P1(e,o,s)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Tr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(tn.UNAUTHENTICATED)))}shutdown(){}}class qI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class HI{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new j1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class FI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class GI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new FI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $I{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new nE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=KI(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function je(i,e){return i<e?-1:i>e?1:0}function yp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),l=e.charAt(s);if(o!==l)return np(o)===np(l)?je(o,l):np(o)?1:-1}return je(i.length,e.length)}const YI=55296,QI=57343;function np(i){const e=i.charCodeAt(0);return e>=YI&&e<=QI}function Ro(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="__name__";class Mi{constructor(e,t,s){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&be(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Mi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return je(e.length,t.length)}static compareSegments(e,t){const s=Mi.isNumericId(e),o=Mi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(e).compare(Mi.extractNumericId(t)):yp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fs.fromString(e.substring(4,e.length-2))}}class st extends Mi{construct(e,t,s){return new st(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const XI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Mi{construct(e,t,s){return new Jt(e,t,s)}static isValidIdentifier(e){return XI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iE}static keyField(){return new Jt([iE])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(l(),o++)}if(l(),c)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(st.fromString(e))}static fromName(e){return new ge(st.fromString(e).popFirst(5))}static empty(){return new ge(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(i,e,t){if(!t)throw new ue(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function JI(i,e,t,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function rE(i){if(!ge.isDocumentKey(i))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function sE(i){if(ge.isDocumentKey(i))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function z1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Tf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be(12329,{type:typeof i})}function yr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tf(i);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(i,e){const t={typeString:i};return e&&(t.value=e),t}function Vu(i,e){if(!z1(i))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ue(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=-62135596800,oE=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*oE);return new ut(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<aE)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oE}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Ot("string",ut._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ut(0,0))}static max(){return new we(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function WI(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new ut(t+1,0):new ut(t,s));return new ps(o,ge.empty(),e)}function ZI(i){return new ps(i.readTime,i.key,yu)}class ps{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ps(we.min(),ge.empty(),yu)}static max(){return new ps(we.max(),ge.empty(),yu)}}function eN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(i.documentKey,e.documentKey),t!==0?t:je(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==tN)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ee.reject(t)}static resolve(e){return new ee(((t,s)=>{t(e)}))}static reject(e){return new ee(((t,s)=>{s(e)}))}static waitFor(e){return new ee(((t,s)=>{let o=0,l=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++l,c&&l===o&&t()}),(p=>s(p)))})),c=!0,l===o&&t()}))}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next((o=>o?ee.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new ee(((s,o)=>{const l=e.length,c=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((_=>{c[g]=_,++m,m===l&&s(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new ee(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function iN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function xf(i){return i==null}function Zh(i){return i===0&&1/i==-1/0}function rN(i){return typeof i=="number"&&Number.isInteger(i)&&!Zh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="";function sN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=lE(e)),e=aN(i.get(t),e);return lE(e)}function aN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case B1:t+="";break;default:t+=l}}return t}function lE(i){return i+B1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function bs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function q1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=l??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Xt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cE(this.data.getIterator())}getIteratorFrom(e){return new cE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class cE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new In([])}unionWith(e){let t=new jt(Jt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new H1("Invalid base64 string: "+l):l}})(e);return new Wt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const oN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const t=oN.exec(i);if(Ye(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ys(i){return typeof i=="string"?Wt.fromBase64String(i):Wt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="server_timestamp",G1="__type__",$1="__previous_value__",K1="__local_write_time__";function ag(i){var t,s;return((s=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[G1])==null?void 0:s.stringValue)===F1}function Sf(i){const e=i.mapValue.fields[$1];return ag(e)?Sf(e):e}function _u(i){const e=gs(i.mapValue.fields[K1].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t,s,o,l,c,m,p,g,_,T){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_,this.apiKey=T}}const ef="(default)";class vu{constructor(e,t){this.projectId=e,this.database=t||ef}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===ef}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}function uN(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(i.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="__type__",cN="__max__",Ch={mapValue:{}},Q1="__vector__",tf="value";function _s(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ag(i)?4:fN(i)?9007199254740991:hN(i)?10:11:be(28295,{value:i})}function Bi(i,e){if(i===e)return!0;const t=_s(i);if(t!==_s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _u(i).isEqual(_u(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=gs(o.timestampValue),m=gs(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,l){return ys(o.bytesValue).isEqual(ys(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,l){return bt(o.geoPointValue.latitude)===bt(l.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(l.geoPointValue.longitude)})(i,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return bt(o.integerValue)===bt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=bt(o.doubleValue),m=bt(l.doubleValue);return c===m?Zh(c)===Zh(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return Ro(i.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(uE(c)!==uE(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Bi(c[p],m[p])))return!1;return!0})(i,e);default:return be(52216,{left:i})}}function Eu(i,e){return(i.values||[]).find((t=>Bi(t,e)))!==void 0}function Co(i,e){if(i===e)return 0;const t=_s(i),s=_s(e);if(t!==s)return je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const m=bt(l.integerValue||l.doubleValue),p=bt(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return hE(i.timestampValue,e.timestampValue);case 4:return hE(_u(i),_u(e));case 5:return yp(i.stringValue,e.stringValue);case 6:return(function(l,c){const m=ys(l),p=ys(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const m=l.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=je(m[g],p[g]);if(_!==0)return _}return je(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const m=je(bt(l.latitude),bt(c.latitude));return m!==0?m:je(bt(l.longitude),bt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return fE(i.arrayValue,e.arrayValue);case 10:return(function(l,c){var w,C,j,P;const m=l.fields||{},p=c.fields||{},g=(w=m[tf])==null?void 0:w.arrayValue,_=(C=p[tf])==null?void 0:C.arrayValue,T=je(((j=g==null?void 0:g.values)==null?void 0:j.length)||0,((P=_==null?void 0:_.values)==null?void 0:P.length)||0);return T!==0?T:fE(g,_)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Ch.mapValue&&c===Ch.mapValue)return 0;if(l===Ch.mapValue)return 1;if(c===Ch.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const w=yp(p[T],_[T]);if(w!==0)return w;const C=Co(m[p[T]],g[_[T]]);if(C!==0)return C}return je(p.length,_.length)})(i.mapValue,e.mapValue);default:throw be(23264,{he:t})}}function hE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return je(i,e);const t=gs(i),s=gs(e),o=je(t.seconds,s.seconds);return o!==0?o:je(t.nanos,s.nanos)}function fE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Co(t[o],s[o]);if(l)return l}return je(t.length,s.length)}function Io(i){return _p(i)}function _p(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=gs(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return ys(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ge.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=_p(l);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${_p(t.fields[c])}`;return o+"}"})(i.mapValue):be(61005,{value:i})}function Ph(i){switch(_s(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sf(i);return e?16+Ph(e):16;case 5:return 2*i.stringValue.length;case 6:return ys(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Ph(l)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return bs(s.fields,((l,c)=>{o+=l.length+Ph(c)})),o})(i.mapValue);default:throw be(13486,{value:i})}}function dE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vp(i){return!!i&&"integerValue"in i}function og(i){return!!i&&"arrayValue"in i}function mE(i){return!!i&&"nullValue"in i}function pE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function jh(i){return!!i&&"mapValue"in i}function hN(i){var t,s;return((s=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[Y1])==null?void 0:s.stringValue)===Q1}function au(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return bs(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=au(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=au(i.arrayValue.values[t]);return e}return{...i}}function fN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===cN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!jh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(t)}setAll(e){let t=Jt.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}c?s[m.lastSegment()]=au(c):o.push(m.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];jh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){bs(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new yn(au(this.value))}}function X1(i){const e=[];return bs(i.fields,((t,s)=>{const o=new Jt([t]);if(jh(s)){const l=X1(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,s,o,l,c,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,we.min(),we.min(),we.min(),yn.empty(),0)}static newFoundDocument(e,t,s,o){return new nn(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new nn(e,2,t,we.min(),we.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,we.min(),we.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t){this.position=e,this.inclusive=t}}function gE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],c=i.position[o];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(c.referenceValue),t.key):s=Co(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function yE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Bi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t="asc"){this.field=e,this.dir=t}}function dN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{}class Dt extends J1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new pN(e,t,s):t==="array-contains"?new _N(e,s):t==="in"?new vN(e,s):t==="not-in"?new EN(e,s):t==="array-contains-any"?new bN(e,s):new Dt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new gN(e,s):new yN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Co(t,this.value)):t!==null&&_s(this.value)===_s(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends J1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ci(e,t)}matches(e){return W1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W1(i){return i.op==="and"}function Z1(i){return mN(i)&&W1(i)}function mN(i){for(const e of i.filters)if(e instanceof ci)return!1;return!0}function Ep(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+Io(i.value);if(Z1(i))return i.filters.map((e=>Ep(e))).join(",");{const e=i.filters.map((t=>Ep(t))).join(",");return`${i.op}(${e})`}}function eT(i,e){return i instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)})(i,e):i instanceof ci?(function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,m)=>l&&eT(c,o.filters[m])),!0):!1})(i,e):void be(19439)}function tT(i){return i instanceof Dt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Io(t.value)}`})(i):i instanceof ci?(function(t){return t.op.toString()+" {"+t.getFilters().map(tT).join(" ,")+"}"})(i):"Filter"}class pN extends Dt{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class gN extends Dt{constructor(e,t){super(e,"in",t),this.keys=nT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class yN extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=nT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function nT(i,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>ge.fromName(s.referenceValue)))}class _N extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return og(t)&&Eu(t.arrayValue,this.value)}}class vN extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Eu(this.value.arrayValue,t)}}class EN extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Eu(this.value.arrayValue,t)}}class bN extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!og(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Eu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,t=null,s=[],o=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.Te=null}}function _E(i,e=null,t=[],s=[],o=null,l=null,c=null){return new TN(i,e,t,s,o,l,c)}function lg(i){const e=Se(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Ep(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Io(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Io(s))).join(",")),e.Te=t}return e.Te}function ug(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!dN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!eT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!yE(i.startAt,e.startAt)&&yE(i.endAt,e.endAt)}function bp(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t=null,s=[],o=[],l=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function wN(i,e,t,s,o,l,c,m){return new Uo(i,e,t,s,o,l,c,m)}function cg(i){return new Uo(i)}function vE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function xN(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function iT(i){return i.collectionGroup!==null}function ou(i){const e=Se(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new jt(Jt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new bu(l,s))})),t.has(Jt.keyField().canonicalString())||e.Ie.push(new bu(Jt.keyField(),s))}return e.Ie}function Pi(i){const e=Se(i);return e.Ee||(e.Ee=SN(e,ou(i))),e.Ee}function SN(i,e){if(i.limitType==="F")return _E(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new bu(o.field,l)}));const t=i.endAt?new nf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new nf(i.startAt.position,i.startAt.inclusive):null;return _E(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Tp(i,e){const t=i.filters.concat([e]);return new Uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function AN(i,e){const t=i.explicitOrderBy.concat([e]);return new Uo(i.path,i.collectionGroup,t,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function wp(i,e,t){return new Uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Af(i,e){return ug(Pi(i),Pi(e))&&i.limitType===e.limitType}function rT(i){return`${lg(Pi(i))}|lt:${i.limitType}`}function po(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>tT(o))).join(", ")}]`),xf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Io(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Io(o))).join(",")),`Target(${s})`})(Pi(i))}; limitType=${i.limitType})`}function Rf(i,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ge.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(i,e)&&(function(s,o){for(const l of ou(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=gE(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,ou(s),o)||s.endAt&&!(function(c,m,p){const g=gE(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,ou(s),o))})(i,e)}function RN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function sT(i){return(e,t)=>{let s=!1;for(const o of ou(i)){const l=CN(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function CN(i,e,t){const s=i.field.isKeyField()?ge.comparator(e.key,t.key):(function(l,c,m){const p=c.data.field(l),g=m.data.field(l);return p!==null&&g!==null?Co(p,g):be(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return q1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new mt(ge.comparator);function _r(){return IN}const aT=new mt(ge.comparator);function nu(...i){let e=aT;for(const t of i)e=e.insert(t.key,t);return e}function oT(i){let e=aT;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ra(){return lu()}function lT(){return lu()}function lu(){return new _a((i=>i.toString()),((i,e)=>i.isEqual(e)))}const NN=new mt(ge.comparator),kN=new jt(ge.comparator);function Ue(...i){let e=kN;for(const t of i)e=e.add(t);return e}const DN=new jt(je);function ON(){return DN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function uT(i){return{integerValue:""+i}}function MN(i,e){return rN(e)?uT(e):hg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this._=void 0}}function VN(i,e,t){return i instanceof Tu?(function(o,l){const c={fields:{[G1]:{stringValue:F1},[K1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ag(l)&&(l=Sf(l)),l&&(c.fields[$1]=l),{mapValue:c}})(t,e):i instanceof wu?hT(i,e):i instanceof xu?fT(i,e):(function(o,l){const c=cT(o,l),m=EE(c)+EE(o.Ae);return vp(c)&&vp(o.Ae)?uT(m):hg(o.serializer,m)})(i,e)}function LN(i,e,t){return i instanceof wu?hT(i,e):i instanceof xu?fT(i,e):t}function cT(i,e){return i instanceof rf?(function(s){return vp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Tu extends Cf{}class wu extends Cf{constructor(e){super(),this.elements=e}}function hT(i,e){const t=dT(e);for(const s of i.elements)t.some((o=>Bi(o,s)))||t.push(s);return{arrayValue:{values:t}}}class xu extends Cf{constructor(e){super(),this.elements=e}}function fT(i,e){let t=dT(e);for(const s of i.elements)t=t.filter((o=>!Bi(o,s)));return{arrayValue:{values:t}}}class rf extends Cf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function EE(i){return bt(i.integerValue||i.doubleValue)}function dT(i){return og(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t){this.field=e,this.transform=t}}function jN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof wu&&o instanceof wu||s instanceof xu&&o instanceof xu?Ro(s.elements,o.elements,Bi):s instanceof rf&&o instanceof rf?Bi(s.Ae,o.Ae):s instanceof Tu&&o instanceof Tu})(i.transform,e.transform)}class UN{constructor(e,t){this.version=e,this.transformResults=t}}class oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class If{}function mT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new fg(i.key,oi.none()):new Lu(i.key,i.data,oi.none());{const t=i.data,s=yn.empty();let o=new jt(Jt.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Ts(i.key,s,new In(o.toArray()),oi.none())}}function zN(i,e,t){i instanceof Lu?(function(o,l,c){const m=o.value.clone(),p=TE(o.fieldTransforms,l,c.transformResults);m.setAll(p),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,t):i instanceof Ts?(function(o,l,c){if(!Uh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=TE(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(pT(o)),p.setAll(m),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function uu(i,e,t,s){return i instanceof Lu?(function(l,c,m,p){if(!Uh(l.precondition,c))return m;const g=l.value.clone(),_=wE(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,s):i instanceof Ts?(function(l,c,m,p){if(!Uh(l.precondition,c))return m;const g=wE(l.fieldTransforms,p,c),_=c.data;return _.setAll(pT(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(i,e,t,s):(function(l,c,m){return Uh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,t)}function BN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=cT(s.transform,o||null);l!=null&&(t===null&&(t=yn.empty()),t.set(s.field,l))}return t||null}function bE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,((l,c)=>jN(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Lu extends If{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends If{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function pT(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function TE(i,e,t){const s=new Map;Ye(i.length===t.length,32656,{Ve:t.length,de:i.length});for(let o=0;o<t.length;o++){const l=i[o],c=l.transform,m=e.data.field(l.field);s.set(l.field,LN(c,m,t[o]))}return s}function wE(i,e,t){const s=new Map;for(const o of i){const l=o.transform,c=t.data.field(o.field);s.set(o.field,VN(l,c,e))}return s}class fg extends If{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qN extends If{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&zN(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=uu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=uu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=lT();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=t.has(o.key)?null:m;const p=mT(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,((t,s)=>bE(t,s)))&&Ro(this.baseMutations,e.baseMutations,((t,s)=>bE(t,s)))}}class dg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return NN})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new dg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,qe;function $N(i){switch(i){case J.OK:return be(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return be(15467,{code:i})}}function gT(i){if(i===void 0)return gr("GRPC error has no .code"),J.UNKNOWN;switch(i){case kt.OK:return J.OK;case kt.CANCELLED:return J.CANCELLED;case kt.UNKNOWN:return J.UNKNOWN;case kt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case kt.INTERNAL:return J.INTERNAL;case kt.UNAVAILABLE:return J.UNAVAILABLE;case kt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case kt.NOT_FOUND:return J.NOT_FOUND;case kt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case kt.ABORTED:return J.ABORTED;case kt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case kt.DATA_LOSS:return J.DATA_LOSS;default:return be(39323,{code:i})}}(qe=kt||(kt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new fs([4294967295,4294967295],0);function xE(i){const e=KN().encode(i),t=new k1;return t.update(e),new Uint8Array(t.digest())}function SE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new fs([t,s],0),new fs([o,l],0)]}class mg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new iu(`Invalid padding: ${t}`);if(s<0)throw new iu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new iu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=fs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(fs.fromNumber(s)));return o.compare(YN)===1&&(o=new fs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=xE(e),[s,o]=SE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new mg(l,o,t);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const t=xE(e),[s,o]=SE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.be(c)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Nf(we.min(),o,new mt(je),_r(),Ue())}}class Pu{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Pu(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class yT{constructor(e,t){this.targetId=e,this.Ce=t}}class _T{constructor(e,t,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class AE{constructor(){this.ve=0,this.Fe=RE(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),s=Ue();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:l})}})),new Pu(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=RE()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class QN{constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.He=Ih(),this.Je=Ih(),this.Ze=new mt(je)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(bp(l))if(s===0){const c=new ge(l.path);this.et(t,c,nn.newNoDocument(c,we.min()))}else Ye(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,m;try{c=ys(s).toUint8Array()}catch(p){if(p instanceof H1)return Ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new mg(c,o,l)}catch(p){return Ao(p instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const m=this.ot(c);if(m){if(l.current&&bp(m.target)){const p=new ge(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,nn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let s=Ue();this.Je.forEach(((l,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new Nf(e,t,this.Ze,this.je,s);return this.je=_r(),this.He=Ih(),this.Je=Ih(),this.Ze=new mt(je),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new AE,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new jt(je),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new jt(je),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new AE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ih(){return new mt(ge.comparator)}function RE(){return new mt(ge.comparator)}const XN={asc:"ASCENDING",desc:"DESCENDING"},JN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WN={and:"AND",or:"OR"};class ZN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xp(i,e){return i.useProto3Json||xf(e)?e:{value:e}}function sf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ek(i,e){return sf(i,e.toTimestamp())}function ji(i){return Ye(!!i,49232),we.fromTimestamp((function(t){const s=gs(t);return new ut(s.seconds,s.nanos)})(i))}function pg(i,e){return Sp(i,e).canonicalString()}function Sp(i,e){const t=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function ET(i){const e=st.fromString(i);return Ye(ST(e),10190,{key:e.toString()}),e}function Ap(i,e){return pg(i.databaseId,e.path)}function ip(i,e){const t=ET(e);if(t.get(1)!==i.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ge(TT(t))}function bT(i,e){return pg(i.databaseId,e)}function tk(i){const e=ET(i);return e.length===4?st.emptyPath():TT(e)}function Rp(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function TT(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function CE(i,e,t){return{name:Ap(i,e),fields:t.value.mapValue.fields}}function nk(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(Ye(_===void 0||typeof _=="string",58123),Wt.fromBase64String(_||"")):(Ye(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Wt.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?J.UNKNOWN:gT(g.code);return new ue(_,g.message||"")})(c);t=new _T(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ip(i,s.document.name),l=ji(s.document.updateTime),c=s.document.createTime?ji(s.document.createTime):we.min(),m=new yn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,l,c,m),g=s.targetIds||[],_=s.removedTargetIds||[];t=new zh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ip(i,s.document),l=s.readTime?ji(s.readTime):we.min(),c=nn.newNoDocument(o,l),m=s.removedTargetIds||[];t=new zh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ip(i,s.document),l=s.removedTargetIds||[];t=new zh([],l,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new GN(o,l),m=s.targetId;t=new yT(m,c)}}return t}function ik(i,e){let t;if(e instanceof Lu)t={update:CE(i,e.key,e.value)};else if(e instanceof fg)t={delete:Ap(i,e.key)};else if(e instanceof Ts)t={update:CE(i,e.key,e.data),updateMask:fk(e.fieldMask)};else{if(!(e instanceof qN))return be(16599,{dt:e.type});t={verify:Ap(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const m=c.transform;if(m instanceof Tu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof rf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:ek(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(i,e.precondition)),t}function rk(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((t=>(function(o,l){let c=o.updateTime?ji(o.updateTime):ji(l);return c.isEqual(we.min())&&(c=ji(l)),new UN(c,o.transformResults||[])})(t,e)))):[]}function sk(i,e){return{documents:[bT(i,e.path)]}}function ak(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=bT(i,o);const l=(function(g){if(g.length!==0)return xT(ci.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(w){return{field:go(w.field),direction:uk(w.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=xp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function ok(i){let e=tk(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(T){const w=wT(T);return w instanceof ci&&Z1(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((w=>(function(j){return new bu(yo(j.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(w)))})(t.orderBy));let m=null;t.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,xf(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(T){const w=!!T.before,C=T.values||[];return new nf(C,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(T){const w=!T.before,C=T.values||[];return new nf(C,w)})(t.endAt)),wN(e,o,c,l,m,"F",p,g)}function lk(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wT(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=yo(t.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(t.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=yo(t.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=yo(t.unaryFilter.field);return Dt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Dt.create(yo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return ci.create(t.compositeFilter.filters.map((s=>wT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(t.compositeFilter.op))})(i):be(30097,{filter:i})}function uk(i){return XN[i]}function ck(i){return JN[i]}function hk(i){return WN[i]}function go(i){return{fieldPath:i.canonicalString()}}function yo(i){return Jt.fromServerFormat(i.fieldPath)}function xT(i){return i instanceof Dt?(function(t){if(t.op==="=="){if(pE(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NAN"}};if(mE(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pE(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NAN"}};if(mE(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(t.field),op:ck(t.op),value:t.value}}})(i):i instanceof ci?(function(t){const s=t.getFilters().map((o=>xT(o)));return s.length===1?s[0]:{compositeFilter:{op:hk(t.op),filters:s}}})(i):be(54877,{filter:i})}function fk(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ST(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function AT(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,s,o,l=we.min(),c=we.min(),m=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.yt=e}}function mk(i){const e=ok({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.Sn=new gk}addToCollectionParentIndex(e,t){return this.Sn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(ps.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class gk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new jt(st.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RT=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(RT,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new No(0)}static ar(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="LruGarbageCollector",yk=1048576;function kE([i,e],[t,s]){const o=je(i,t);return o===0?je(e,s):o}class _k{constructor(e){this.Pr=e,this.buffer=new jt(kE),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();kE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vk{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(NE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jo(t)?ce(NE,"Ignoring IndexedDB error during garbage collection: ",t):await Po(t)}await this.Ar(3e5)}))}}class Ek{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(wf.ce);const s=new _k(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(IE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IE):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,l,c,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,t)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),mo()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function bk(i,e){return new Ek(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.changes=new _a((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&uu(s.mutation,o,In.empty(),ut.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ue()){const o=ra();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let c=nu();return l.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=ra();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ue())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,s,o){let l=_r();const c=lu(),m=(function(){return lu()})();return t.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Ts)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),uu(_.mutation,g,_.mutation.getFieldMask(),ut.now())):c.set(g.key,In.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>m.set(g,new wk(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=lu();let o=new mt(((c,m)=>c-m)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||In.empty();_=m.applyToLocalView(g,_),s.set(p,_);const T=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=lT();_.forEach((w=>{if(!l.has(w)){const C=mT(t.get(w),s.get(w));C!==null&&T.set(w,C),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return xN(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):ee.resolve(ra());let m=yu,p=l;return c.next((g=>ee.forEach(g,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),l.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{p=p.insert(_,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Ue()))).next((_=>({batchId:m,changes:oT(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next((s=>{let o=nu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=nu();return this.indexManager.getCollectionParents(e,l).next((m=>ee.forEach(m,(p=>{const g=(function(T,w){return new Uo(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((c=>{l.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,nn.newInvalidDocument(_)))}));let m=nu();return c.forEach(((p,g)=>{const _=l.get(p);_!==void 0&&uu(_.mutation,g,In.empty(),ut.now()),Rf(t,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ee.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:mk(o.bundledQuery),readTime:ji(o.readTime)}})(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.overlays=new mt(ge.comparator),this.Lr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ra();return ee.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.bt(e,t,l)})),ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const o=ra(),l=t.length+1,c=new ge(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new mt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=ra(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=ra(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ee.resolve(m)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new FN(t,s));let l=this.Lr.get(t);l===void 0&&(l=Ue(),this.Lr.set(t,l)),this.Lr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.kr=new jt(qt.Kr),this.qr=new jt(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new qt(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new qt(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new ge(new st([])),s=new qt(t,e),o=new qt(t,e+1),l=[];return this.qr.forEachInRange([s,o],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ge(new st([])),s=new qt(t,e),o=new qt(t,e+1);let l=Ue();return this.qr.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new qt(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ge.comparator(e.key,t.key)||je(e.Hr,t.Hr)}static Ur(e,t){return je(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new jt(qt.Kr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new HN(l,t,s,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new qt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),l=o<0?0:o;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?sg:this.Yn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new qt(t,0),o=new qt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,o],(c=>{const m=this.Zr(c.Hr);l.push(m)})),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new jt(je);return t.forEach((o=>{const l=new qt(o,0),c=new qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(m=>{s=s.add(m.Hr)}))})),ee.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const c=new qt(new ge(l),0);let m=new jt(je);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),c),ee.resolve(this.Yr(m))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ye(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ee.forEach(t.mutations,(o=>{const l=new qt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new qt(t,0),o=this.Jr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.ti=e,this.docs=(function(){return new mt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let s=_r();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():nn.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=_r();const c=t.path,m=new ge(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||eN(ZI(_),s)<=0||(o.has(_.key)||Rf(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,s,o){be(9500)}ni(e,t){return ee.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new Nk(this)}getSize(e){return ee.resolve(this.size)}}class Nk extends Tk{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ee.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.persistence=e,this.ri=new _a((t=>lg(t)),ug),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new gg,this.targetCount=0,this.oi=No._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),ee.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new No(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.lr(t),ee.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(l).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,t){this._i={},this.overlays={},this.ai=new wf(0),this.ui=!1,this.ui=!0,this.ci=new Rk,this.referenceDelegate=e(this),this.li=new kk(this),this.indexManager=new pk,this.remoteDocumentCache=(function(o){return new Ik(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new dk(t),this.Pi=new Sk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ak,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new Ck(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new Dk(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((l=>this.referenceDelegate.Ii(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(e,t){return ee.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class Dk extends nN{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Ri=new gg,this.Ai=null}static Vi(e){return new yg(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,(s=>{const o=ge.fromPath(s);return this.mi(e,o).next((l=>{l||t.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ee.or([()=>ee.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class af{constructor(e,t){this.persistence=e,this.fi=new _a((s=>sN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=bk(this,t)}static Vi(e,t){return new af(e,t)}Ti(){}Ii(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return ee.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((l=>l?ee.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ni(e,(c=>this.wr(e,c,t).next((m=>{m||(s++,l.removeEntry(c,we.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ee.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ph(e.data.value)),t}wr(e,t,s){return ee.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=Ue(),o=Ue();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new _g(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return TC()?8:iN(sn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Ok;return this.ys(e,t,c).next((m=>{if(l.result=m,this.As)return this.ws(e,t,c,m.size)}))})).next((()=>l.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(mo()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(mo()<=Pe.DEBUG&&ce("QueryEngine","Query:",po(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(mo()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(t))):ee.resolve())}gs(e,t){if(vE(t))return ee.resolve(null);let s=Pi(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=wp(t,null,"F"),s=Pi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Ue(...l);return this.fs.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(t,m);return this.Ss(t,g,c,p.readTime)?this.gs(e,wp(t,null,"F")):this.Ds(e,g,t,p)}))))})))))}ps(e,t,s,o){return vE(t)||o.isEqual(we.min())?ee.resolve(null):this.fs.getDocuments(e,s).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,s,o)?ee.resolve(null):(mo()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(t)),this.Ds(e,c,t,WI(o,yu)).next((m=>m)))}))}bs(e,t){let s=new jt(sT(e));return t.forEach(((o,l)=>{Rf(e,l)&&(s=s.add(l))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ys(e,t,s){return mo()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",po(t)),this.fs.getDocumentsMatchingQuery(e,t,ps.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="LocalStore",Vk=3e8;class Lk{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new mt(je),this.Fs=new _a((l=>lg(l)),ug),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xk(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function Pk(i,e,t,s){return new Lk(i,e,t,s)}async function IT(i,e){const t=Se(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],m=[];let p=Ue();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function jk(i,e){const t=Se(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const T=g.batch,w=T.keys();let C=ee.resolve();return w.forEach((j=>{C=C.next((()=>_.getEntry(p,j))).next((P=>{const F=g.docVersions.get(j);Ye(F!==null,48541),P.version.compareTo(F)<0&&(T.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),_.addEntry(P)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function NT(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function Uk(i,e){const t=Se(i),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const m=[];e.targetChanges.forEach(((_,T)=>{const w=o.get(T);if(!w)return;m.push(t.li.removeMatchingKeys(l,_.removedDocuments,T).next((()=>t.li.addMatchingKeys(l,_.addedDocuments,T))));let C=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(Wt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,s)),o=o.insert(T,C),(function(P,F,te){return P.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=Vk?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(w,C,_)&&m.push(t.li.updateTargetData(l,C))}));let p=_r(),g=Ue();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),m.push(zk(l,c,e.documentUpdates).next((_=>{p=_.Bs,g=_.Ls}))),!s.isEqual(we.min())){const _=t.li.getLastRemoteSnapshotVersion(l).next((T=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));m.push(_)}return ee.waitFor(m).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.vs=o,l)))}function zk(i,e,t){let s=Ue(),o=Ue();return t.forEach((l=>s=s.add(l))),e.getEntries(i,s).next((l=>{let c=_r();return t.forEach(((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):ce(vg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function Bk(i,e){const t=Se(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=sg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function qk(i,e){const t=Se(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((l=>l?(o=l,ee.resolve(o)):t.li.allocateTargetId(s).next((c=>(o=new ls(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function Cp(i,e,t){const s=Se(i),o=s.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!jo(c))throw c;ce(vg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function DE(i,e,t){const s=Se(i);let o=we.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const T=Se(p),w=T.Fs.get(_);return w!==void 0?ee.resolve(T.vs.get(w)):T.li.getTargetData(g,_)})(s,c,Pi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,m.targetId).next((p=>{l=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,t?o:we.min(),t?l:Ue()))).next((m=>(Hk(s,RN(e),m),{documents:m,ks:l})))))}function Hk(i,e,t){let s=i.Ms.get(e)||we.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),i.Ms.set(e,s)}class OE{constructor(){this.activeTargetIds=ON()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fk{constructor(){this.vo=new OE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new OE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="ConnectivityMonitor";class VE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(ME,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(ME,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function Ip(){return Nh===null?Nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="RestConnection",$k={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Kk{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===ef?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,l){const c=Ip(),m=this.Qo(e,t.toUriEncodedString());ce(rp,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,l);const{host:g}=new URL(m),_=Mo(g);return this.zo(e,m,p,s,_).then((T=>(ce(rp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Ao(rp,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,t,s,o,l,c){return this.Wo(e,t,s,o,l)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}Qo(e,t){const s=$k[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection",Xl=(i,e,t)=>{i.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class _o extends Kk{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!_o.c_){const e=V1();Xl(e,M1.STAT_EVENT,(t=>{t.stat===gp.PROXY?ce(en,"STAT_EVENT: detected buffering proxy"):t.stat===gp.NOPROXY&&ce(en,"STAT_EVENT: detected no buffering proxy")})),_o.c_=!0}}zo(e,t,s,o,l){const c=Ip();return new Promise(((m,p)=>{const g=new D1;g.setWithCredentials(!0),g.listenOnce(O1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Lh.NO_ERROR:const T=g.getResponseJson();ce(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case Lh.TIMEOUT:ce(en,`RPC '${e}' ${c} timed out`),p(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const w=g.getStatus();if(ce(en,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const j=C==null?void 0:C.error;if(j&&j.status&&j.message){const P=(function(te){const ie=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ie)>=0?ie:J.UNKNOWN})(j.status);p(new ue(P,j.message))}else p(new ue(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(J.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(en,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);ce(en,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",_,s,15)}))}T_(e,t,s){const o=Ip(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const g=l.join("");ce(en,`Creating RPC '${e}' stream ${o}: ${g}`,m);const _=c.createWebChannel(g,m);this.I_(_);let T=!1,w=!1;const C=new Yk({Ho:j=>{w?ce(en,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(T||(ce(en,`Opening RPC '${e}' stream ${o} transport.`),_.open(),T=!0),ce(en,`RPC '${e}' stream ${o} sending:`,j),_.send(j))},Jo:()=>_.close()});return Xl(_,tu.EventType.OPEN,(()=>{w||(ce(en,`RPC '${e}' stream ${o} transport opened.`),C.i_())})),Xl(_,tu.EventType.CLOSE,(()=>{w||(w=!0,ce(en,`RPC '${e}' stream ${o} transport closed`),C.o_(),this.E_(_))})),Xl(_,tu.EventType.ERROR,(j=>{w||(w=!0,Ao(en,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),C.o_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),Xl(_,tu.EventType.MESSAGE,(j=>{var P;if(!w){const F=j.data[0];Ye(!!F,16349);const te=F,ie=(te==null?void 0:te.error)||((P=te[0])==null?void 0:P.error);if(ie){ce(en,`RPC '${e}' stream ${o} received error:`,ie);const ne=ie.status;let ye=(function(N){const A=kt[N];if(A!==void 0)return gT(A)})(ne),_e=ie.message;ye===void 0&&(ye=J.INTERNAL,_e="Unknown error status: "+ne+" with message "+ie.message),w=!0,C.o_(new ue(ye,_e)),_.close()}else ce(en,`RPC '${e}' stream ${o} received:`,F),C.__(F)}})),_o.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return L1()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(i){return new _o(i)}function sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(i){return new ZN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_o.c_=!1;class kT{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="PersistentStream";class DT{constructor(e,t,s,o,l,c,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(LE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ce(LE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Xk extends DT{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=nk(this.serializer,e),s=(function(l){if(!("targetChange"in l))return we.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?ji(c.readTime):we.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Rp(this.serializer),t.addTarget=(function(l,c){let m;const p=c.target;if(m=bp(p)?{documents:sk(l,p)}:{query:ak(l,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=vT(l,c.resumeToken);const g=xp(l,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(we.min())>0){m.readTime=sf(l,c.snapshotVersion.toTimestamp());const g=xp(l,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=lk(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Rp(this.serializer),t.removeTarget=e,this.K_(t)}}class Jk extends DT{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=rk(e.writeResults,e.commitTime),s=ji(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Rp(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>ik(this.serializer,s)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{}class Zk extends Wk{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,Sp(t,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(J.UNKNOWN,l.toString())}))}jo(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(e,Sp(t,s),o,c,m,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function eD(i,e,t,s){return new Zk(i,e,t,s)}class tD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class nD{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{va(this)&&(ce(ca,"Restarting streams for network reachability change."),await(async function(p){const g=Se(p);g.Ea.add(4),await ju(g),g.Va.set("Unknown"),g.Ea.delete(4),await Df(g)})(this))}))})),this.Va=new tD(s,o)}}async function Df(i){if(va(i))for(const e of i.Ra)await e(!0)}async function ju(i){for(const e of i.Ra)await e(!1)}function OT(i,e){const t=Se(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),wg(t)?Tg(t):zo(t).O_()&&bg(t,e))}function Eg(i,e){const t=Se(i),s=zo(t);t.Ia.delete(e),s.O_()&&MT(t,e),t.Ia.size===0&&(s.O_()?s.L_():va(t)&&t.Va.set("Unknown"))}function bg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zo(i).Z_(e)}function MT(i,e){i.da.$e(e),zo(i).X_(e)}function Tg(i){i.da=new QN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),zo(i).start(),i.Va.ua()}function wg(i){return va(i)&&!zo(i).x_()&&i.Ia.size>0}function va(i){return Se(i).Ea.size===0}function VT(i){i.da=void 0}async function iD(i){i.Va.set("Online")}async function rD(i){i.Ia.forEach(((e,t)=>{bg(i,e)}))}async function sD(i,e){VT(i),wg(i)?(i.Va.ha(e),Tg(i)):i.Va.set("Unknown")}async function aD(i,e,t){if(i.Va.set("Online"),e instanceof _T&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){ce(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await of(i,s)}else if(e instanceof zh?i.da.Xe(e):e instanceof yT?i.da.st(e):i.da.tt(e),!t.isEqual(we.min()))try{const s=await NT(i.localStore);t.compareTo(s)>=0&&await(function(l,c){const m=l.da.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken(Wt.EMPTY_BYTE_STRING,_.snapshotVersion)),MT(l,p);const T=new ls(_.target,p,g,_.sequenceNumber);bg(l,T)})),l.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){ce(ca,"Failed to raise snapshot:",s),await of(i,s)}}async function of(i,e,t){if(!jo(e))throw e;i.Ea.add(1),await ju(i),i.Va.set("Offline"),t||(t=()=>NT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(ca,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Df(i)}))}function LT(i,e){return e().catch((t=>of(i,t,e)))}async function Of(i){const e=Se(i),t=vs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sg;for(;oD(e);)try{const o=await Bk(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,lD(e,o)}catch(o){await of(e,o)}PT(e)&&jT(e)}function oD(i){return va(i)&&i.Ta.length<10}function lD(i,e){i.Ta.push(e);const t=vs(i);t.O_()&&t.Y_&&t.ea(e.mutations)}function PT(i){return va(i)&&!vs(i).x_()&&i.Ta.length>0}function jT(i){vs(i).start()}async function uD(i){vs(i).ra()}async function cD(i){const e=vs(i);for(const t of i.Ta)e.ea(t.mutations)}async function hD(i,e,t){const s=i.Ta.shift(),o=dg.from(s,e,t);await LT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Of(i)}async function fD(i,e){e&&vs(i).Y_&&await(async function(s,o){if((function(c){return $N(c)&&c!==J.ABORTED})(o.code)){const l=s.Ta.shift();vs(s).B_(),await LT(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Of(s)}})(i,e),PT(i)&&jT(i)}async function PE(i,e){const t=Se(i);t.asyncQueue.verifyOperationInProgress(),ce(ca,"RemoteStore received new credentials");const s=va(t);t.Ea.add(3),await ju(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Df(t)}async function dD(i,e){const t=Se(i);e?(t.Ea.delete(2),await Df(t)):e||(t.Ea.add(2),await ju(t),t.Va.set("Unknown"))}function zo(i){return i.ma||(i.ma=(function(t,s,o){const l=Se(t);return l.sa(),new Xk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Zo:iD.bind(null,i),Yo:rD.bind(null,i),t_:sD.bind(null,i),J_:aD.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),wg(i)?Tg(i):i.Va.set("Unknown")):(await i.ma.stop(),VT(i))}))),i.ma}function vs(i){return i.fa||(i.fa=(function(t,s,o){const l=Se(t);return l.sa(),new Jk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:uD.bind(null,i),t_:fD.bind(null,i),ta:cD.bind(null,i),na:hD.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Of(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(ca,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,m=new xg(e,t,c,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(i,e){if(gr("AsyncQueue",`${e}: ${i}`),jo(i))return new ue(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=nu(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.ga=new mt(ge.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class ko{constructor(e,t,s,o,l,c,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new ko(e,t,vo.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class pD{constructor(){this.queries=UE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Se(t),l=o.queries;o.queries=UE(),l.forEach(((c,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function UE(){return new _a((i=>rT(i)),Af)}async function UT(i,e){const t=Se(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.Da()&&(s=2):(l=new mD,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=Sg(c,`Initialization of query '${po(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Ag(t)}async function zT(i,e){const t=Se(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?o=e.Da()?0:1:!l.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function gD(i,e){const t=Se(i);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const m of c.ba)m.Fa(o)&&(s=!0);c.wa=o}}s&&Ag(t)}function yD(i,e,t){const s=Se(i),o=s.queries.get(e);if(o)for(const l of o.ba)l.onError(t);s.queries.delete(e)}function Ag(i){i.Ca.forEach((e=>{e.next()}))}var Np,zE;(zE=Np||(Np={})).Ma="default",zE.Cache="cache";class BT{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.key=e}}class HT{constructor(e){this.key=e}}class _D{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=sT(e),this.tu=new vo(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new jE,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const w=o.get(_),C=Rf(this.query,T)?T:null,j=!!w&&this.mutatedKeys.has(w.key),P=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let F=!1;w&&C?w.data.isEqual(C.data)?j!==P&&(s.track({type:3,doc:C}),F=!0):this.su(w,C)||(s.track({type:2,doc:C}),F=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(m=!0)):!w&&C?(s.track({type:0,doc:C}),F=!0):w&&!C&&(s.track({type:1,doc:w}),F=!0,(p||g)&&(m=!0)),F&&(C?(c=c.add(C),l=P?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Ss:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,T)=>(function(C,j){const P=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:F})}};return P(C)-P(j)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new ko(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new HT(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new qT(s))})),t}cu(e){this.Za=e.ks,this.Ya=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Rg="SyncEngine";class vD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class ED{constructor(e){this.key=e,this.hu=!1}}class bD{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new _a((m=>rT(m)),Af),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(ge.comparator),this.Au=new Map,this.Vu=new gg,this.du={},this.mu=new Map,this.fu=No.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TD(i,e,t=!0){const s=QT(i);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await FT(s,e,t,!0),o}async function wD(i,e){const t=QT(i);await FT(t,e,!0,!1)}async function FT(i,e,t,s){const o=await qk(i.localStore,Pi(e)),l=o.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await xD(i,e,l,c==="current",o.resumeToken)),i.isPrimaryClient&&t&&OT(i.remoteStore,o),m}async function xD(i,e,t,s,o){i.pu=(T,w,C)=>(async function(P,F,te,ie){let ne=F.view.ru(te);ne.Ss&&(ne=await DE(P.localStore,F.query,!1).then((({documents:N})=>F.view.ru(N,ne))));const ye=ie&&ie.targetChanges.get(F.targetId),_e=ie&&ie.targetMismatches.get(F.targetId)!=null,oe=F.view.applyChanges(ne,P.isPrimaryClient,ye,_e);return qE(P,F.targetId,oe.au),oe.snapshot})(i,T,w,C);const l=await DE(i.localStore,e,!0),c=new _D(e,l.ks),m=c.ru(l.documents),p=Pu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);qE(i,t,g.au);const _=new vD(e,t,c);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function SD(i,e,t){const s=Se(i),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((c=>!Af(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Cp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Eg(s.remoteStore,o.targetId),kp(s,o.targetId)})).catch(Po)):(kp(s,o.targetId),await Cp(s.localStore,o.targetId,!0))}async function AD(i,e){const t=Se(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Eg(t.remoteStore,s.targetId))}async function RD(i,e,t){const s=MD(i);try{const o=await(function(c,m){const p=Se(c),g=ut.now(),_=m.reduce(((C,j)=>C.add(j.key)),Ue());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let j=_r(),P=Ue();return p.xs.getEntries(C,_).next((F=>{j=F,j.forEach(((te,ie)=>{ie.isValidDocument()||(P=P.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,j))).next((F=>{T=F;const te=[];for(const ie of m){const ne=BN(ie,T.get(ie.key).overlayedDocument);ne!=null&&te.push(new Ts(ie.key,ne,X1(ne.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,te,m)})).next((F=>{w=F;const te=F.applyToLocalDocumentSet(T,P);return p.documentOverlayCache.saveOverlays(C,F.batchId,te)}))})).then((()=>({batchId:w.batchId,changes:oT(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.du[c.currentUser.toKey()];g||(g=new mt(je)),g=g.insert(m,p),c.du[c.currentUser.toKey()]=g})(s,o.batchId,t),await Uu(s,o.changes),await Of(s.remoteStore)}catch(o){const l=Sg(o,"Failed to persist write");t.reject(l)}}async function GT(i,e){const t=Se(i);try{const s=await Uk(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ye(c.hu,14607):o.removedDocuments.size>0&&(Ye(c.hu,42227),c.hu=!1))})),await Uu(t,s,e)}catch(s){await Po(s)}}function BE(i,e,t){const s=Se(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Se(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,T)=>{for(const w of T.ba)w.va(m)&&(g=!0)})),g&&Ag(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function CD(i,e,t){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new mt(ge.comparator);c=c.insert(l,nn.newNoDocument(l,we.min()));const m=Ue().add(l),p=new Nf(we.min(),new Map,new mt(je),c,m);await GT(s,p),s.Ru=s.Ru.remove(l),s.Au.delete(e),Cg(s)}else await Cp(s.localStore,e,!1).then((()=>kp(s,e,t))).catch(Po)}async function ID(i,e){const t=Se(i),s=e.batch.batchId;try{const o=await jk(t.localStore,e);KT(t,s,null),$T(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Uu(t,o)}catch(o){await Po(o)}}async function ND(i,e,t){const s=Se(i);try{const o=await(function(c,m){const p=Se(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ye(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);KT(s,e,t),$T(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Uu(s,o)}catch(o){await Po(o)}}function $T(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function KT(i,e,t){const s=Se(i);let o=s.du[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function kp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||YT(i,s)}))}function YT(i,e){i.Eu.delete(e.path.canonicalString());const t=i.Ru.get(e);t!==null&&(Eg(i.remoteStore,t),i.Ru=i.Ru.remove(e),i.Au.delete(t),Cg(i))}function qE(i,e,t){for(const s of t)s instanceof qT?(i.Vu.addReference(s.key,e),kD(i,s)):s instanceof HT?(ce(Rg,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||YT(i,s.key)):be(19791,{wu:s})}function kD(i,e){const t=e.key,s=t.path.canonicalString();i.Ru.get(t)||i.Eu.has(s)||(ce(Rg,"New document in limbo: "+t),i.Eu.add(s),Cg(i))}function Cg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ge(st.fromString(e)),s=i.fu.next();i.Au.set(s,new ED(t)),i.Ru=i.Ru.insert(t,s),OT(i.remoteStore,new ls(Pi(cg(t.path)),s,"TargetPurposeLimboResolution",wf.ce))}}async function Uu(i,e,t){const s=Se(i),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,e,t).then((g=>{var _;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=_g.Es(p.targetId,g);l.push(T)}})))})),await Promise.all(c),s.Pu.J_(o),await(async function(p,g){const _=Se(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(g,(w=>ee.forEach(w.Ts,(C=>_.persistence.referenceDelegate.addReference(T,w.targetId,C))).next((()=>ee.forEach(w.Is,(C=>_.persistence.referenceDelegate.removeReference(T,w.targetId,C)))))))))}catch(T){if(!jo(T))throw T;ce(vg,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const C=_.vs.get(w),j=C.snapshotVersion,P=C.withLastLimboFreeSnapshotVersion(j);_.vs=_.vs.insert(w,P)}}})(s.localStore,l))}async function DD(i,e){const t=Se(i);if(!t.currentUser.isEqual(e)){ce(Rg,"User change. New user:",e.toKey());const s=await IT(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((m=>{m.forEach((p=>{p.reject(new ue(J.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Uu(t,s.Ns)}}function OD(i,e){const t=Se(i),s=t.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const m=t.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function QT(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=GT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CD.bind(null,e),e.Pu.J_=gD.bind(null,e.eventManager),e.Pu.yu=yD.bind(null,e.eventManager),e}function MD(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ID.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ND.bind(null,e),e}class lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Pk(this.persistence,new Mk,e.initialUser,this.serializer)}Cu(e){return new CT(yg.Vi,this.serializer)}Du(e){return new Fk}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lf.provider={build:()=>new lf};class VD extends lf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ye(this.persistence.referenceDelegate instanceof af,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vk(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new CT((s=>af.Vi(s,t)),this.serializer)}}class Dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>BE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DD.bind(null,this.syncEngine),await dD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new pD})()}createDatastore(e){const t=kf(e.databaseInfo.databaseId),s=Qk(e.databaseInfo);return eD(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,c,m){return new nD(s,o,l,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>BE(this.syncEngine,t,0)),(function(){return VE.v()?new VE:new Gk})())}createSyncEngine(e,t){return(function(o,l,c,m,p,g,_){const T=new bD(o,l,c,m,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Se(o);ce(ca,"RemoteStore shutting down."),l.Ea.add(5),await ju(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Dp.provider={build:()=>new Dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class LD{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ce(Es,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ce(Es,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Sg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ap(i,e){i.asyncQueue.verifyOperationInProgress(),ce(Es,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await IT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function HE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await PD(i);ce(Es,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>PE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>PE(e.remoteStore,o))),i._onlineComponents=e}async function PD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(Es,"Using user provided OfflineComponentProvider");try{await ap(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ao("Error using user provided cache. Falling back to memory cache: "+t),await ap(i,new lf)}}else ce(Es,"Using default OfflineComponentProvider"),await ap(i,new VD(void 0));return i._offlineComponents}async function JT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(Es,"Using user provided OnlineComponentProvider"),await HE(i,i._uninitializedComponentsProvider._online)):(ce(Es,"Using default OnlineComponentProvider"),await HE(i,new Dp))),i._onlineComponents}function jD(i){return JT(i).then((e=>e.syncEngine))}async function WT(i){const e=await JT(i),t=e.eventManager;return t.onListen=TD.bind(null,e.syncEngine),t.onUnlisten=SD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=AD.bind(null,e.syncEngine),t}function UD(i,e,t={}){const s=new fr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,m,p,g){const _=new XT({next:w=>{_.Nu(),c.enqueueAndForget((()=>zT(l,T)));const C=w.docs.has(m);!C&&w.fromCache?g.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&p&&p.source==="server"?g.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new BT(cg(m.path),_,{includeMetadataChanges:!0,Ka:!0});return UT(l,T)})(await WT(i),i.asyncQueue,e,t,s))),s.promise}function zD(i,e,t={}){const s=new fr;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,m,p,g){const _=new XT({next:w=>{_.Nu(),c.enqueueAndForget((()=>zT(l,T))),w.fromCache&&p.source==="server"?g.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new BT(m,_,{includeMetadataChanges:!0,Ka:!0});return UT(l,T)})(await WT(i),i.asyncQueue,e,t,s))),s.promise}function BD(i,e){const t=new fr;return i.asyncQueue.enqueueAndForget((async()=>RD(await jD(i),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="ComponentProvider",FE=new Map;function HD(i,e,t,s,o){return new lN(i,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,ZT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="firestore.googleapis.com",GE=!0;class $E{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ew,this.ssl=GE}else this.host=e.host,this.ssl=e.ssl??GE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yk)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new BI;switch(s.type){case"firstParty":return new GI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=FE.get(t);s&&(ce(qD,"Removing Datastore"),FE.delete(t),s.terminate())})(this),Promise.resolve()}}function FD(i,e,t,s={}){var g;i=yr(i,Mf);const o=Mo(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(w1(`https://${m}`),x1("Firestore",!0)),l.host!==ew&&l.host!==m&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:m,ssl:o,emulatorOptions:s};if(!oa(p,c)&&(i._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=tn.MOCK_USER;else{_=dC(s.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new tn(w)}i._authCredentials=new qI(new j1(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ea(this.firestore,e,this._query)}}class Mt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Vu(t,Mt._jsonSchema))return new Mt(e,s||null,new ge(st.fromString(t.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Ot("string",Mt._jsonSchemaVersion),referencePath:Ot("string")};class ds extends Ea{constructor(e,t,s){super(e,t,cg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ge(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function cu(i,e,...t){if(i=Ht(i),U1("collection","path",e),i instanceof Mf){const s=st.fromString(e,...t);return sE(s),new ds(i,null,s)}{if(!(i instanceof Mt||i instanceof ds))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return sE(s),new ds(i.firestore,null,s)}}function Bh(i,e,...t){if(i=Ht(i),arguments.length===1&&(e=rg.newId()),U1("doc","path",e),i instanceof Mf){const s=st.fromString(e,...t);return rE(s),new Mt(i,null,new ge(s))}{if(!(i instanceof Mt||i instanceof ds))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return rE(s),new Mt(i.firestore,i instanceof ds?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="AsyncQueue";class YE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kT(this,"async_queue_retry"),this._c=()=>{const s=sp();s&&ce(KE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=sp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=sp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;ce(KE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",QE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=xg.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:QE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function QE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Bo extends Mf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new YE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YE(e),this._firestoreClient=void 0,await e}}}function GD(i,e){const t=typeof i=="object"?i:C1(),s=typeof i=="string"?i:ef,o=ng(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=hC("firestore");l&&FD(o,...l)}return o}function Ig(i){if(i._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$D(i),i._firestoreClient}function $D(i){var s,o,l,c;const e=i._freezeSettings(),t=HD(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,(o=i._app)==null?void 0:o.options.apiKey,e);i._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new LD(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Wt.fromBase64String(e))}catch(t){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ot("string",Fn._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Ot("string",Ui._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new li(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Ot("string",li._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=/^__.*__$/;class YD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lu(e,this.data,t,this.fieldTransforms)}}class tw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:i})}}class kg{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new kg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return uf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(nw(this.dataSource)&&KD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class QD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||kf(e)}createContext(e,t,s,o=!1){return new kg({dataSource:e,methodName:t,targetDoc:s,path:Jt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dg(i){const e=i._freezeSettings(),t=kf(i._databaseId);return new QD(i._databaseId,!!e.ignoreUndefinedProperties,t)}function XD(i,e,t,s,o,l={}){const c=i.createContext(l.merge||l.mergeFields?2:0,e,t,o);Mg("Data must be an object, but it was:",c,s);const m=iw(s,c);let p,g;if(l.merge)p=new In(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const w=ha(e,T,t);if(!c.contains(w))throw new ue(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);aw(_,w)||_.push(w)}p=new In(_),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new YD(new yn(m),p,g)}class Lf extends Vf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}class Og extends Vf{_toFieldTransform(e){return new PN(e.path,new Tu)}isEqual(e){return e instanceof Og}}function JD(i,e,t,s){const o=i.createContext(1,e,t);Mg("Data must be an object, but it was:",o,s);const l=[],c=yn.empty();bs(s,((p,g)=>{const _=sw(e,p,t);g=Ht(g);const T=o.childContextForFieldPath(_);if(g instanceof Lf)l.push(_);else{const w=zu(g,T);w!=null&&(l.push(_),c.set(_,w))}}));const m=new In(l);return new tw(c,m,o.fieldTransforms)}function WD(i,e,t,s,o,l){const c=i.createContext(1,e,t),m=[ha(e,s,t)],p=[o];if(l.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)m.push(ha(e,l[w])),p.push(l[w+1]);const g=[],_=yn.empty();for(let w=m.length-1;w>=0;--w)if(!aw(g,m[w])){const C=m[w];let j=p[w];j=Ht(j);const P=c.childContextForFieldPath(C);if(j instanceof Lf)g.push(C);else{const F=zu(j,P);F!=null&&(g.push(C),_.set(C,F))}}const T=new In(g);return new tw(_,T,c.fieldTransforms)}function ZD(i,e,t,s=!1){return zu(t,i.createContext(s?4:3,e))}function zu(i,e){if(rw(i=Ht(i)))return Mg("Unsupported field value:",e,i),iw(i,e);if(i instanceof Vf)return(function(s,o){if(!nw(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const m of s){let p=zu(m,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(i,e)}return(function(s,o){if((s=Ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ut.fromDate(s);return{timestampValue:sf(o.serializer,l)}}if(s instanceof ut){const l=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sf(o.serializer,l)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:vT(o.serializer,s._byteString)};if(s instanceof Mt){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:pg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof li)return(function(c,m){const p=c instanceof li?c.toArray():c;return{mapValue:{fields:{[Y1]:{stringValue:Q1},[tf]:{arrayValue:{values:p.map((_=>{if(typeof _!="number")throw m.createError("VectorValues must only contain numeric values.");return hg(m.serializer,_)}))}}}}}})(s,o);if(AT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Tf(s)}`)})(i,e)}function iw(i,e){const t={};return q1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(i,((s,o)=>{const l=zu(o,e.childContextForField(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function rw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ut||i instanceof Ui||i instanceof Fn||i instanceof Mt||i instanceof Vf||i instanceof li||AT(i))}function Mg(i,e,t){if(!rw(t)||!z1(t)){const s=Tf(t);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function ha(i,e,t){if((e=Ht(e))instanceof Ng)return e._internalPath;if(typeof e=="string")return sw(i,e);throw uf("Field path arguments must be of type string or ",i,!1,void 0,t)}const e4=new RegExp("[~\\*/\\[\\]]");function sw(i,e,t){if(e.search(e4)>=0)throw uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ng(...e.split("."))._internalPath}catch{throw uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function uf(i,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ue(J.INVALID_ARGUMENT,m+i+p)}function aw(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{convertValue(e,t="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return bs(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){var s,o,l;const t=(l=(o=(s=e.fields)==null?void 0:s[tf].arrayValue)==null?void 0:o.values)==null?void 0:l.map((c=>bt(c.doubleValue)));return new li(t)}convertGeoPoint(e){return new Ui(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Sf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const t=gs(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=st.fromString(e);Ye(ST(s),9688,{name:e});const o=new vu(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return o.isEqual(t)||gr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow extends t4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}function Op(){return new Og("serverTimestamp")}const XE="@firebase/firestore",JE="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(ha("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class n4 extends lw{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vg{}class uw extends Vg{}function Mp(i,e,...t){let s=[];e instanceof Vg&&s.push(e),s=s.concat(t),(function(l){const c=l.filter((p=>p instanceof Lg)).length,m=l.filter((p=>p instanceof Pf)).length;if(c>1||c>0&&m>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Pf extends uw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Pf(e,t,s)}_apply(e){const t=this._parse(e);return cw(e._query,t),new Ea(e.firestore,e.converter,Tp(e._query,t))}_parse(e){const t=Dg(e.firestore);return(function(l,c,m,p,g,_,T){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){ZE(T,_);const j=[];for(const P of T)j.push(WE(p,l,P));w={arrayValue:{values:j}}}else w=WE(p,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||ZE(T,_),w=ZD(m,c,T,_==="in"||_==="not-in");return Dt.create(g,_,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Vp(i,e,t){const s=e,o=ha("where",i);return Pf._create(o,s,t)}class Lg extends Vg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const m=l.getFlattenedFilters();for(const p of m)cw(c,p),c=Tp(c,p)})(e._query,t),new Ea(e.firestore,e.converter,Tp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pg extends uw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Pg(e,t)}_apply(e){const t=(function(o,l,c){if(o.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bu(l,c)})(e._query,this._field,this._direction);return new Ea(e.firestore,e.converter,AN(e._query,t))}}function r4(i,e="asc"){const t=e,s=ha("orderBy",i);return Pg._create(s,t)}function WE(i,e,t){if(typeof(t=Ht(t))=="string"){if(t==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iT(e)&&t.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(st.fromString(t));if(!ge.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return dE(i,new ge(s))}if(t instanceof Mt)return dE(i,t._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(t)}.`)}function ZE(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cw(i,e){const t=(function(o,l){for(const c of o)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function s4(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends lw{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ha("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=aa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Ot("string",aa._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class qh extends aa{data(e={}){return super.data(e)}}class Eo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ru(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new qh(this._firestore,this._userDataWriter,s.key,s,new ru(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ru(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ru(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:a4(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function a4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:i})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo._jsonSchemaVersion="firestore/querySnapshot/1.0",Eo._jsonSchema={type:Ot("string",Eo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(i){i=yr(i,Mt);const e=yr(i.firestore,Bo),t=Ig(e);return UD(t,i._key).then((s=>c4(e,i,s)))}function Lp(i){i=yr(i,Ea);const e=yr(i.firestore,Bo),t=Ig(e),s=new ow(e);return i4(i._query),zD(t,i._query).then((o=>new Eo(e,s,i,o)))}function l4(i,e,t,...s){i=yr(i,Mt);const o=yr(i.firestore,Bo),l=Dg(o);let c;return c=typeof(e=Ht(e))=="string"||e instanceof Ng?WD(l,"updateDoc",i._key,e,t,s):JD(l,"updateDoc",i._key,e),jg(o,[c.toMutation(i._key,oi.exists(!0))])}function u4(i){return jg(yr(i.firestore,Bo),[new fg(i._key,oi.none())])}function hw(i,e){const t=yr(i.firestore,Bo),s=Bh(i),o=s4(i.converter,e),l=Dg(i.firestore);return jg(t,[XD(l,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,oi.exists(!1))]).then((()=>s))}function jg(i,e){const t=Ig(i);return BD(t,e)}function c4(i,e,t){const s=t.docs.get(e._key),o=new ow(i);return new aa(i,o,e._key,s,new ru(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){zI(Vo),So(new la("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new Bo(new HI(s.getProvider("auth-internal")),new $I(c,s.getProvider("app-check-internal")),uN(c,o),c);return l={useFetchStreams:t,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),hs(XE,JE,e),hs(XE,JE,"esm2020")})();var h4="firebase",f4="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(h4,f4,"app");function fw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d4=fw,dw=new Ou("auth","Firebase",fw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new eg("@firebase/auth");function m4(i,...e){cf.logLevel<=Pe.WARN&&cf.warn(`Auth (${Vo}): ${i}`,...e)}function Hh(i,...e){cf.logLevel<=Pe.ERROR&&cf.error(`Auth (${Vo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(i,...e){throw zg(i,...e)}function ui(i,...e){return zg(i,...e)}function Ug(i,e,t){const s={...d4(),[e]:t};return new Ou("auth","Firebase",s).create(e,{appName:i.name})}function dr(i){return Ug(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p4(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Kn(i,"argument-error"),Ug(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return dw.create(i,...e)}function Ee(i,e,...t){if(!i)throw zg(e,...t)}function ur(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Hh(e),new Error(e)}function vr(i,e){i||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function g4(){return eb()==="http:"||eb()==="https:"}function eb(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g4()||vC()||"connection"in navigator)?navigator.onLine:!0}function _4(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this.shortDelay=e,this.longDelay=t,vr(t>e,"Short delay should be less than long delay!"),this.isMobile=gC()||EC()}get(){return y4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(i,e){vr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b4=new Bu(3e4,6e4);function ws(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function xs(i,e,t,s,o={}){return pw(i,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const m=Mu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...l};return _C()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Mo(i.emulatorConfig.host)&&(g.credentials="include"),mw.fetch()(await gw(i,i.config.apiHost,t,m),g)})}async function pw(i,e,t){i._canInitEmulator=!1;const s={...v4,...e};try{const o=new w4(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw kh(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw kh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw kh(i,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ug(i,_,g);Kn(i,_)}}catch(o){if(o instanceof Tr)throw o;Kn(i,"network-request-failed",{message:String(o)})}}async function qu(i,e,t,s,o={}){const l=await xs(i,e,t,s,o);return"mfaPendingCredential"in l&&Kn(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function gw(i,e,t,s){const o=`${e}${t}?${s}`,l=i,c=l.config.emulator?Bg(i.config,o):`${i.config.apiScheme}://${o}`;return E4.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function T4(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class w4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ui(this.auth,"network-request-failed")),b4.get())})}}function kh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ui(i,e,s);return o.customData._tokenResponse=t,o}function tb(i){return i!==void 0&&i.enterprise!==void 0}class x4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return T4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function S4(i,e){return xs(i,"GET","/v2/recaptchaConfig",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(i,e){return xs(i,"POST","/v1/accounts:delete",e)}async function hf(i,e){return xs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R4(i,e=!1){const t=Ht(i),s=await t.getIdToken(e),o=qg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:hu(op(o.auth_time)),issuedAtTime:hu(op(o.iat)),expirationTime:hu(op(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function op(i){return Number(i)*1e3}function qg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=v1(t);return o?JSON.parse(o):(Hh("Failed to decode base64 JWT payload"),null)}catch(o){return Hh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function nb(i){const e=qg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Tr&&C4(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function C4({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(i){var T;const e=i.auth,t=await i.getIdToken(),s=await Su(i,hf(e,{idToken:t}));Ee(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const l=(T=o.providerUserInfo)!=null&&T.length?yw(o.providerUserInfo):[],c=k4(i.providerData,l),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(c!=null&&c.length),g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new jp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function N4(i){const e=Ht(i);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k4(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function yw(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(i,e){const t=await pw(i,{},async()=>{const s=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,c=await gw(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Mo(i.emulatorConfig.host)&&(p.credentials="include"),mw.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function O4(i,e){return xs(i,"POST","/v2/accounts:revokeToken",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=nb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await D4(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new bo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new I4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Su(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return R4(this,e)}reload(){return N4(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await ff(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await Su(this,A4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:C,providerData:j,stsTokenManager:P}=t;Ee(T&&P,e,"internal-error");const F=bo.fromJSON(this.name,P);Ee(typeof T=="string",e,"internal-error"),ns(s,e.name),ns(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof C=="boolean",e,"internal-error"),ns(l,e.name),ns(c,e.name),ns(m,e.name),ns(p,e.name),ns(g,e.name),ns(_,e.name);const te=new ai({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:_});return j&&Array.isArray(j)&&(te.providerData=j.map(ie=>({...ie}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,t,s=!1){const o=new bo;o.updateFromServerResponse(t);const l=new ai({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ff(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?yw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),m=new bo;m.updateFromIdToken(s);const p=new ai({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new jp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;function cr(i){vr(i instanceof Function,"Expected a class definition");let e=ib.get(i);return e?(vr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,ib.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_w.type="NONE";const rb=_w;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(i,e,t){return`firebase:${i}:${e}:${t}`}class To{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Fh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Fh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hf(this.auth,{idToken:e}).catch(()=>{});return t?ai._fromGetAccountInfoResponse(this.auth,t,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new To(cr(rb),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||cr(rb);const c=Fh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const w=await hf(e,{idToken:_}).catch(()=>{});if(!w)break;T=await ai._fromGetAccountInfoResponse(e,w,_)}else T=ai._fromJSON(e,_);g!==l&&(m=T),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new To(l,e,s):(l=p[0],m&&await l._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new To(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xw(e))return"Blackberry";if(Sw(e))return"Webos";if(Ew(e))return"Safari";if((e.includes("chrome/")||bw(e))&&!e.includes("edge/"))return"Chrome";if(ww(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function vw(i=sn()){return/firefox\//i.test(i)}function Ew(i=sn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bw(i=sn()){return/crios\//i.test(i)}function Tw(i=sn()){return/iemobile/i.test(i)}function ww(i=sn()){return/android/i.test(i)}function xw(i=sn()){return/blackberry/i.test(i)}function Sw(i=sn()){return/webos/i.test(i)}function Hg(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function M4(i=sn()){var e;return Hg(i)&&!!((e=window.navigator)!=null&&e.standalone)}function V4(){return bC()&&document.documentMode===10}function Aw(i=sn()){return Hg(i)||ww(i)||Sw(i)||xw(i)||/windows phone/i.test(i)||Tw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(i,e=[]){let t;switch(i){case"Browser":t=sb(sn());break;case"Worker":t=`${sb(sn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,m)=>{try{const p=e(l);c(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(i,e={}){return xs(i,"GET","/v2/passwordPolicy",ws(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=6;class U4{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??j4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ab(this),this.idTokenSubscription=new ab(this),this.beforeStateQueue=new L4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=cr(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hf(this,{idToken:e}),s=await ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Cn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(dr(this));const t=e?Ht(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P4(this),t=new U4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ou("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await O4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&cr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[cr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&m4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ss(i){return Ht(i)}class ab{constructor(e){this.auth=e,this.observer=null,this.addObserver=IC(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B4(i){jf=i}function Cw(i){return jf.loadJS(i)}function q4(){return jf.recaptchaEnterpriseScript}function H4(){return jf.gapiScript}function F4(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class G4{constructor(){this.enterprise=new $4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const K4="recaptcha-enterprise",Iw="NO_RECAPTCHA";class Y4{constructor(e){this.type=K4,this.auth=Ss(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{S4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new x4(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(l,c,m){const p=window.grecaptcha;tb(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(Iw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new G4().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(m=>{if(!t&&tb(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=q4();p.length!==0&&(p+=m),Cw(p).then(()=>{o(m,l,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function ob(i,e,t,s=!1,o=!1){const l=new Y4(i);let c;if(o)c=Iw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Up(i,e,t,s,o){var l;if((l=i._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ob(i,e,t,t==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await ob(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(i,e){const t=ng(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(oa(l,e??{}))return o;Kn(o,"already-initialized")}return t.initialize({options:e})}function X4(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(cr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function J4(i,e,t){const s=Ss(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=Nw(e),{host:c,port:m}=W4(e),p=m===null?"":`:${m}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(oa(g,s.config.emulator)&&oa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Mo(c)?(w1(`${l}//${c}${p}`),x1("Auth",!0)):Z4()}function Nw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function W4(i){const e=Nw(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:lb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:lb(c)}}}function lb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Z4(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,t){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function eO(i,e){return xs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(i,e){return qu(i,"POST","/v1/accounts:signInWithPassword",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(i,e){return qu(i,"POST","/v1/accounts:signInWithEmailLink",ws(i,e))}async function iO(i,e){return qu(i,"POST","/v1/accounts:signInWithEmailLink",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends Fg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Au(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Au(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,t,"signInWithPassword",tO);case"emailLink":return nO(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,s,"signUpPassword",eO);case"emailLink":return iO(e,{idToken:t,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(i,e){return qu(i,"POST","/v1/accounts:signInWithIdp",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="http://localhost";class fa extends Fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const c=new fa(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return wo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,wo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:rO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aO(i){const e=Zl(eu(i)).link,t=e?Zl(eu(e)).deep_link_id:null,s=Zl(eu(i)).deep_link_id;return(s?Zl(eu(s)).link:null)||s||t||e||i}class Gg{constructor(e){const t=Zl(eu(e)),s=t.apiKey??null,o=t.oobCode??null,l=sO(t.mode??null);Ee(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=aO(e);try{return new Gg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(e,t){return Au._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Gg.parseLink(t);return Ee(s,"argument-error"),Au._fromEmailAndCode(e,s.code,s.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends $g{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Hu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return lr.credential(t,s)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Hu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Hu{constructor(){super("twitter.com")}static credential(e,t){return fa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return os.credential(t,s)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(i,e){return qu(i,"POST","/v1/accounts:signUp",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await ai._fromIdTokenResponse(e,s,o),c=ub(s);return new da({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=ub(s);return new da({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function ub(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends Tr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new df(e,t,s,o)}}function kw(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(i,l,e,s):l})}async function lO(i,e,t=!1){const s=await Su(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return da._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(i,e,t=!1){const{auth:s}=i;if(Cn(s.app))return Promise.reject(dr(s));const o="reauthenticate";try{const l=await Su(i,kw(s,o,e,i),t);Ee(l.idToken,s,"internal-error");const c=qg(l.idToken);Ee(c,s,"internal-error");const{sub:m}=c;return Ee(i.uid===m,s,"user-mismatch"),da._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Kn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dw(i,e,t=!1){if(Cn(i.app))return Promise.reject(dr(i));const s="signIn",o=await kw(i,s,e),l=await da._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}async function cO(i,e){return Dw(Ss(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(i){const e=Ss(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hO(i,e,t){if(Cn(i.app))return Promise.reject(dr(i));const s=Ss(i),c=await Up(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Ow(i),p}),m=await da._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function fO(i,e,t){return Cn(i.app)?Promise.reject(dr(i)):cO(Ht(i),qo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Ow(i),s})}function dO(i,e,t,s){return Ht(i).onIdTokenChanged(e,t,s)}function mO(i,e,t){return Ht(i).beforeAuthStateChanged(e,t)}function pO(i,e,t,s){return Ht(i).onAuthStateChanged(e,t,s)}function gO(i){return Ht(i).signOut()}const mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=1e3,_O=10;class Vw extends Mw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Aw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);V4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_O):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},yO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vw.type="LOCAL";const vO=Vw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw extends Mw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Lw.type="SESSION";const Pw=Lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Uf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(t.origin,l)),p=await EO(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,p)=>{const g=Kg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(w.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function TO(i){zi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function wO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xO(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function SO(){return jw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="firebaseLocalStorageDb",AO=1,pf="firebaseLocalStorage",zw="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function zf(i,e){return i.transaction([pf],e?"readwrite":"readonly").objectStore(pf)}function RO(){const i=indexedDB.deleteDatabase(Uw);return new Fu(i).toPromise()}function zp(){const i=indexedDB.open(Uw,AO);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(pf,{keyPath:zw})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(pf)?e(s):(s.close(),await RO(),e(await zp()))})})}async function cb(i,e,t){const s=zf(i,!0).put({[zw]:e,value:t});return new Fu(s).toPromise()}async function CO(i,e){const t=zf(i,!1).get(e),s=await new Fu(t).toPromise();return s===void 0?null:s.value}function hb(i,e){const t=zf(i,!0).delete(e);return new Fu(t).toPromise()}const IO=800,NO=3;class Bw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>NO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uf._getInstance(SO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await wO(),!this.activeServiceWorker)return;this.sender=new bO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await cb(e,mf,"1"),await hb(e,mf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>cb(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>CO(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>hb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=zf(o,!1).getAll();return new Fu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bw.type="LOCAL";const kO=Bw;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(i,e){return e?cr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends Fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function DO(i){return Dw(i.auth,new Yg(i),i.bypassAuthState)}function OO(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),uO(t,new Yg(i),i.bypassAuthState)}async function MO(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),lO(t,new Yg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DO;case"linkViaPopup":case"linkViaRedirect":return MO;case"reauthViaPopup":case"reauthViaRedirect":return OO;default:Kn(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new Bu(2e3,1e4);async function LO(i,e,t){if(Cn(i.app))return Promise.reject(ui(i,"operation-not-supported-in-this-environment"));const s=Ss(i);p4(i,e,$g);const o=qw(s,t);return new sa(s,"signInViaPopup",e,o).executeNotNull()}class sa extends Hw{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=Kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VO.get())};e()}}sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="pendingRedirect",Gh=new Map;class jO extends Hw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Gh.get(this.auth._key());if(!e){try{const s=await UO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Gh.set(this.auth._key(),e)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UO(i,e){const t=qO(e),s=BO(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function zO(i,e){Gh.set(i._key(),e)}function BO(i){return cr(i._redirectPersistence)}function qO(i){return Fh(PO,i.config.apiKey,i.name)}async function HO(i,e,t=!1){if(Cn(i.app))return Promise.reject(dr(i));const s=Ss(i),o=qw(s,e),c=await new jO(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=600*1e3;class GO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$O(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Fw(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(ui(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FO&&this.cachedEventUids.clear(),this.cachedEventUids.has(fb(e))}saveEventToCache(e){this.cachedEventUids.add(fb(e)),this.lastProcessedEventTime=Date.now()}}function fb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Fw({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $O(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(i,e={}){return xs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QO=/^https?/;async function XO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await KO(i);for(const t of e)try{if(JO(t))return}catch{}Kn(i,"unauthorized-domain")}function JO(i){const e=Pp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!QO.test(t))return!1;if(YO.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new Bu(3e4,6e4);function db(){const i=zi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function ZO(i){return new Promise((e,t)=>{var o,l,c;function s(){db(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{db(),t(ui(i,"network-request-failed"))},timeout:WO.get()})}if((l=(o=zi().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=zi().gapi)!=null&&c.load)s();else{const m=F4("iframefcb");return zi()[m]=()=>{gapi.load?s():t(ui(i,"network-request-failed"))},Cw(`${H4()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw $h=null,e})}let $h=null;function eM(i){return $h=$h||ZO(i),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new Bu(5e3,15e3),nM="__/auth/iframe",iM="emulator/auth/iframe",rM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aM(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Bg(e,iM):`https://${i.config.authDomain}/${nM}`,s={apiKey:e.apiKey,appName:i.name,v:Vo},o=sM.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Mu(s).slice(1)}`}async function oM(i){const e=await eM(i),t=zi().gapi;return Ee(t,i,"internal-error"),e.open({where:document.body,url:aM(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rM,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=ui(i,"network-request-failed"),m=zi().setTimeout(()=>{l(c)},tM.get());function p(){zi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uM=500,cM=600,hM="_blank",fM="http://localhost";class mb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dM(i,e,t,s=uM,o=cM){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...lM,width:s.toString(),height:o.toString(),top:l,left:c},g=sn().toLowerCase();t&&(m=bw(g)?hM:t),vw(g)&&(e=e||fM,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[C,j])=>`${w}${C}=${j},`,"");if(M4(g)&&m!=="_self")return mM(e||"",m),new mb(null);const T=window.open(e||"",m,_);Ee(T,i,"popup-blocked");try{T.focus()}catch{}return new mb(T)}function mM(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="__/auth/handler",gM="emulator/auth/handler",yM=encodeURIComponent("fac");async function pb(i,e,t,s,o,l){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Vo,eventId:o};if(e instanceof $g){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",CC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof Hu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${yM}=${encodeURIComponent(p)}`:"";return`${_M(i)}?${Mu(m).slice(1)}${g}`}function _M({config:i}){return i.emulator?Bg(i,gM):`https://${i.authDomain}/${pM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="webStorageSupport";class vM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pw,this._completeRedirectFn=HO,this._overrideRedirectResult=zO}async _openPopup(e,t,s,o){var c;vr((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await pb(e,t,s,Pp(),o);return dM(e,l,Kg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await pb(e,t,s,Pp(),o);return TO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(vr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await oM(e),s=new GO(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lp,{type:lp},o=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c[lp];l!==void 0&&t(!!l),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Aw()||Ew()||Hg()}}const EM=vM;var gb="@firebase/auth",yb="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wM(i){So(new la("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rw(i)},g=new z4(s,o,l,p);return X4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),So(new la("auth-internal",e=>{const t=Ss(e.getProvider("auth").getImmediate());return(s=>new bM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),hs(gb,yb,TM(i)),hs(gb,yb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=300,SM=T1("authIdTokenMaxAge")||xM;let _b=null;const AM=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>SM)return;const o=t==null?void 0:t.token;_b!==o&&(_b=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RM(i=C1()){const e=ng(i,"auth");if(e.isInitialized())return e.getImmediate();const t=Q4(i,{popupRedirectResolver:EM,persistence:[kO,vO,Pw]}),s=T1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=AM(l.toString());mO(t,c,()=>c(t.currentUser)),dO(t,m=>c(m))}}const o=E1("auth");return o&&J4(t,`http://${o}`),t}function CM(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}B4({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=ui("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",CM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wM("Browser");const IM={apiKey:"AIzaSyCc5IvJbNpntoTNzX-Knj7GZ-Smqx4Kxhg",authDomain:"form-atemes-app-unique-id-123.firebaseapp.com",projectId:"form-atemes-app-unique-id-123",storageBucket:"form-atemes-app-unique-id-123.firebasestorage.app",messagingSenderId:"948111168316",appId:"1:948111168316:web:ec329c5da586bd61644439"},Gw=R1(IM),Jl=RM(Gw),is=GD(Gw),NM=new lr,$w=z.createContext(void 0),kM=({children:i})=>{const[e,t]=z.useState(null),[s,o]=z.useState(!0);z.useEffect(()=>{const g=pO(Jl,_=>{t(_),o(!1)});return()=>g()},[]);const l=async()=>{try{await LO(Jl,NM)}catch(g){throw console.error("Error logging in with Google:",g),g}},c=async(g,_)=>{try{await fO(Jl,g,_)}catch(T){throw console.error("Error logging in with Email:",T),T}},m=async(g,_)=>{try{await hO(Jl,g,_)}catch(T){throw console.error("Error signing up:",T),T}},p=async()=>{try{await gO(Jl)}catch(g){throw console.error("Error signing out:",g),g}};return b.jsx($w.Provider,{value:{user:e,loading:s,loginWithGoogle:l,loginWithEmail:c,signUp:m,logout:p},children:!s&&i})},Bf=()=>{const i=z.useContext($w);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i},Gu=()=>{const{user:i}=Bf(),[e,t]=z.useState(!1),[s,o]=z.useState(null);return{getForms:z.useCallback(async()=>{if(!i)return console.warn("getForms: Usurio no autenticado"),[];t(!0);try{console.log("getForms: Iniciando busca para o usurio:",i.uid);const _=Mp(cu(is,"forms"),Vp("userId","==",i.uid),r4("createdAt","desc")),w=(await Lp(_)).docs.map(C=>{const j=C.data();return{...j,id:C.id,questions:j.questions||[],products:j.products||[]}});return console.log("getForms: Sucesso! Encontrados:",w.length),w}catch(_){return console.error("getForms: Erro na consulta Firestore:",_.message),o(_.message),[]}finally{t(!1)}},[i]),getFormBySlug:async _=>{var T;try{console.log("Buscando formulrio pelo slug:",_);const w=Mp(cu(is,"forms"),Vp("slug","==",_)),C=await Lp(w);if(C.empty)return console.warn("Nenhum formulrio encontrado com slug:",_),null;const j=C.docs[0],P=j.data();return console.log("Formulrio encontrado:",j.id,"Total de perguntas:",(T=P.questions)==null?void 0:T.length),{...P,id:j.id,questions:P.questions||[],products:P.products||[]}}catch(w){return o(w.message),null}},getFormById:async _=>{var T,w;t(!0);try{console.log("getFormById: Buscando ID:",_);const C=Bh(is,"forms",_),j=await o4(C);if(j.exists()){const P=j.data();return console.log("getFormById: Encontrado!",{id:j.id,nome:P.name,qCount:((T=P.questions)==null?void 0:T.length)||0,pCount:((w=P.products)==null?void 0:w.length)||0}),{...P,id:j.id,questions:P.questions||[],products:P.products||[]}}return console.warn("getFormById: Documento no existe:",_),null}catch(C){return console.error("getFormById: Erro:",C.message),o(C.message),null}finally{t(!1)}},saveForm:async _=>{var T;if(!i)throw new Error("Usurio no autenticado");t(!0);try{console.log("saveForm: Preparando para salvar...",{id:_.id||"NOVO",nome:_.name,qCount:((T=_.questions)==null?void 0:T.length)||0});const{id:w,...C}={..._,userId:i.uid,updatedAt:Op()};if(_.id){const j=Bh(is,"forms",_.id);return console.log("saveForm: Atualizando documento existente..."),await l4(j,C),console.log("saveForm: Atualizao concluda."),_.id}else{console.log("saveForm: Criando novo documento...");const j=await hw(cu(is,"forms"),{...C,createdAt:Op()});return console.log("saveForm: Criao concluda. ID:",j.id),j.id}}catch(w){throw console.error("saveForm: Erro ao salvar no Firebase:",w.message),o(w.message),w}finally{t(!1)}},deleteForm:async _=>{t(!0);try{await u4(Bh(is,"forms",_))}catch(T){throw o(T.message),T}finally{t(!1)}},loading:e,error:s}},Er=({children:i,variant:e="primary",size:t="md",isLoading:s,icon:o,className:l="",disabled:c,...m})=>{const p="flex items-center justify-center gap-2 font-semibold transition-colors rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",g={primary:"bg-blue-600 text-white hover:bg-blue-700 shadow-sm",secondary:"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 border dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",danger:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30",ghost:"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400",outline:"border-2 border-dashed border-gray-200 dark:border-gray-700 text-gray-400 dark:text-gray-500 hover:border-blue-500 hover:text-blue-500 dark:hover:border-blue-600"},_={sm:"px-3 py-1.5 text-xs",md:"px-6 py-2 text-sm",lg:"px-8 py-3 text-base"};return b.jsxs("button",{className:`${p} ${g[e]} ${_[t]} ${l}`,disabled:s||c,...m,children:[s?b.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}):o,i]})},qf=({children:i,className:e="",title:t,subtitle:s,padding:o="md"})=>{const l={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return b.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-xl shadow-sm border dark:border-gray-800 ${e}`,children:[(t||s)&&b.jsxs("div",{className:"p-6 border-b dark:border-gray-800",children:[t&&b.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white",children:t}),s&&b.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:s})]}),b.jsx("div",{className:l[o],children:i})]})},DM=()=>{const{getForms:i,deleteForm:e,error:t}=Gu(),[s,o]=z.useState([]),[l,c]=z.useState(!0),[m,p]=z.useState(""),[g,_]=z.useState(null);z.useEffect(()=>{T()},[]);const T=async()=>{c(!0),console.log("Dashboard: Buscando formulrios...");const P=await i();P&&(console.log("Dashboard: Formulrios recebidos:",P.length),o(P)),c(!1)},w=async P=>{if(window.confirm("Tem certeza que deseja excluir este formulrio? Todos os dados associados (perguntas, produtos) sero perdidos."))try{await e(P),o(s.filter(F=>F.id!==P))}catch{alert("Erro ao excluir formulrio.")}},C=P=>{const F=`${window.location.origin}/#/f/${P}`;navigator.clipboard.writeText(F),_(P),setTimeout(()=>_(null),2e3)},j=s.filter(P=>(P.name||"").toLowerCase().includes(m.toLowerCase()));return b.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Meus Formulrios"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Gerencie seus fluxos de captura no Firebase"})]}),b.jsx(Gn,{to:"/admin/formularios/novo",children:b.jsx(Er,{icon:b.jsx(Qh,{size:20}),children:"Criar Novo"})})]}),t&&b.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[b.jsx(Hv,{size:20}),b.jsxs("div",{children:[b.jsx("p",{className:"font-bold",children:"Erro ao carregar dados:"}),b.jsx("p",{className:"text-sm",children:t})]})]}),b.jsxs(qf,{padding:"none",children:[b.jsx("div",{className:"p-4 border-b dark:border-gray-800",children:b.jsxs("div",{className:"relative max-w-md",children:[b.jsx(m1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),b.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:m,onChange:P=>p(P.target.value),className:"w-full pl-10 pr-4 py-2 border dark:border-gray-700 dark:bg-gray-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})}),b.jsx("div",{className:"overflow-x-auto",children:l?b.jsx("div",{className:"py-20 flex justify-center",children:b.jsx(xo,{className:"animate-spin text-blue-600",size:40})}):b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-sm uppercase font-semibold",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-4",children:"Nome"}),b.jsx("th",{className:"px-6 py-4",children:"URL (Slug)"}),b.jsx("th",{className:"px-6 py-4",children:"Status"}),b.jsx("th",{className:"px-6 py-4",children:"Criado em"}),b.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),b.jsx("tbody",{className:"divide-y dark:divide-gray-800",children:j.length>0?j.map(P=>b.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[b.jsx("td",{className:"px-6 py-4 font-medium text-gray-800 dark:text-gray-100",children:P.name}),b.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:"text-xs",children:["/f/",P.slug]}),b.jsx("button",{onClick:()=>C(P.slug),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",title:"Copiar Link",children:g===P.slug?b.jsx(qv,{size:14,className:"text-green-500"}):b.jsx(sR,{size:14,className:"text-gray-400 dark:text-gray-500"})})]})}),b.jsx("td",{className:"px-6 py-4",children:b.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${P.status==="active"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400"}`,children:[P.status==="active"?b.jsx(qv,{size:12}):b.jsx(Hv,{size:12}),P.status==="active"?"Ativo":"Inativo"]})}),b.jsx("td",{className:"px-6 py-4 text-gray-500 dark:text-gray-400",children:new Date(P.createdAt||Date.now()).toLocaleDateString("pt-BR")}),b.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[b.jsx(Gn,{to:`/f/${P.slug}`,target:"_blank",className:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors inline-block",title:"Ver Formulrio",children:b.jsx(u1,{size:18})}),b.jsx(Gn,{to:`/admin/formularios/${P.id}/editar`,className:"p-2 text-gray-400 hover:text-amber-600 dark:hover:text-amber-400 transition-colors inline-block",title:"Editar",children:b.jsx(zR,{size:18})}),b.jsx("button",{onClick:()=>w(P.id),className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors",title:"Excluir",children:b.jsx(Zp,{size:18})})]})]},P.id)):b.jsx("tr",{children:b.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"Nenhum formulrio encontrado. Comece criando um novo!"})})})]})})]})]})},Kw="formulary_ai_theme",OM="#3b82f6",MM=[{value:"text",label:"Objetiva (Curta)"},{value:"longtext",label:"Livre (Longa)"},{value:"select",label:"Mltipla Escolha"},{value:"email",label:"Email"},{value:"phone",label:"Telefone"},{value:"number",label:"Nmero"}];var vb;(function(i){i.STRING="string",i.NUMBER="number",i.INTEGER="integer",i.BOOLEAN="boolean",i.ARRAY="array",i.OBJECT="object"})(vb||(vb={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eb;(function(i){i.LANGUAGE_UNSPECIFIED="language_unspecified",i.PYTHON="python"})(Eb||(Eb={}));var bb;(function(i){i.OUTCOME_UNSPECIFIED="outcome_unspecified",i.OUTCOME_OK="outcome_ok",i.OUTCOME_FAILED="outcome_failed",i.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(bb||(bb={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=["user","model","function","system"];var wb;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(wb||(wb={}));var xb;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(xb||(xb={}));var Sb;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Sb||(Sb={}));var Ab;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER"})(Ab||(Ab={}));var fu;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.OTHER="OTHER"})(fu||(fu={}));var Rb;(function(i){i.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",i.RETRIEVAL_QUERY="RETRIEVAL_QUERY",i.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",i.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",i.CLASSIFICATION="CLASSIFICATION",i.CLUSTERING="CLUSTERING"})(Rb||(Rb={}));var Cb;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(Cb||(Cb={}));var Ib;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Ib||(Ib={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class fo extends rn{constructor(e,t){super(e),this.response=t}}class Yw extends rn{constructor(e,t,s,o){super(e),this.status=t,this.statusText=s,this.errorDetails=o}}class ms extends rn{}class Qw extends rn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="https://generativelanguage.googleapis.com",LM="v1beta",PM="0.24.1",jM="genai-js";var ma;(function(i){i.GENERATE_CONTENT="generateContent",i.STREAM_GENERATE_CONTENT="streamGenerateContent",i.COUNT_TOKENS="countTokens",i.EMBED_CONTENT="embedContent",i.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ma||(ma={}));class UM{constructor(e,t,s,o,l){this.model=e,this.task=t,this.apiKey=s,this.stream=o,this.requestOptions=l}toString(){var e,t;const s=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||LM;let l=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||VM}/${s}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function zM(i){const e=[];return i!=null&&i.apiClient&&e.push(i.apiClient),e.push(`${jM}/${PM}`),e.join(" ")}async function BM(i){var e;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",zM(i.requestOptions)),t.append("x-goog-api-key",i.apiKey);let s=(e=i.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(o){throw new ms(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${o.message}`)}for(const[o,l]of s.entries()){if(o==="x-goog-api-key")throw new ms(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new ms(`Header name ${o} can only be set using the apiClient field`);t.append(o,l)}}return t}async function qM(i,e,t,s,o,l){const c=new UM(i,e,t,s,l);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},$M(l)),{method:"POST",headers:await BM(c),body:o})}}async function $u(i,e,t,s,o,l={},c=fetch){const{url:m,fetchOptions:p}=await qM(i,e,t,s,o,l);return HM(m,p,c)}async function HM(i,e,t=fetch){let s;try{s=await t(i,e)}catch(o){FM(o,i)}return s.ok||await GM(s,i),s}function FM(i,e){let t=i;throw t.name==="AbortError"?(t=new Qw(`Request aborted when fetching ${e.toString()}: ${i.message}`),t.stack=i.stack):i instanceof Yw||i instanceof ms||(t=new rn(`Error fetching from ${e.toString()}: ${i.message}`),t.stack=i.stack),t}async function GM(i,e){let t="",s;try{const o=await i.json();t=o.error.message,o.error.details&&(t+=` ${JSON.stringify(o.error.details)}`,s=o.error.details)}catch{}throw new Yw(`Error fetching from ${e.toString()}: [${i.status} ${i.statusText}] ${t}`,i.status,i.statusText,s)}function $M(i){const e={};if((i==null?void 0:i.signal)!==void 0||(i==null?void 0:i.timeout)>=0){const t=new AbortController;(i==null?void 0:i.timeout)>=0&&setTimeout(()=>t.abort(),i.timeout),i!=null&&i.signal&&i.signal.addEventListener("abort",()=>{t.abort()}),e.signal=t.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(i){return i.text=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Kh(i.candidates[0]))throw new fo(`${rs(i)}`,i);return KM(i)}else if(i.promptFeedback)throw new fo(`Text not available. ${rs(i)}`,i);return""},i.functionCall=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Kh(i.candidates[0]))throw new fo(`${rs(i)}`,i);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Nb(i)[0]}else if(i.promptFeedback)throw new fo(`Function call not available. ${rs(i)}`,i)},i.functionCalls=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Kh(i.candidates[0]))throw new fo(`${rs(i)}`,i);return Nb(i)}else if(i.promptFeedback)throw new fo(`Function call not available. ${rs(i)}`,i)},i}function KM(i){var e,t,s,o;const l=[];if(!((t=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const c of(o=(s=i.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)c.text&&l.push(c.text),c.executableCode&&l.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&l.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function Nb(i){var e,t,s,o;const l=[];if(!((t=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const c of(o=(s=i.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)c.functionCall&&l.push(c.functionCall);if(l.length>0)return l}const YM=[fu.RECITATION,fu.SAFETY,fu.LANGUAGE];function Kh(i){return!!i.finishReason&&YM.includes(i.finishReason)}function rs(i){var e,t,s;let o="";if((!i.candidates||i.candidates.length===0)&&i.promptFeedback)o+="Response was blocked",!((e=i.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${i.promptFeedback.blockReason}`),!((t=i.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(o+=`: ${i.promptFeedback.blockReasonMessage}`);else if(!((s=i.candidates)===null||s===void 0)&&s[0]){const l=i.candidates[0];Kh(l)&&(o+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(o+=`: ${l.finishMessage}`))}return o}function Ru(i){return this instanceof Ru?(this.v=i,this):new Ru(i)}function QM(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(i,e||[]),o,l=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(w){s[w]&&(o[w]=function(C){return new Promise(function(j,P){l.push([w,C,j,P])>1||m(w,C)})})}function m(w,C){try{p(s[w](C))}catch(j){T(l[0][3],j)}}function p(w){w.value instanceof Ru?Promise.resolve(w.value.v).then(g,_):T(l[0][2],w)}function g(w){m("next",w)}function _(w){m("throw",w)}function T(w,C){w(C),l.shift(),l.length&&m(l[0][0],l[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function XM(i){const e=i.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=ZM(e),[s,o]=t.tee();return{stream:WM(s),response:JM(o)}}async function JM(i){const e=[],t=i.getReader();for(;;){const{done:s,value:o}=await t.read();if(s)return Qg(e6(e));e.push(o)}}function WM(i){return QM(this,arguments,function*(){const t=i.getReader();for(;;){const{value:s,done:o}=yield Ru(t.read());if(o)break;yield yield Ru(Qg(s))}})}function ZM(i){const e=i.getReader();return new ReadableStream({start(s){let o="";return l();function l(){return e.read().then(({value:c,done:m})=>{if(m){if(o.trim()){s.error(new rn("Failed to parse stream"));return}s.close();return}o+=c;let p=o.match(kb),g;for(;p;){try{g=JSON.parse(p[1])}catch{s.error(new rn(`Error parsing JSON response: "${p[1]}"`));return}s.enqueue(g),o=o.substring(p[0].length),p=o.match(kb)}return l()}).catch(c=>{let m=c;throw m.stack=c.stack,m.name==="AbortError"?m=new Qw("Request aborted when reading from the stream"):m=new rn("Error reading from the stream"),m})}}})}function e6(i){const e=i[i.length-1],t={promptFeedback:e==null?void 0:e.promptFeedback};for(const s of i){if(s.candidates){let o=0;for(const l of s.candidates)if(t.candidates||(t.candidates=[]),t.candidates[o]||(t.candidates[o]={index:o}),t.candidates[o].citationMetadata=l.citationMetadata,t.candidates[o].groundingMetadata=l.groundingMetadata,t.candidates[o].finishReason=l.finishReason,t.candidates[o].finishMessage=l.finishMessage,t.candidates[o].safetyRatings=l.safetyRatings,l.content&&l.content.parts){t.candidates[o].content||(t.candidates[o].content={role:l.content.role||"user",parts:[]});const c={};for(const m of l.content.parts)m.text&&(c.text=m.text),m.functionCall&&(c.functionCall=m.functionCall),m.executableCode&&(c.executableCode=m.executableCode),m.codeExecutionResult&&(c.codeExecutionResult=m.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),t.candidates[o].content.parts.push(c)}o++}s.usageMetadata&&(t.usageMetadata=s.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(i,e,t,s){const o=await $u(e,ma.STREAM_GENERATE_CONTENT,i,!0,JSON.stringify(t),s);return XM(o)}async function Jw(i,e,t,s){const l=await(await $u(e,ma.GENERATE_CONTENT,i,!1,JSON.stringify(t),s)).json();return{response:Qg(l)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(i){if(i!=null){if(typeof i=="string")return{role:"system",parts:[{text:i}]};if(i.text)return{role:"system",parts:[i]};if(i.parts)return i.role?i:{role:"system",parts:i.parts}}}function Cu(i){let e=[];if(typeof i=="string")e=[{text:i}];else for(const t of i)typeof t=="string"?e.push({text:t}):e.push(t);return t6(e)}function t6(i){const e={role:"user",parts:[]},t={role:"function",parts:[]};let s=!1,o=!1;for(const l of i)"functionResponse"in l?(t.parts.push(l),o=!0):(e.parts.push(l),s=!0);if(s&&o)throw new rn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!o)throw new rn("No content is provided for sending chat message.");return s?e:t}function n6(i,e){var t;let s={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(t=e==null?void 0:e.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const o=i.generateContentRequest!=null;if(i.contents){if(o)throw new ms("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=i.contents}else if(o)s=Object.assign(Object.assign({},s),i.generateContentRequest);else{const l=Cu(i);s.contents=[l]}return{generateContentRequest:s}}function Db(i){let e;return i.contents?e=i:e={contents:[Cu(i)]},i.systemInstruction&&(e.systemInstruction=Ww(i.systemInstruction)),e}function i6(i){return typeof i=="string"||Array.isArray(i)?{content:Cu(i)}:i}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],r6={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function s6(i){let e=!1;for(const t of i){const{role:s,parts:o}=t;if(!e&&s!=="user")throw new rn(`First content should be with role 'user', got ${s}`);if(!Tb.includes(s))throw new rn(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(Tb)}`);if(!Array.isArray(o))throw new rn("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new rn("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const m of o)for(const p of Ob)p in m&&(l[p]+=1);const c=r6[s];for(const m of Ob)if(!c.includes(m)&&l[m]>0)throw new rn(`Content with role '${s}' can't contain '${m}' part`);e=!0}}function Mb(i){var e;if(i.candidates===void 0||i.candidates.length===0)return!1;const t=(e=i.candidates[0])===null||e===void 0?void 0:e.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const s of t.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="SILENT_ERROR";class a6{constructor(e,t,s,o={}){this.model=t,this.params=s,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,s!=null&&s.history&&(s6(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var s,o,l,c,m,p;await this._sendPromise;const g=Cu(e),_={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},T=Object.assign(Object.assign({},this._requestOptions),t);let w;return this._sendPromise=this._sendPromise.then(()=>Jw(this._apiKey,this.model,_,T)).then(C=>{var j;if(Mb(C.response)){this._history.push(g);const P=Object.assign({parts:[],role:"model"},(j=C.response.candidates)===null||j===void 0?void 0:j[0].content);this._history.push(P)}else{const P=rs(C.response);P&&console.warn(`sendMessage() was unsuccessful. ${P}. Inspect response object for details.`)}w=C}).catch(C=>{throw this._sendPromise=Promise.resolve(),C}),await this._sendPromise,w}async sendMessageStream(e,t={}){var s,o,l,c,m,p;await this._sendPromise;const g=Cu(e),_={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},T=Object.assign(Object.assign({},this._requestOptions),t),w=Xw(this._apiKey,this.model,_,T);return this._sendPromise=this._sendPromise.then(()=>w).catch(C=>{throw new Error(Vb)}).then(C=>C.response).then(C=>{if(Mb(C)){this._history.push(g);const j=Object.assign({},C.candidates[0].content);j.role||(j.role="model"),this._history.push(j)}else{const j=rs(C);j&&console.warn(`sendMessageStream() was unsuccessful. ${j}. Inspect response object for details.`)}}).catch(C=>{C.message!==Vb&&console.error(C)}),w}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(i,e,t,s){return(await $u(e,ma.COUNT_TOKENS,i,!1,JSON.stringify(t),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(i,e,t,s){return(await $u(e,ma.EMBED_CONTENT,i,!1,JSON.stringify(t),s)).json()}async function u6(i,e,t,s){const o=t.requests.map(c=>Object.assign(Object.assign({},c),{model:e}));return(await $u(e,ma.BATCH_EMBED_CONTENTS,i,!1,JSON.stringify({requests:o}),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t,s={}){this.apiKey=e,this._requestOptions=s,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=Ww(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var s;const o=Db(e),l=Object.assign(Object.assign({},this._requestOptions),t);return Jw(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),l)}async generateContentStream(e,t={}){var s;const o=Db(e),l=Object.assign(Object.assign({},this._requestOptions),t);return Xw(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),l)}startChat(e){var t;return new a6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const s=n6(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),t);return o6(this.apiKey,this.model,s,o)}async embedContent(e,t={}){const s=i6(e),o=Object.assign(Object.assign({},this._requestOptions),t);return l6(this.apiKey,this.model,s,o)}async batchEmbedContents(e,t={}){const s=Object.assign(Object.assign({},this._requestOptions),t);return u6(this.apiKey,this.model,e,s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new rn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Lb(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,s){if(!e.name)throw new ms("Cached content must contain a `name` field.");if(!e.model)throw new ms("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const c of o)if(t!=null&&t[c]&&e[c]&&(t==null?void 0:t[c])!==e[c]){if(c==="model"){const m=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,p=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(m===p)continue}throw new ms(`Different value for "${c}" specified in modelParams (${t[c]}) and cachedContent (${e[c]})`)}const l=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Lb(this.apiKey,l,s)}}const Zw="AIzaSyAZaBAhTf7sbYw8dCQgv6Arhgagd2S3o_s";console.log("Gemini API Key:","Configurada corretamente");const ex=new c6(Zw);console.log("--- Gemini Service: Verso Estvel v4.0 (CACHE BUSTER) ---");const tx=["gemini-1.5-flash","gemini-1.5-flash-latest","gemini-1.5-pro-latest"],h6=i=>{try{const e=i.match(/\[[\s\S]*\]/)||i.match(/\{[\s\S]*\}/),t=e?e[0]:i;return JSON.parse(t)}catch{throw console.error("Erro ao processar resposta da IA. Texto recebido:",i),new Error("A IA retornou um formato invlido. Tente novamente.")}},f6=async i=>{var t,s;let e=[];for(const o of tx)try{console.log(`[IA] Tentando modelo: ${o}`);const m=await(await ex.getGenerativeModel({model:o}).generateContent({contents:[{role:"user",parts:[{text:`
          Gere um formulrio JSON estruturado para o objetivo: "${i}".
          Retorne APENAS um array JSON. Seguindo este esquema de objeto:
          { "label": "string", "type": "text|longtext|email|phone|number|select", "options": ["string"], "required": boolean }
        `}]}],generationConfig:{responseMimeType:"application/json"}})).response;return h6(m.text())}catch(l){if(console.warn(`Modelo ${o} falhou:`,l.message),e.push(`${o}: ${l.message}`),(t=l.message)!=null&&t.includes("429")||(s=l.message)!=null&&s.includes("403"))break}throw new Error(`No foi possvel conectar com a IA. Detalhes:
${e.join(`
`)}`)},d6=async(i,e,t)=>{var g,_;const s=t.map(T=>`${T.label}: ${e[T.id]||"N/A"}`).join(`
`),o=`
    Voc  um consultor especializado.
    Objetivo da consultoria: ${i}
    
    Respostas enviadas pelo Lead:
    ${s}
    
    Analise essas respostas e gere uma resposta personalizada, consultiva e profissional para o lead em formato Markdown. 
    Foque em como os problemas dele podem ser resolvidos. Mantenha um tom encorajador e especialista.
  `;let l=[];for(const T of tx)try{console.log(`[IA] Gerando anlise com modelo: ${T}`);const P=(await(await ex.getGenerativeModel({model:T}).generateContent(o)).response).text();if(P)return P}catch(w){if(console.error(`Erro na anlise (${T}):`,w.message),l.push(`${T}: ${w.message}`),(g=w.message)!=null&&g.includes("429")||(_=w.message)!=null&&_.includes("403"))break}console.error("Falha em todos os modelos de IA para gerar anlise.",l);const c=`Presente (Inicia com: ${Zw.substring(0,4)}...)`,m=l.join(`
`);return`
# Obrigado pelas respostas!

**Diagnstico Tcnico (DEBUG - v4.0 - ${new Date().toLocaleString("pt-BR")})**
**(Se voc ver 'gemini-pro' abaixo, limpe o cache!)**
\`\`\`
Status da Chave API: ${c}
Erros por Modelo:
${m}
\`\`\`

Infelizmente nossa inteligncia artificial est sobrecarregada no momento e no conseguiu gerar sua anlise personalizada agora.

**Mas no se preocupe!**
Nossa equipe de especialistas j recebeu seus dados:
${t.map(T=>`- **${T.label}**: ${e[T.id]||"N/A"}`).join(`
`)}

Entraremos em contato em breve para discutir seu plano de ao.
  `},m6=({form:i,setForm:e,handleFileUpload:t})=>b.jsx(qf,{title:"Branding e Tema",subtitle:"Como o seu cliente ver o formulrio",children:b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"space-y-3",children:[b.jsx("label",{className:"text-sm font-black text-gray-700 dark:text-gray-300 uppercase tracking-widest",children:"Tema Visual do Formulrio Pblico"}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("button",{type:"button",onClick:()=>{e({...i,theme:"light"}),document.documentElement.classList.remove("dark")},className:`flex flex-col items-center justify-center gap-3 p-6 rounded-2xl border-2 transition-all ${i.theme==="light"?"border-blue-600 bg-blue-50 text-blue-700 ring-4 ring-blue-100":"border-gray-100 bg-gray-50 dark:bg-gray-800 dark:border-gray-700 text-gray-400 hover:border-gray-200"}`,children:[b.jsx(p1,{size:32}),b.jsx("span",{className:"font-bold",children:"MODO CLARO"})]}),b.jsxs("button",{type:"button",onClick:()=>{e({...i,theme:"dark"}),document.documentElement.classList.add("dark")},className:`flex flex-col items-center justify-center gap-3 p-6 rounded-2xl border-2 transition-all ${i.theme==="dark"?"border-blue-600 bg-gray-900 text-white ring-4 ring-blue-100/20":"border-gray-100 bg-gray-50 dark:bg-gray-800 dark:border-gray-700 text-gray-400 hover:border-gray-200"}`,children:[b.jsx(f1,{size:32}),b.jsx("span",{className:"font-bold",children:"MODO DARK"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase",children:["Nome ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsx("input",{type:"text",value:i.name,onChange:s=>e({...i,name:s.target.value}),className:"w-full p-2 border dark:border-gray-700 rounded-lg outline-none bg-transparent dark:text-white focus:border-blue-500",placeholder:"Ex: Lead Qualificado"})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsxs("label",{className:"text-xs font-bold text-gray-500 uppercase",children:["URL (Slug) ",b.jsx("span",{className:"text-red-500",children:"*"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("span",{className:"bg-gray-50 dark:bg-gray-800 border dark:border-gray-700 border-r-0 px-3 py-2 rounded-l-lg text-gray-400 text-sm",children:"/f/"}),b.jsx("input",{type:"text",value:i.slug,onChange:s=>e({...i,slug:s.target.value.toLowerCase().replace(/\s+/g,"-")}),className:"w-full p-2 border dark:border-gray-700 rounded-r-lg outline-none bg-transparent dark:text-white focus:border-blue-500",placeholder:"minha-url"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Cor Primria"}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("input",{type:"color",value:i.primaryColor,onChange:s=>e({...i,primaryColor:s.target.value}),className:"w-12 h-10 border dark:border-gray-700 p-1 rounded cursor-pointer bg-white dark:bg-gray-800"}),b.jsx("input",{type:"text",value:i.primaryColor,onChange:s=>e({...i,primaryColor:s.target.value}),className:"flex-1 p-2 border dark:border-gray-700 rounded-lg text-sm font-mono bg-transparent dark:text-white focus:border-blue-500"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Logo"}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 border dark:border-gray-700 rounded flex items-center justify-center bg-gray-50 dark:bg-gray-800 overflow-hidden",children:i.logo?b.jsx("img",{src:i.logo,className:"w-full h-full object-contain",alt:"Logo preview"}):b.jsx(cR,{size:20,className:"text-gray-300"})}),b.jsxs("label",{className:"flex-1 flex items-center justify-center gap-2 p-2 border border-dashed dark:border-gray-700 rounded-lg text-xs cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors dark:text-gray-400",children:[b.jsx(XR,{size:14})," Upload",b.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:s=>t(s,o=>e({...i,logo:o}))})]})]})]})]})]})}),p6=({form:i,aiPrompt:e,setAiPrompt:t,handleAiGenerate:s,isGenerating:o,updateQuestion:l,removeQuestion:c,addQuestion:m})=>b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 p-6 rounded-2xl shadow-lg text-white",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[b.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:b.jsx(tC,{size:24})}),b.jsx("h2",{className:"text-xl font-bold",children:"IA Geradora"})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[b.jsx("textarea",{value:e,onChange:p=>t(p.target.value),placeholder:"O que este formulrio deve perguntar?",className:"flex-1 p-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-blue-100 outline-none h-20 resize-none"}),b.jsx(Er,{onClick:s,isLoading:o,variant:"secondary",className:"bg-white text-blue-700 hover:bg-blue-50 border-none px-8",icon:!o&&b.jsx(Xh,{size:20}),children:"Gerar"})]})]}),b.jsxs("div",{className:"space-y-4",children:[i.questions.map((p,g)=>{var _;return b.jsxs("div",{className:"bg-white dark:bg-gray-900 p-5 rounded-xl border dark:border-gray-800 shadow-sm group",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx("span",{className:"text-xs font-bold bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 px-2 py-0.5 rounded-full",children:g+1}),b.jsx("input",{type:"text",value:p.label,onChange:T=>l(p.id,{label:T.target.value}),className:"flex-1 font-semibold text-gray-800 dark:text-gray-200 bg-transparent border-b border-transparent focus:border-blue-500 outline-none"}),b.jsx("button",{onClick:()=>c(p.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:b.jsx(Zp,{size:18})})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsx("div",{children:b.jsx("select",{value:p.type,onChange:T=>l(p.id,{type:T.target.value}),className:"w-full p-2 text-sm border dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 dark:text-gray-200 outline-none",children:MM.map(T=>b.jsx("option",{value:T.value,children:T.label},T.value))})}),p.type==="select"&&b.jsx("div",{className:"md:col-span-2",children:b.jsx("textarea",{value:((_=p.options)==null?void 0:_.join(`
`))||"",onChange:T=>l(p.id,{options:T.target.value.split(`
`)}),className:"w-full p-3 text-sm border dark:border-gray-700 rounded-lg h-24 outline-none bg-white dark:bg-gray-800 dark:text-gray-200",placeholder:"Opes (uma por linha)"})})]})]},p.id)}),b.jsx(Er,{onClick:m,variant:"outline",className:"w-full py-4 text-gray-400 dark:text-gray-500 border-dashed",icon:b.jsx(Qh,{size:20}),children:"Adicionar Pergunta"})]})]}),g6=({form:i,setForm:e,updateProduct:t,addProduct:s,addProductImage:o,removeProductImage:l,handleFileUpload:c})=>b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.products.map(m=>{var p;return b.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-xl border dark:border-gray-800 shadow-sm space-y-4 relative",children:[b.jsx("button",{onClick:()=>e({...i,products:i.products.filter(g=>g.id!==m.id)}),className:"absolute top-4 right-4 text-gray-300 dark:text-gray-600 hover:text-red-500 transition-colors",children:b.jsx(Zp,{size:18})}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{type:"text",value:m.name,onChange:g=>t(m.id,{name:g.target.value}),className:"w-full p-2 text-sm border dark:border-gray-700 rounded-lg font-bold bg-transparent dark:text-white outline-none focus:border-blue-500",placeholder:"Nome do Produto"}),b.jsx("textarea",{value:m.description,onChange:g=>t(m.id,{description:g.target.value}),className:"w-full p-2 text-sm border dark:border-gray-700 rounded-lg h-24 resize-none bg-transparent dark:text-gray-300 outline-none focus:border-blue-500",placeholder:"Descrio..."})]}),b.jsx("div",{className:"space-y-2",children:b.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[(p=m.imageUrls)==null?void 0:p.map((g,_)=>b.jsxs("div",{className:"aspect-square border dark:border-gray-700 rounded-lg overflow-hidden relative group",children:[b.jsx("img",{src:g,className:"w-full h-full object-cover",alt:`Product ${_}`}),b.jsx("button",{onClick:()=>l(m.id,_),className:"absolute top-1 right-1 p-1 bg-white/80 dark:bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(Du,{size:12,className:"text-red-500"})})]},_)),b.jsxs("label",{className:"aspect-square border-2 border-dashed dark:border-gray-700 rounded-lg flex flex-col items-center justify-center text-gray-300 dark:text-gray-600 hover:text-blue-500 hover:border-blue-500 cursor-pointer transition-all",children:[b.jsx(Qh,{size:20}),b.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:g=>c(g,_=>o(m.id,_))})]})]})})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("input",{type:"text",value:m.price,onChange:g=>t(m.id,{price:g.target.value}),className:"flex-1 p-2 text-sm border dark:border-gray-700 rounded-lg bg-transparent dark:text-white outline-none focus:border-blue-500",placeholder:"R$ 0,00"}),b.jsx("input",{type:"text",value:m.ctaLink,onChange:g=>t(m.id,{ctaLink:g.target.value}),className:"flex-[2] p-2 text-sm border dark:border-gray-700 rounded-lg bg-transparent dark:text-white outline-none focus:border-blue-500",placeholder:"Link de Compra"})]})]},m.id)})}),b.jsx(Er,{onClick:s,variant:"outline",className:"w-full py-4 text-gray-400 dark:text-gray-500 border-dashed",icon:b.jsx(Qh,{size:20}),children:"Adicionar Produto"})]}),y6=({form:i,setForm:e})=>b.jsx(qf,{title:"Lgica IA",subtitle:"Define como a IA deve analisar as respostas",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx("textarea",{value:i.aiResponsePrompt,onChange:t=>e({...i,aiResponsePrompt:t.target.value}),className:"w-full h-48 p-4 border dark:border-gray-700 rounded-xl outline-none focus:ring-2 focus:ring-blue-500 bg-transparent dark:text-gray-200",placeholder:"Ex: Use as respostas acima para criar um diagnstico..."}),b.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/10 rounded-xl border border-amber-100 dark:border-amber-900/30",children:b.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400 font-medium",children:'No esquea de configurar o Link de Especialistas na aba "Branding" para direcionar seus leads aps a anlise.'})})]})}),Pb=()=>{const{id:i}=Kp(),e=Nu(),{saveForm:t,getFormById:s}=Gu(),o=!!i,[l,c]=z.useState({id:"",name:"",slug:"",status:"active",primaryColor:OM,theme:"light",questions:[],aiResponsePrompt:"Analise as respostas e fornea uma recomendao personalizada de servios com tom consultivo e profissional.",products:[],expertLink:"",createdAt:Date.now()}),[m,p]=z.useState(o),[g,_]=z.useState(""),[T,w]=z.useState(!1),[C,j]=z.useState("branding");z.useEffect(()=>{o&&P()},[i]);const P=async()=>{var I;try{const O=await s(i);O?(console.log("FormEditor: Dados carregados com sucesso!",{id:O.id,nome:O.name,perguntas:((I=O.questions)==null?void 0:I.length)||0}),c({...O,questions:O.questions||[],products:O.products||[]})):(console.error("FormEditor: Formulrio no encontrado no Firebase."),alert("Erro: Formulrio no encontrado."),e("/admin"))}catch(O){console.error("FormEditor: Erro crtico ao carregar dados:",O.message),alert("Erro ao carregar formulrio: "+O.message)}finally{p(!1)}},F=(I,O)=>{var re;const R=(re=I.target.files)==null?void 0:re[0];if(R){const Ae=new FileReader;Ae.onloadend=()=>O(Ae.result),Ae.readAsDataURL(R)}},te=async()=>{if(!l.name||!l.slug){alert("Por favor, preencha o nome e a URL (slug).");return}p(!0);try{await t(l),e("/admin")}catch(I){alert("Erro ao salvar formulrio: "+I.message)}finally{p(!1)}},ie=async()=>{if(!g){alert("Por favor, descreva o objetivo do formulrio para a IA.");return}w(!0);try{const O=(await f6(g)).map(R=>({id:crypto.randomUUID(),label:R.label||"Nova Pergunta",type:R.type||"text",options:R.options||[],required:R.required??!0}));c(R=>({...R,questions:[...R.questions,...O]})),_(""),j("questions")}catch(I){alert("Erro ao gerar perguntas com IA: "+(I.message||"Erro desconhecido"))}finally{w(!1)}},ne=()=>{const I={id:crypto.randomUUID(),label:"Nova Pergunta",type:"text",required:!0,options:[]};c(O=>({...O,questions:[...O.questions,I]}))},ye=(I,O)=>{c(R=>({...R,questions:R.questions.map(re=>re.id===I?{...re,...O}:re)}))},_e=I=>{c(O=>({...O,questions:O.questions.filter(R=>R.id!==I)}))},oe=()=>{const I={id:crypto.randomUUID(),name:"",description:"",price:"",imageUrls:[],ctaLink:"#"};c(O=>({...O,products:[...O.products,I]}))},N=(I,O)=>{c(R=>({...R,products:R.products.map(re=>re.id===I?{...re,...O}:re)}))},A=(I,O)=>{c(R=>({...R,products:R.products.map(re=>re.id===I?{...re,imageUrls:[...re.imageUrls||[],O]}:re)}))},k=(I,O)=>{c(R=>({...R,products:R.products.map(re=>{if(re.id===I){const Ae=[...re.imageUrls||[]];return Ae.splice(O,1),{...re,imageUrls:Ae}}return re})}))};if(m&&o)return b.jsx("div",{className:"flex justify-center py-20",children:b.jsx(xo,{className:"animate-spin text-blue-600",size:48})});const M=I=>`
    w-full flex items-center gap-3 p-3 rounded-lg text-sm font-medium transition-colors
    ${C===I?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-blue-50"}
  `;return b.jsxs("div",{className:"max-w-5xl mx-auto pb-20",children:[b.jsxs("div",{className:"flex items-center justify-between mb-8",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>e("/admin"),className:"p-2 hover:bg-white rounded-full transition-colors",children:b.jsx(q2,{size:20,className:"text-gray-600"})}),b.jsxs("div",{children:[b.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:[o?"Editar":"Criar"," Formulrio"]}),b.jsx("p",{className:"text-gray-500 text-sm",children:"Configure o visual e as perguntas do seu fluxo"})]})]}),b.jsx(Er,{onClick:te,isLoading:m,icon:!m&&b.jsx(MR,{size:20}),children:o?"Salvar Alteraes":"Publicar Formulrio"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[b.jsxs("div",{className:"md:col-span-1 space-y-2",children:[b.jsxs("button",{onClick:()=>j("branding"),className:M("branding"),children:[b.jsx(CR,{size:18})," Visual e Branding"]}),b.jsxs("button",{onClick:()=>j("questions"),className:M("questions"),children:[b.jsx(Xh,{size:18})," Perguntas (IA)"]}),b.jsxs("button",{onClick:()=>j("logic"),className:M("logic"),children:[b.jsx(h1,{size:18})," Lgica de Resposta"]}),b.jsxs("button",{onClick:()=>j("products"),className:M("products"),children:[b.jsx(AR,{size:18})," Produtos Associados"]})]}),b.jsxs("div",{className:"md:col-span-3 space-y-6",children:[C==="branding"&&l&&b.jsx(m6,{form:l,setForm:c,handleFileUpload:F}),C==="questions"&&l&&b.jsx(p6,{form:l,aiPrompt:g,setAiPrompt:_,handleAiGenerate:ie,isGenerating:T,updateQuestion:ye,removeQuestion:_e,addQuestion:ne}),C==="products"&&l&&b.jsx(g6,{form:l,setForm:c,updateProduct:N,addProduct:oe,addProductImage:A,removeProductImage:k,handleFileUpload:F}),C==="logic"&&l&&b.jsx(y6,{form:l,setForm:c})]})]})]})};function Xg(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let ba=Xg();function nx(i){ba=i}const ix=/[&<>"']/,_6=new RegExp(ix.source,"g"),rx=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,v6=new RegExp(rx.source,"g"),E6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jb=i=>E6[i];function Rn(i,e){if(e){if(ix.test(i))return i.replace(_6,jb)}else if(rx.test(i))return i.replace(v6,jb);return i}const b6=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function T6(i){return i.replace(b6,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const w6=/(^|[^\[])\^/g;function it(i,e){let t=typeof i=="string"?i:i.source;e=e||"";const s={replace:(o,l)=>{let c=typeof l=="string"?l:l.source;return c=c.replace(w6,"$1"),t=t.replace(o,c),s},getRegex:()=>new RegExp(t,e)};return s}function Ub(i){try{i=encodeURI(i).replace(/%25/g,"%")}catch{return null}return i}const du={exec:()=>null};function zb(i,e){const t=i.replace(/\|/g,(l,c,m)=>{let p=!1,g=c;for(;--g>=0&&m[g]==="\\";)p=!p;return p?"|":" |"}),s=t.split(/ \|/);let o=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;o<s.length;o++)s[o]=s[o].trim().replace(/\\\|/g,"|");return s}function Dh(i,e,t){const s=i.length;if(s===0)return"";let o=0;for(;o<s&&i.charAt(s-o-1)===e;)o++;return i.slice(0,s-o)}function x6(i,e){if(i.indexOf(e[1])===-1)return-1;let t=0;for(let s=0;s<i.length;s++)if(i[s]==="\\")s++;else if(i[s]===e[0])t++;else if(i[s]===e[1]&&(t--,t<0))return s;return-1}function Bb(i,e,t,s){const o=e.href,l=e.title?Rn(e.title):null,c=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){s.state.inLink=!0;const m={type:"link",raw:t,href:o,title:l,text:c,tokens:s.inlineTokens(c)};return s.state.inLink=!1,m}return{type:"image",raw:t,href:o,title:l,text:Rn(c)}}function S6(i,e){const t=i.match(/^(\s+)(?:```)/);if(t===null)return e;const s=t[1];return e.split(`
`).map(o=>{const l=o.match(/^\s+/);if(l===null)return o;const[c]=l;return c.length>=s.length?o.slice(s.length):o}).join(`
`)}class gf{constructor(e){lt(this,"options");lt(this,"rules");lt(this,"lexer");this.options=e||ba}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const s=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?s:Dh(s,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const s=t[0],o=S6(s,t[3]||"");return{type:"code",raw:s,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let s=t[2].trim();if(/#$/.test(s)){const o=Dh(s,"#");(this.options.pedantic||!o||/ $/.test(o))&&(s=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let s=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);s=Dh(s.replace(/^ *>[ \t]?/gm,""),`
`);const o=this.lexer.state.top;this.lexer.state.top=!0;const l=this.lexer.blockTokens(s);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:l,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let s=t[1].trim();const o=s.length>1,l={type:"list",raw:"",ordered:o,start:o?+s.slice(0,-1):"",loose:!1,items:[]};s=o?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=o?s:"[*+-]");const c=new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`);let m="",p="",g=!1;for(;e;){let _=!1;if(!(t=c.exec(e))||this.rules.block.hr.test(e))break;m=t[0],e=e.substring(m.length);let T=t[2].split(`
`,1)[0].replace(/^\t+/,te=>" ".repeat(3*te.length)),w=e.split(`
`,1)[0],C=0;this.options.pedantic?(C=2,p=T.trimStart()):(C=t[2].search(/[^ ]/),C=C>4?1:C,p=T.slice(C),C+=t[1].length);let j=!1;if(!T&&/^ *$/.test(w)&&(m+=w+`
`,e=e.substring(w.length+1),_=!0),!_){const te=new RegExp(`^ {0,${Math.min(3,C-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),ie=new RegExp(`^ {0,${Math.min(3,C-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ne=new RegExp(`^ {0,${Math.min(3,C-1)}}(?:\`\`\`|~~~)`),ye=new RegExp(`^ {0,${Math.min(3,C-1)}}#`);for(;e;){const _e=e.split(`
`,1)[0];if(w=_e,this.options.pedantic&&(w=w.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),ne.test(w)||ye.test(w)||te.test(w)||ie.test(e))break;if(w.search(/[^ ]/)>=C||!w.trim())p+=`
`+w.slice(C);else{if(j||T.search(/[^ ]/)>=4||ne.test(T)||ye.test(T)||ie.test(T))break;p+=`
`+w}!j&&!w.trim()&&(j=!0),m+=_e+`
`,e=e.substring(_e.length+1),T=w.slice(C)}}l.loose||(g?l.loose=!0:/\n *\n *$/.test(m)&&(g=!0));let P=null,F;this.options.gfm&&(P=/^\[[ xX]\] /.exec(p),P&&(F=P[0]!=="[ ] ",p=p.replace(/^\[[ xX]\] +/,""))),l.items.push({type:"list_item",raw:m,task:!!P,checked:F,loose:!1,text:p,tokens:[]}),l.raw+=m}l.items[l.items.length-1].raw=m.trimEnd(),l.items[l.items.length-1].text=p.trimEnd(),l.raw=l.raw.trimEnd();for(let _=0;_<l.items.length;_++)if(this.lexer.state.top=!1,l.items[_].tokens=this.lexer.blockTokens(l.items[_].text,[]),!l.loose){const T=l.items[_].tokens.filter(C=>C.type==="space"),w=T.length>0&&T.some(C=>/\n.*\n/.test(C.raw));l.loose=w}if(l.loose)for(let _=0;_<l.items.length;_++)l.items[_].loose=!0;return l}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const s=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:s,raw:t[0],href:o,title:l}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const s=zb(t[1]),o=t[2].replace(/^\||\| *$/g,"").split("|"),l=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],c={type:"table",raw:t[0],header:[],align:[],rows:[]};if(s.length===o.length){for(const m of o)/^ *-+: *$/.test(m)?c.align.push("right"):/^ *:-+: *$/.test(m)?c.align.push("center"):/^ *:-+ *$/.test(m)?c.align.push("left"):c.align.push(null);for(const m of s)c.header.push({text:m,tokens:this.lexer.inline(m)});for(const m of l)c.rows.push(zb(m,c.header.length).map(p=>({text:p,tokens:this.lexer.inline(p)})));return c}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const s=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Rn(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const s=t[2].trim();if(!this.options.pedantic&&/^</.test(s)){if(!/>$/.test(s))return;const c=Dh(s.slice(0,-1),"\\");if((s.length-c.length)%2===0)return}else{const c=x6(t[2],"()");if(c>-1){const p=(t[0].indexOf("!")===0?5:4)+t[1].length+c;t[2]=t[2].substring(0,c),t[0]=t[0].substring(0,p).trim(),t[3]=""}}let o=t[2],l="";if(this.options.pedantic){const c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);c&&(o=c[1],l=c[3])}else l=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(s)?o=o.slice(1):o=o.slice(1,-1)),Bb(t,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){const o=(s[2]||s[1]).replace(/\s+/g," "),l=t[o.toLowerCase()];if(!l){const c=s[0].charAt(0);return{type:"text",raw:c,text:c}}return Bb(s,l,s[0],this.lexer)}}emStrong(e,t,s=""){let o=this.rules.inline.emStrongLDelim.exec(e);if(!o||o[3]&&s.match(/[\p{L}\p{N}]/u))return;if(!(o[1]||o[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const c=[...o[0]].length-1;let m,p,g=c,_=0;const T=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(T.lastIndex=0,t=t.slice(-1*e.length+c);(o=T.exec(t))!=null;){if(m=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!m)continue;if(p=[...m].length,o[3]||o[4]){g+=p;continue}else if((o[5]||o[6])&&c%3&&!((c+p)%3)){_+=p;continue}if(g-=p,g>0)continue;p=Math.min(p,p+g+_);const w=[...o[0]][0].length,C=e.slice(0,c+o.index+w+p);if(Math.min(c,p)%2){const P=C.slice(1,-1);return{type:"em",raw:C,text:P,tokens:this.lexer.inlineTokens(P)}}const j=C.slice(2,-2);return{type:"strong",raw:C,text:j,tokens:this.lexer.inlineTokens(j)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let s=t[2].replace(/\n/g," ");const o=/[^ ]/.test(s),l=/^ /.test(s)&&/ $/.test(s);return o&&l&&(s=s.substring(1,s.length-1)),s=Rn(s,!0),{type:"codespan",raw:t[0],text:s}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let s,o;return t[2]==="@"?(s=Rn(t[1]),o="mailto:"+s):(s=Rn(t[1]),o=s),{type:"link",raw:t[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let t;if(t=this.rules.inline.url.exec(e)){let o,l;if(t[2]==="@")o=Rn(t[0]),l="mailto:"+o;else{let c;do c=t[0],t[0]=((s=this.rules.inline._backpedal.exec(t[0]))==null?void 0:s[0])??"";while(c!==t[0]);o=Rn(t[0]),t[1]==="www."?l="http://"+t[0]:l=t[0]}return{type:"link",raw:t[0],text:o,href:l,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let s;return this.lexer.state.inRawBlock?s=t[0]:s=Rn(t[0]),{type:"text",raw:t[0],text:s}}}}const A6=/^(?: *(?:\n|$))+/,R6=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,C6=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ku=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,I6=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,sx=/(?:[*+-]|\d{1,9}[.)])/,ax=it(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,sx).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Jg=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,N6=/^[^\n]+/,Wg=/(?!\s*\])(?:\\.|[^\[\]\\])+/,k6=it(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Wg).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),D6=it(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,sx).getRegex(),Hf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Zg=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,O6=it("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Zg).replace("tag",Hf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ox=it(Jg).replace("hr",Ku).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hf).getRegex(),M6=it(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ox).getRegex(),ey={blockquote:M6,code:R6,def:k6,fences:C6,heading:I6,hr:Ku,html:O6,lheading:ax,list:D6,newline:A6,paragraph:ox,table:du,text:N6},qb=it("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ku).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hf).getRegex(),V6={...ey,table:qb,paragraph:it(Jg).replace("hr",Ku).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",qb).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hf).getRegex()},L6={...ey,html:it(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Zg).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:du,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:it(Jg).replace("hr",Ku).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ax).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},lx=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,P6=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ux=/^( {2,}|\\)\n(?!\s*$)/,j6=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Yu="\\p{P}\\p{S}",U6=it(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Yu).getRegex(),z6=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,B6=it(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Yu).getRegex(),q6=it("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Yu).getRegex(),H6=it("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Yu).getRegex(),F6=it(/\\([punct])/,"gu").replace(/punct/g,Yu).getRegex(),G6=it(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),$6=it(Zg).replace("(?:-->|$)","-->").getRegex(),K6=it("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",$6).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),yf=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Y6=it(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",yf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),cx=it(/^!?\[(label)\]\[(ref)\]/).replace("label",yf).replace("ref",Wg).getRegex(),hx=it(/^!?\[(ref)\](?:\[\])?/).replace("ref",Wg).getRegex(),Q6=it("reflink|nolink(?!\\()","g").replace("reflink",cx).replace("nolink",hx).getRegex(),ty={_backpedal:du,anyPunctuation:F6,autolink:G6,blockSkip:z6,br:ux,code:P6,del:du,emStrongLDelim:B6,emStrongRDelimAst:q6,emStrongRDelimUnd:H6,escape:lx,link:Y6,nolink:hx,punctuation:U6,reflink:cx,reflinkSearch:Q6,tag:K6,text:j6,url:du},X6={...ty,link:it(/^!?\[(label)\]\((.*?)\)/).replace("label",yf).getRegex(),reflink:it(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",yf).getRegex()},Bp={...ty,escape:it(lx).replace("])","~|])").getRegex(),url:it(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},J6={...Bp,br:it(ux).replace("{2,}","*").getRegex(),text:it(Bp.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Oh={normal:ey,gfm:V6,pedantic:L6},Wl={normal:ty,gfm:Bp,breaks:J6,pedantic:X6};class Vi{constructor(e){lt(this,"tokens");lt(this,"options");lt(this,"state");lt(this,"tokenizer");lt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ba,this.options.tokenizer=this.options.tokenizer||new gf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Oh.normal,inline:Wl.normal};this.options.pedantic?(t.block=Oh.pedantic,t.inline=Wl.pedantic):this.options.gfm&&(t.block=Oh.gfm,this.options.breaks?t.inline=Wl.breaks:t.inline=Wl.gfm),this.tokenizer.rules=t}static get rules(){return{block:Oh,inline:Wl}}static lex(e,t){return new Vi(t).lex(e)}static lexInline(e,t){return new Vi(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const s=this.inlineQueue[t];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(m,p,g)=>p+"    ".repeat(g.length));let s,o,l,c;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(m=>(s=m.call({lexer:this},e,t))?(e=e.substring(s.raw.length),t.push(s),!0):!1))){if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length),s.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length),o=t[t.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+s.raw,o.text+=`
`+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),t.push(s);continue}if(l=e,this.options.extensions&&this.options.extensions.startBlock){let m=1/0;const p=e.slice(1);let g;this.options.extensions.startBlock.forEach(_=>{g=_.call({lexer:this},p),typeof g=="number"&&g>=0&&(m=Math.min(m,g))}),m<1/0&&m>=0&&(l=e.substring(0,m+1))}if(this.state.top&&(s=this.tokenizer.paragraph(l))){o=t[t.length-1],c&&o.type==="paragraph"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(s),c=l.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length),o=t[t.length-1],o&&o.type==="text"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(s);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let s,o,l,c=e,m,p,g;if(this.tokens.links){const _=Object.keys(this.tokens.links);if(_.length>0)for(;(m=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)_.includes(m[0].slice(m[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,m.index)+"["+"a".repeat(m[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(m=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)c=c.slice(0,m.index)+"["+"a".repeat(m[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(m=this.tokenizer.rules.inline.anyPunctuation.exec(c))!=null;)c=c.slice(0,m.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(p||(g=""),p=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(_=>(s=_.call({lexer:this},e,t))?(e=e.substring(s.raw.length),t.push(s),!0):!1))){if(s=this.tokenizer.escape(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.tag(e)){e=e.substring(s.raw.length),o=t[t.length-1],o&&s.type==="text"&&o.type==="text"?(o.raw+=s.raw,o.text+=s.text):t.push(s);continue}if(s=this.tokenizer.link(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(s.raw.length),o=t[t.length-1],o&&s.type==="text"&&o.type==="text"?(o.raw+=s.raw,o.text+=s.text):t.push(s);continue}if(s=this.tokenizer.emStrong(e,c,g)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.codespan(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.br(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.del(e)){e=e.substring(s.raw.length),t.push(s);continue}if(s=this.tokenizer.autolink(e)){e=e.substring(s.raw.length),t.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(e))){e=e.substring(s.raw.length),t.push(s);continue}if(l=e,this.options.extensions&&this.options.extensions.startInline){let _=1/0;const T=e.slice(1);let w;this.options.extensions.startInline.forEach(C=>{w=C.call({lexer:this},T),typeof w=="number"&&w>=0&&(_=Math.min(_,w))}),_<1/0&&_>=0&&(l=e.substring(0,_+1))}if(s=this.tokenizer.inlineText(l)){e=e.substring(s.raw.length),s.raw.slice(-1)!=="_"&&(g=s.raw.slice(-1)),p=!0,o=t[t.length-1],o&&o.type==="text"?(o.raw+=s.raw,o.text+=s.text):t.push(s);continue}if(e){const _="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return t}}class _f{constructor(e){lt(this,"options");this.options=e||ba}code(e,t,s){var l;const o=(l=(t||"").match(/^\S*/))==null?void 0:l[0];return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="language-'+Rn(o)+'">'+(s?e:Rn(e,!0))+`</code></pre>
`:"<pre><code>"+(s?e:Rn(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,s){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,s){const o=t?"ol":"ul",l=t&&s!==1?' start="'+s+'"':"";return"<"+o+l+`>
`+e+"</"+o+`>
`}listitem(e,t,s){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const s=t.header?"th":"td";return(t.align?`<${s} align="${t.align}">`:`<${s}>`)+e+`</${s}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,s){const o=Ub(e);if(o===null)return s;e=o;let l='<a href="'+e+'"';return t&&(l+=' title="'+t+'"'),l+=">"+s+"</a>",l}image(e,t,s){const o=Ub(e);if(o===null)return s;e=o;let l=`<img src="${e}" alt="${s}"`;return t&&(l+=` title="${t}"`),l+=">",l}text(e){return e}}class ny{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,s){return""+s}image(e,t,s){return""+s}br(){return""}}class Li{constructor(e){lt(this,"options");lt(this,"renderer");lt(this,"textRenderer");this.options=e||ba,this.options.renderer=this.options.renderer||new _f,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ny}static parse(e,t){return new Li(t).parse(e)}static parseInline(e,t){return new Li(t).parseInline(e)}parse(e,t=!0){let s="";for(let o=0;o<e.length;o++){const l=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]){const c=l,m=this.options.extensions.renderers[c.type].call({parser:this},c);if(m!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){s+=m||"";continue}}switch(l.type){case"space":continue;case"hr":{s+=this.renderer.hr();continue}case"heading":{const c=l;s+=this.renderer.heading(this.parseInline(c.tokens),c.depth,T6(this.parseInline(c.tokens,this.textRenderer)));continue}case"code":{const c=l;s+=this.renderer.code(c.text,c.lang,!!c.escaped);continue}case"table":{const c=l;let m="",p="";for(let _=0;_<c.header.length;_++)p+=this.renderer.tablecell(this.parseInline(c.header[_].tokens),{header:!0,align:c.align[_]});m+=this.renderer.tablerow(p);let g="";for(let _=0;_<c.rows.length;_++){const T=c.rows[_];p="";for(let w=0;w<T.length;w++)p+=this.renderer.tablecell(this.parseInline(T[w].tokens),{header:!1,align:c.align[w]});g+=this.renderer.tablerow(p)}s+=this.renderer.table(m,g);continue}case"blockquote":{const c=l,m=this.parse(c.tokens);s+=this.renderer.blockquote(m);continue}case"list":{const c=l,m=c.ordered,p=c.start,g=c.loose;let _="";for(let T=0;T<c.items.length;T++){const w=c.items[T],C=w.checked,j=w.task;let P="";if(w.task){const F=this.renderer.checkbox(!!C);g?w.tokens.length>0&&w.tokens[0].type==="paragraph"?(w.tokens[0].text=F+" "+w.tokens[0].text,w.tokens[0].tokens&&w.tokens[0].tokens.length>0&&w.tokens[0].tokens[0].type==="text"&&(w.tokens[0].tokens[0].text=F+" "+w.tokens[0].tokens[0].text)):w.tokens.unshift({type:"text",text:F+" "}):P+=F+" "}P+=this.parse(w.tokens,g),_+=this.renderer.listitem(P,j,!!C)}s+=this.renderer.list(_,m,p);continue}case"html":{const c=l;s+=this.renderer.html(c.text,c.block);continue}case"paragraph":{const c=l;s+=this.renderer.paragraph(this.parseInline(c.tokens));continue}case"text":{let c=l,m=c.tokens?this.parseInline(c.tokens):c.text;for(;o+1<e.length&&e[o+1].type==="text";)c=e[++o],m+=`
`+(c.tokens?this.parseInline(c.tokens):c.text);s+=t?this.renderer.paragraph(m):m;continue}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return s}parseInline(e,t){t=t||this.renderer;let s="";for(let o=0;o<e.length;o++){const l=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]){const c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){s+=c||"";continue}}switch(l.type){case"escape":{const c=l;s+=t.text(c.text);break}case"html":{const c=l;s+=t.html(c.text);break}case"link":{const c=l;s+=t.link(c.href,c.title,this.parseInline(c.tokens,t));break}case"image":{const c=l;s+=t.image(c.href,c.title,c.text);break}case"strong":{const c=l;s+=t.strong(this.parseInline(c.tokens,t));break}case"em":{const c=l;s+=t.em(this.parseInline(c.tokens,t));break}case"codespan":{const c=l;s+=t.codespan(c.text);break}case"br":{s+=t.br();break}case"del":{const c=l;s+=t.del(this.parseInline(c.tokens,t));break}case"text":{const c=l;s+=t.text(c.text);break}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return s}}class mu{constructor(e){lt(this,"options");this.options=e||ba}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}lt(mu,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var ga,qp,fx;class W6{constructor(...e){xv(this,ga);lt(this,"defaults",Xg());lt(this,"options",this.setOptions);lt(this,"parse",xh(this,ga,qp).call(this,Vi.lex,Li.parse));lt(this,"parseInline",xh(this,ga,qp).call(this,Vi.lexInline,Li.parseInline));lt(this,"Parser",Li);lt(this,"Renderer",_f);lt(this,"TextRenderer",ny);lt(this,"Lexer",Vi);lt(this,"Tokenizer",gf);lt(this,"Hooks",mu);this.use(...e)}walkTokens(e,t){var o,l;let s=[];for(const c of e)switch(s=s.concat(t.call(this,c)),c.type){case"table":{const m=c;for(const p of m.header)s=s.concat(this.walkTokens(p.tokens,t));for(const p of m.rows)for(const g of p)s=s.concat(this.walkTokens(g.tokens,t));break}case"list":{const m=c;s=s.concat(this.walkTokens(m.items,t));break}default:{const m=c;(l=(o=this.defaults.extensions)==null?void 0:o.childTokens)!=null&&l[m.type]?this.defaults.extensions.childTokens[m.type].forEach(p=>{const g=m[p].flat(1/0);s=s.concat(this.walkTokens(g,t))}):m.tokens&&(s=s.concat(this.walkTokens(m.tokens,t)))}}return s}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{const o={...s};if(o.async=this.defaults.async||o.async||!1,s.extensions&&(s.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){const c=t.renderers[l.name];c?t.renderers[l.name]=function(...m){let p=l.renderer.apply(this,m);return p===!1&&(p=c.apply(this,m)),p}:t.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const c=t[l.level];c?c.unshift(l.tokenizer):t[l.level]=[l.tokenizer],l.start&&(l.level==="block"?t.startBlock?t.startBlock.push(l.start):t.startBlock=[l.start]:l.level==="inline"&&(t.startInline?t.startInline.push(l.start):t.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(t.childTokens[l.name]=l.childTokens)}),o.extensions=t),s.renderer){const l=this.defaults.renderer||new _f(this.defaults);for(const c in s.renderer){if(!(c in l))throw new Error(`renderer '${c}' does not exist`);if(c==="options")continue;const m=c,p=s.renderer[m],g=l[m];l[m]=(..._)=>{let T=p.apply(l,_);return T===!1&&(T=g.apply(l,_)),T||""}}o.renderer=l}if(s.tokenizer){const l=this.defaults.tokenizer||new gf(this.defaults);for(const c in s.tokenizer){if(!(c in l))throw new Error(`tokenizer '${c}' does not exist`);if(["options","rules","lexer"].includes(c))continue;const m=c,p=s.tokenizer[m],g=l[m];l[m]=(..._)=>{let T=p.apply(l,_);return T===!1&&(T=g.apply(l,_)),T}}o.tokenizer=l}if(s.hooks){const l=this.defaults.hooks||new mu;for(const c in s.hooks){if(!(c in l))throw new Error(`hook '${c}' does not exist`);if(c==="options")continue;const m=c,p=s.hooks[m],g=l[m];mu.passThroughHooks.has(c)?l[m]=_=>{if(this.defaults.async)return Promise.resolve(p.call(l,_)).then(w=>g.call(l,w));const T=p.call(l,_);return g.call(l,T)}:l[m]=(..._)=>{let T=p.apply(l,_);return T===!1&&(T=g.apply(l,_)),T}}o.hooks=l}if(s.walkTokens){const l=this.defaults.walkTokens,c=s.walkTokens;o.walkTokens=function(m){let p=[];return p.push(c.call(this,m)),l&&(p=p.concat(l.call(this,m))),p}}this.defaults={...this.defaults,...o}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Vi.lex(e,t??this.defaults)}parser(e,t){return Li.parse(e,t??this.defaults)}}ga=new WeakSet,qp=function(e,t){return(s,o)=>{const l={...o},c={...this.defaults,...l};this.defaults.async===!0&&l.async===!1&&(c.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),c.async=!0);const m=xh(this,ga,fx).call(this,!!c.silent,!!c.async);if(typeof s>"u"||s===null)return m(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return m(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));if(c.hooks&&(c.hooks.options=c),c.async)return Promise.resolve(c.hooks?c.hooks.preprocess(s):s).then(p=>e(p,c)).then(p=>c.hooks?c.hooks.processAllTokens(p):p).then(p=>c.walkTokens?Promise.all(this.walkTokens(p,c.walkTokens)).then(()=>p):p).then(p=>t(p,c)).then(p=>c.hooks?c.hooks.postprocess(p):p).catch(m);try{c.hooks&&(s=c.hooks.preprocess(s));let p=e(s,c);c.hooks&&(p=c.hooks.processAllTokens(p)),c.walkTokens&&this.walkTokens(p,c.walkTokens);let g=t(p,c);return c.hooks&&(g=c.hooks.postprocess(g)),g}catch(p){return m(p)}}},fx=function(e,t){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const o="<p>An error occurred:</p><pre>"+Rn(s.message+"",!0)+"</pre>";return t?Promise.resolve(o):o}if(t)return Promise.reject(s);throw s}};const pa=new W6;function Ke(i,e){return pa.parse(i,e)}Ke.options=Ke.setOptions=function(i){return pa.setOptions(i),Ke.defaults=pa.defaults,nx(Ke.defaults),Ke};Ke.getDefaults=Xg;Ke.defaults=ba;Ke.use=function(...i){return pa.use(...i),Ke.defaults=pa.defaults,nx(Ke.defaults),Ke};Ke.walkTokens=function(i,e){return pa.walkTokens(i,e)};Ke.parseInline=pa.parseInline;Ke.Parser=Li;Ke.parser=Li.parse;Ke.Renderer=_f;Ke.TextRenderer=ny;Ke.Lexer=Vi;Ke.lexer=Vi.lex;Ke.Tokenizer=gf;Ke.Hooks=mu;Ke.parse=Ke;Ke.options;Ke.setOptions;Ke.use;Ke.walkTokens;Ke.parseInline;Li.parse;Vi.lex;const dx=()=>{const{user:i}=Bf(),[e,t]=z.useState(!1),[s,o]=z.useState(null);return{getLeads:z.useCallback(async()=>{if(!i)return[];t(!0);try{const m=Mp(cu(is,"leads"),Vp("userId","==",i.uid));return(await Lp(m)).docs.map(_=>{var T,w;return{id:_.id,..._.data(),timestamp:((w=(T=_.data().timestamp)==null?void 0:T.toMillis)==null?void 0:w.call(T))||Date.now()}}).sort((_,T)=>T.timestamp-_.timestamp)}catch(m){return o(m.message),[]}finally{t(!1)}},[i]),saveLead:async m=>{t(!0);try{await hw(cu(is,"leads"),{...m,timestamp:Op()})}catch(p){throw o(p.message),p}finally{t(!1)}},loading:e,error:s}},Z6=()=>{var ne,ye,_e;const{getLeads:i,error:e}=dx(),{getForms:t}=Gu(),[s,o]=z.useState([]),[l,c]=z.useState([]),[m,p]=z.useState(!0),[g,_]=z.useState(null),[T,w]=z.useState(""),[C,j]=z.useState("all");z.useEffect(()=>{P()},[]);const P=async()=>{p(!0);try{const[oe,N]=await Promise.all([i(),t()]);oe&&o(oe),N&&c(N)}catch(oe){console.error("Erro ao carregar leads:",oe)}finally{p(!1)}},F=(oe,N)=>{const A=l.find(M=>M.id===oe);if(!A)return"Campo";const k=A.questions.find(M=>M.id===N);return k?k.label:"Campo"},te=s.filter(oe=>{var I,O;const N=((I=oe.contactInfo)==null?void 0:I.name)||"",A=((O=oe.contactInfo)==null?void 0:O.email)||"",k=N.toLowerCase().includes(T.toLowerCase())||A.toLowerCase().includes(T.toLowerCase()),M=C==="all"||oe.formId===C;return k&&M}),ie=()=>{const oe=["Nome","Email","Telefone","Formulrio","Data"],N=te.map(I=>{var O,R,re;return[((O=I.contactInfo)==null?void 0:O.name)||"",((R=I.contactInfo)==null?void 0:R.email)||"",((re=I.contactInfo)==null?void 0:re.phone)||"",I.formName||"",new Date(I.timestamp).toLocaleString()]}),A="data:text/csv;charset=utf-8,"+[oe,...N].map(I=>I.join(",")).join(`
`),k=encodeURI(A),M=document.createElement("a");M.setAttribute("href",k),M.setAttribute("download",`leads_export_${new Date().toISOString()}.csv`),document.body.appendChild(M),M.click(),document.body.removeChild(M)};return b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Leads Coletados"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Dados persistidos no Firebase"})]}),b.jsx(Er,{onClick:ie,variant:"secondary",icon:b.jsx(oR,{size:18}),children:"Exportar CSV"})]}),b.jsxs(qf,{padding:"none",children:[b.jsxs("div",{className:"p-4 border-b dark:border-gray-800 flex flex-col md:flex-row gap-4",children:[b.jsxs("div",{className:"relative flex-1",children:[b.jsx(m1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),b.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:T,onChange:oe=>w(oe.target.value),className:"w-full pl-10 pr-4 py-2 border dark:border-gray-700 dark:bg-gray-800 dark:text-white rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),b.jsxs("select",{value:C,onChange:oe=>j(oe.target.value),className:"border dark:border-gray-700 rounded-lg px-4 py-2 bg-white dark:bg-gray-800 dark:text-white outline-none min-w-[200px]",children:[b.jsx("option",{value:"all",children:"Todos os Formulrios"}),l.map(oe=>b.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),b.jsxs("div",{className:"overflow-x-auto",children:[e&&b.jsxs("div",{className:"p-4 mb-4 bg-red-50 dark:bg-red-900/10 text-red-600 dark:text-red-400 border border-red-200 dark:border-red-800 rounded-lg mx-4",children:[b.jsx("strong",{children:"Erro ao carregar leads:"})," ",e]}),m?b.jsx("div",{className:"py-20 flex justify-center",children:b.jsx(xo,{className:"animate-spin text-blue-600",size:40})}):b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-sm font-semibold border-b dark:border-gray-700",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-4",children:"Lead"}),b.jsx("th",{className:"px-6 py-4",children:"Formulrio"}),b.jsx("th",{className:"px-6 py-4",children:"Data"}),b.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),b.jsx("tbody",{className:"divide-y dark:divide-gray-800",children:te.length>0?te.map(oe=>{var N,A;return b.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[b.jsx("td",{className:"px-6 py-4",children:b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:((N=oe.contactInfo)==null?void 0:N.name)||"Annimo"}),b.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:((A=oe.contactInfo)==null?void 0:A.email)||"-"})]})}),b.jsx("td",{className:"px-6 py-4",children:b.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded",children:oe.formName})}),b.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx($2,{size:14}),new Date(oe.timestamp).toLocaleDateString("pt-BR")]})}),b.jsx("td",{className:"px-6 py-4 text-right",children:b.jsx(Er,{onClick:()=>_(oe),variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-bold",children:"Ver Detalhes"})})]},oe.id)}):b.jsx("tr",{children:b.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"Nenhum lead encontrado."})})})]})]})]}),g&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in",children:b.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden border dark:border-gray-800",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b dark:border-gray-800",children:[b.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"Detalhes do Lead"}),b.jsx("button",{onClick:()=>_(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors dark:text-gray-400","aria-label":"Fechar",children:b.jsx(Du,{size:24})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-xl border dark:border-gray-700 flex flex-col items-center text-center",children:[b.jsx(WR,{className:"text-blue-500 mb-2"}),b.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Nome"}),b.jsx("span",{className:"font-semibold dark:text-gray-200",children:((ne=g.contactInfo)==null?void 0:ne.name)||"N/A"})]}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-xl border dark:border-gray-700 flex flex-col items-center text-center",children:[b.jsx(vR,{className:"text-blue-500 mb-2"}),b.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Email"}),b.jsx("span",{className:"font-semibold dark:text-gray-200",children:((ye=g.contactInfo)==null?void 0:ye.email)||"N/A"})]}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-xl border dark:border-gray-700 flex flex-col items-center text-center",children:[b.jsx(NR,{className:"text-blue-500 mb-2"}),b.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:"Telefone"}),b.jsx("span",{className:"font-semibold dark:text-gray-200",children:((_e=g.contactInfo)==null?void 0:_e.phone)||"N/A"})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 dark:text-white",children:[b.jsx(iR,{className:"text-blue-600"})," Respostas"]}),b.jsx("div",{className:"bg-white dark:bg-gray-900 border dark:border-gray-800 rounded-xl divide-y dark:divide-gray-800",children:Object.entries(g.answers||{}).length>0?Object.entries(g.answers).map(([oe,N])=>{const A=F(g.formId,oe);return b.jsxs("div",{className:"p-4 flex flex-col md:flex-row",children:[b.jsxs("span",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 w-full md:w-1/3",children:[A,":"]}),b.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:String(N)})]},oe)}):b.jsx("div",{className:"p-4 text-gray-500 italic dark:text-gray-400",children:"Nenhuma resposta registrada."})})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2 dark:text-white",children:[b.jsx(h1,{className:"text-purple-600"})," Anlise IA"]}),b.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/10 p-6 rounded-2xl border border-purple-100 dark:border-purple-800/30 markdown-content dark:text-gray-200",dangerouslySetInnerHTML:{__html:Ke.parse(g.aiResponse||"Sem anlise gerada.")}})]})]})]})})]})},e3=({product:i,primaryColor:e})=>{const[t,s]=z.useState(0),o=i.imageUrls||[];return o.length===0?null:b.jsxs("div",{className:"relative group",children:[b.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden bg-gray-100 dark:bg-gray-800 transition-colors",children:b.jsx("img",{src:o[t],className:"w-full h-full object-cover transition-all duration-500"})}),o.length>1&&b.jsxs(b.Fragment,{children:[b.jsx("button",{type:"button",onClick:()=>s(l=>l===0?o.length-1:l-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 dark:bg-black/50 dark:text-white rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(Wp,{size:20})}),b.jsx("button",{type:"button",onClick:()=>s(l=>l===o.length-1?0:l+1),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-white/80 dark:bg-black/50 dark:text-white rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(Q2,{size:20})}),b.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-1.5",children:o.map((l,c)=>b.jsx("div",{className:`h-1.5 rounded-full transition-all ${c===t?"w-4 bg-white shadow-sm":"w-1.5 bg-white/50"}`},c))})]})]})},t3=()=>{var R;const{slug:i}=Kp(),e=Nu(),{getFormBySlug:t}=Gu(),{saveLead:s}=dx(),[o,l]=z.useState(null),[c,m]=z.useState(!0),[p,g]=z.useState({}),[_,T]=z.useState(!1),[w,C]=z.useState(""),[j,P]=z.useState(null),[F,te]=z.useState(0),[ie,ne]=z.useState(!1),[ye,_e]=z.useState(!1);z.useEffect(()=>((async()=>{if(!i)return;const Ae=await t(i);Ae&&(l(Ae),document.documentElement.style.setProperty("--primary-color",Ae.primaryColor),Ae.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),m(!1)})(),()=>{document.documentElement.classList.remove("dark")}),[i]);const oe=z.useCallback((re,Ae)=>{g(Y=>({...Y,[re]:Ae}))},[]),N=re=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(re),A=re=>re.replace(/\D/g,"").length>=10,k=()=>{if(!o)return;const re=o.questions[F],Ae=p[re.id]||"";if(re.required&&!Ae.trim()){P("Campo obrigatrio.");return}if(Ae){if(re.type==="email"&&!N(Ae)){P("E-mail invlido.");return}if(re.type==="phone"&&!A(Ae)){P("Telefone invlido.");return}}P(null),F<o.questions.length-1?te(Y=>Y+1):M()},M=async()=>{if(o){T(!0),console.log("Iniciando submisso do formulrio...",{formId:o.id});try{console.log("Solicitando resposta  IA...");const re=await d6(o.aiResponsePrompt,p,o.questions);console.log("Resposta da IA recebida (tamanho):",re.length),C(re);const Ae=o.questions.find(De=>De.type==="email"),Y=o.questions.find(De=>De.type==="phone"),ae=o.questions.find(De=>(De.label||"").toLowerCase().includes("nome")),me=JSON.parse(JSON.stringify({formId:o.id,formName:o.name,answers:p,aiResponse:re||"",userId:o.userId||"",contactInfo:{name:ae&&p[ae.id]||"Lead Annimo",email:Ae&&p[Ae.id]||null,phone:Y&&p[Y.id]||null}}));console.log("Salvando Lead no Firestore with payload:",me),await s(me),console.log("Lead salvo com sucesso."),ne(!0)}catch(re){console.error("Erro crtico na submisso:",re);const Ae=re.message||JSON.stringify(re);alert(`Erro ao enviar respostas (v2): ${Ae}`)}finally{T(!1)}}};if(c)return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-black transition-colors",children:b.jsx(xo,{className:"animate-spin text-primary",size:48})});if(!o)return b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gray-50 dark:bg-black text-gray-900 dark:text-white transition-colors",children:[b.jsx("h1",{className:"text-2xl font-bold",children:"Formulrio no encontrado"}),b.jsx(Gn,{to:"/",className:"text-blue-600 underline mt-4",children:"Voltar"})]});const I=o.theme==="dark";if(ie&&!ye)return b.jsx("div",{className:`min-h-screen flex flex-col items-center justify-center p-6 animate-in fade-in transition-colors ${I?"bg-black text-white":"bg-white text-gray-900"}`,children:b.jsxs("div",{className:"w-full max-w-xl text-center space-y-10",children:[b.jsx("h2",{className:"text-4xl lg:text-5xl font-black tracking-tight",children:"Anlise Concluda!"}),b.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[b.jsxs("button",{type:"button",onClick:()=>e(`/f/${i}/especialista`),className:"w-full bg-emerald-600 text-white p-8 rounded-[2rem] shadow-xl flex items-center gap-6 hover:scale-[1.02] transition-transform shadow-emerald-500/10",children:[b.jsx(g1,{size:40,className:"shrink-0"}),b.jsxs("div",{className:"text-left",children:[b.jsx("p",{className:"font-black text-2xl uppercase",children:"Falar com Especialista"}),b.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"Inicie sua mentoria agora via WhatsApp."})]})]}),b.jsxs("button",{type:"button",onClick:()=>_e(!0),className:"w-full bg-blue-600 text-white p-8 rounded-[2rem] shadow-xl flex items-center gap-6 hover:scale-[1.02] transition-transform shadow-blue-500/10",children:[b.jsx(Xh,{size:40,className:"shrink-0"}),b.jsxs("div",{className:"text-left",children:[b.jsx("p",{className:"font-black text-2xl uppercase",children:"Ver Resultado IA"}),b.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Acesse sua anlise estratgica personalizada."})]})]})]})]})});if(ye)return b.jsx("div",{className:`min-h-screen flex flex-col items-center py-10 px-4 transition-colors ${I?"bg-black text-white":"bg-white text-gray-900"}`,children:b.jsxs("div",{className:"w-full max-w-3xl space-y-8 animate-in fade-in",children:[b.jsxs("div",{className:`p-10 rounded-[2.5rem] shadow-2xl border relative overflow-hidden transition-colors ${I?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-3 bg-primary"}),b.jsxs("h2",{className:"text-3xl font-black mb-8 flex items-center gap-4",children:[b.jsx(Xh,{className:"text-primary"})," Diagnstico IA"]}),b.jsx("div",{className:`markdown-content text-lg transition-colors ${I?"text-gray-300":"text-gray-700"}`,dangerouslySetInnerHTML:{__html:Ke.parse(w)}})]}),b.jsxs(Gn,{to:`/f/${i}/especialista`,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white p-8 rounded-[2.5rem] shadow-2xl flex flex-col md:flex-row items-center justify-center gap-6 group transition-all transform hover:scale-[1.01] border-4 border-emerald-500/30",children:[b.jsx("div",{className:"p-4 bg-white/20 rounded-3xl group-hover:scale-110 transition-transform",children:b.jsx(c1,{size:40,className:"fill-white/10"})}),b.jsxs("div",{className:"text-center md:text-left flex-1",children:[b.jsx("p",{className:"font-black text-xl md:text-2xl leading-tight uppercase tracking-tight",children:"Acelerar resultados com o Especialista"}),b.jsx("p",{className:"text-emerald-100 text-sm mt-2 font-medium",children:"Inicie sua jornada para os 7 dgitos faturados"})]}),b.jsx(u1,{size:24,className:"ml-auto opacity-50 hidden md:block"})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.products.map(re=>b.jsxs("div",{className:`rounded-[2rem] overflow-hidden shadow-xl border p-6 flex flex-col gap-6 group hover:scale-[1.02] transition-all ${I?"bg-gray-900 border-gray-800":"bg-white border-gray-100"}`,children:[b.jsx(e3,{product:re,primaryColor:o.primaryColor}),b.jsxs("div",{className:"flex-1 flex flex-col",children:[b.jsx("h4",{className:`font-black text-2xl mb-2 ${I?"text-white":"text-gray-900"}`,children:re.name}),b.jsx("p",{className:`text-sm mb-6 flex-1 line-clamp-4 ${I?"text-gray-400":"text-gray-500"}`,children:re.description}),b.jsxs("div",{className:`flex items-center justify-between mt-auto pt-4 border-t ${I?"border-gray-800":"border-gray-100"}`,children:[b.jsx("span",{className:"font-black text-2xl text-primary",children:re.price}),b.jsx("a",{href:re.ctaLink,target:"_blank",className:"bg-primary text-white px-8 py-3 rounded-2xl text-sm font-bold shadow-lg shadow-blue-200/50 active:scale-95 transition-all",children:"Adquirir"})]})]})]},re.id))})]})});const O=o.questions[F];return b.jsxs("div",{className:`min-h-screen flex flex-col items-center py-12 px-6 transition-colors ${I?"bg-black text-white":"bg-white text-gray-900"}`,children:[b.jsxs("div",{className:"w-full max-w-2xl text-center mb-12",children:[o.logo&&b.jsx("img",{src:o.logo,className:"h-16 mx-auto mb-8 transition-all"}),b.jsx("div",{className:`h-2 rounded-full overflow-hidden mb-4 transition-colors ${I?"bg-gray-800":"bg-gray-100"}`,children:b.jsx("div",{className:"h-full bg-primary transition-all duration-700",style:{width:`${(F+1)/o.questions.length*100}%`}})}),b.jsxs("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.3em]",children:["Passo ",F+1," de ",o.questions.length]})]}),b.jsxs("div",{className:"w-full max-w-2xl animate-in fade-in slide-in-from-right-8 duration-500",children:[b.jsx("h1",{className:"text-4xl lg:text-5xl font-black mb-10 leading-tight tracking-tight",children:O.label}),O.type==="select"?b.jsx("div",{className:"grid gap-4",children:(R=O.options)==null?void 0:R.map(re=>b.jsx("button",{type:"button",onClick:()=>oe(O.id,re),className:`p-6 border-2 rounded-[1.8rem] text-left font-bold text-lg lg:text-xl transition-all ${p[O.id]===re?"border-primary bg-primary/10 text-primary shadow-xl shadow-primary/5":`${I?"border-gray-800 bg-gray-900/40 hover:bg-gray-800 hover:border-gray-700":"border-gray-100 bg-gray-50/50 hover:bg-white hover:border-gray-200"}`}`,children:re},re))}):b.jsx("input",{type:O.type==="number"?"number":"text",className:`w-full p-8 border-2 rounded-[1.8rem] outline-none focus:border-primary text-2xl transition-all ${I?"bg-gray-900 border-gray-800 text-white placeholder:text-gray-700":"bg-white border-gray-100 text-gray-900 shadow-sm placeholder:text-gray-300"}`,value:p[O.id]||"",onChange:re=>oe(O.id,re.target.value),placeholder:"Digite aqui...",autoFocus:!0},O.id),j&&b.jsxs("p",{className:"text-red-500 mt-8 font-black flex items-center gap-2 animate-bounce",children:[b.jsx(Du,{size:20})," ",j]}),b.jsxs("div",{className:"mt-16 flex flex-col sm:flex-row gap-4",children:[F>0&&b.jsxs("button",{type:"button",onClick:()=>te(re=>re-1),className:`flex-1 py-6 border-2 rounded-[1.8rem] font-black text-lg flex items-center justify-center gap-2 transition-all ${I?"border-gray-800 hover:bg-gray-900 text-gray-400":"border-gray-100 hover:bg-gray-50 text-gray-500"}`,children:[b.jsx(Wp,{})," Voltar"]}),b.jsx("button",{type:"button",onClick:k,disabled:_,className:"flex-[2] py-6 bg-primary text-white rounded-[1.8rem] font-black text-xl lg:text-2xl flex items-center justify-center gap-2 shadow-2xl shadow-primary/20 hover:scale-[1.02] active:scale-95 transition-all",children:_?b.jsx(xo,{className:"animate-spin"}):F===o.questions.length-1?"Gerar Anlise IA":"Continuar"})]})]}),b.jsx("div",{className:"mt-8 text-center animate-pulse",children:b.jsx("p",{className:"text-xs bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100 font-mono font-bold py-2 px-4 rounded-full inline-block",children:"Verso: 4.0 (FORCE UPDATE)"})})]})},n3=()=>{const{slug:i}=Kp(),{getFormBySlug:e}=Gu(),[t,s]=z.useState(null),[o,l]=z.useState(!0);z.useEffect(()=>((async()=>{if(!i)return;const _=await e(i);_&&(s(_),_.primaryColor&&document.documentElement.style.setProperty("--primary-color",_.primaryColor)),l(!1)})(),()=>{document.documentElement.classList.remove("dark")}),[i]),z.useEffect(()=>{t&&(t.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))},[t]);const c=g=>!g||g==="#"?"#":g.startsWith("http://")||g.startsWith("https://")||g.startsWith("wa.me")?g.startsWith("wa.me")?`https://${g}`:g:`https://${g}`;if(o)return b.jsx("div",{className:`min-h-screen flex items-center justify-center transition-colors ${(t==null?void 0:t.theme)==="dark"?"bg-black":"bg-white"}`,children:b.jsx(xo,{className:"animate-spin text-primary",size:48})});if(!t)return b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-black text-white",children:[b.jsx("h1",{className:"text-2xl font-bold",children:"Pgina no encontrada"}),b.jsx(Gn,{to:"/",className:"text-blue-600 underline mt-4",children:"Voltar"})]});const m=c(t.expertLink),p=t.theme==="dark";return b.jsxs("div",{className:`min-h-screen transition-colors duration-500 ${p?"bg-black text-white":"bg-gray-50 text-gray-900"} selection:bg-emerald-500/30 selection:text-emerald-400`,children:[b.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[b.jsx("div",{className:`absolute top-[-10%] left-[-10%] w-[50%] h-[50%] blur-[120px] rounded-full transition-opacity duration-1000 ${p?"bg-emerald-500/10":"bg-emerald-500/5"}`}),b.jsx("div",{className:`absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] blur-[120px] rounded-full transition-opacity duration-1000 ${p?"bg-blue-500/10":"bg-blue-500/5"}`})]}),b.jsxs("div",{className:"relative max-w-4xl mx-auto px-6 py-12 lg:py-24",children:[b.jsxs(Gn,{to:`/f/${i}`,className:`inline-flex items-center gap-2 transition-colors mb-12 text-sm font-black uppercase tracking-widest ${p?"text-gray-500 hover:text-white":"text-gray-400 hover:text-gray-900"}`,children:[b.jsx(Wp,{size:16})," Voltar para a anlise"]}),b.jsxs("div",{className:"space-y-6 text-center lg:text-left mb-16 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[b.jsxs("div",{className:`inline-flex items-center gap-2 border px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-widest ${p?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-emerald-50 border-emerald-100 text-emerald-600"}`,children:[b.jsx(YR,{size:14})," Autoridade Reconhecida"]}),b.jsxs("h1",{className:"text-5xl lg:text-8xl font-black tracking-tighter leading-[0.85]",children:["Acesso  ",b.jsx("span",{className:"text-emerald-500",children:"Mentoria de Elite"})]}),b.jsxs("p",{className:`text-xl lg:text-2xl font-medium max-w-2xl leading-relaxed ${p?"text-gray-400":"text-gray-600"}`,children:["Voc est prestes a entrar em contato com o estrategista que gerou mais de ",b.jsx("span",{className:`${p?"text-white":"text-emerald-600"} font-black`,children:"R$ 3.000.000,00"})," em vendas reais atravs da internet."]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-16 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:[b.jsxs("div",{className:`p-8 rounded-[2.5rem] transition-all border ${p?"bg-white/[0.03] border-white/10 hover:bg-white/[0.05]":"bg-white border-gray-100 hover:shadow-xl shadow-gray-200/50"}`,children:[b.jsx(HR,{className:"text-emerald-500 mb-6",size:32}),b.jsx("h3",{className:"text-xl font-black mb-2",children:"Estratgia Pura"}),b.jsx("p",{className:"text-sm leading-relaxed text-gray-500",children:"Mtodos validados em campos de batalha reais, no apenas teoria de palco."})]}),b.jsxs("div",{className:`p-8 rounded-[2.5rem] transition-all border ${p?"bg-white/[0.03] border-white/10 hover:bg-white/[0.05]":"bg-white border-gray-100 hover:shadow-xl shadow-gray-200/50"}`,children:[b.jsx($R,{className:"text-blue-500 mb-6",size:32}),b.jsx("h3",{className:"text-xl font-black mb-2",children:"Escala Acelerada"}),b.jsx("p",{className:"text-sm leading-relaxed text-gray-500",children:"Foco total em ROI e crescimento exponencial de faturamento lquido."})]}),b.jsxs("div",{className:`p-8 rounded-[2.5rem] transition-all border ${p?"bg-white/[0.03] border-white/10 hover:bg-white/[0.05]":"bg-white border-gray-100 hover:shadow-xl shadow-gray-200/50"}`,children:[b.jsx(PR,{className:"text-purple-500 mb-6",size:32}),b.jsx("h3",{className:"text-xl font-black mb-2",children:"Segurana Total"}),b.jsx("p",{className:"text-sm leading-relaxed text-gray-500",children:"Apoio de quem j percorreu o caminho e conhece todos os atalhos seguros."})]})]}),b.jsx("div",{className:"animate-in fade-in zoom-in duration-700 delay-500",children:b.jsxs("div",{className:"bg-emerald-600 rounded-[3.5rem] p-10 lg:p-16 shadow-2xl shadow-emerald-900/40 relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 w-80 h-80 bg-white/10 blur-3xl rounded-full -mr-32 -mt-32 transition-transform group-hover:scale-125 duration-1000"}),b.jsxs("div",{className:"relative flex flex-col lg:flex-row items-center justify-between gap-12",children:[b.jsxs("div",{className:"flex-1 space-y-6 text-center lg:text-left",children:[b.jsx("h2",{className:"text-4xl lg:text-6xl font-black text-white leading-[0.9] tracking-tighter",children:"PRONTO PARA O PRXIMO NVEL?"}),b.jsx("p",{className:"text-emerald-50 text-lg lg:text-xl font-medium max-w-md mx-auto lg:mx-0",children:"Toque no boto abaixo e inicie sua conversa exclusiva via WhatsApp agora."})]}),b.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"bg-white text-emerald-600 px-10 py-6 rounded-full flex items-center gap-4 font-black text-xl lg:text-2xl shadow-2xl transition-all hover:scale-105 active:scale-95 hover:shadow-emerald-400/30 min-w-max",children:[b.jsx(c1,{size:32,className:"fill-emerald-600/10"}),"INICIAR AGORA",b.jsx(F2,{className:"group-hover:translate-x-2 transition-transform"})]})]})]})}),b.jsxs("p",{className:"text-center text-[10px] mt-20 font-black tracking-[0.3em] uppercase opacity-40",children:["Vagas Limitadas para Consultoria Individual  2024  ",t.name]})]})]})},i3=()=>{const[i,e]=z.useState(""),[t,s]=z.useState(""),[o,l]=z.useState(""),[c,m]=z.useState(!1),[p,g]=z.useState(!1),_=Nu(),{user:T,loginWithEmail:w,signUp:C,loginWithGoogle:j}=Bf();z.useEffect(()=>{T&&_("/admin",{replace:!0})},[T,_]);const P=async te=>{te.preventDefault(),l(""),g(!0);try{c?await C(i,t):await w(i,t),_("/admin",{replace:!0})}catch(ie){l(ie.message||"Erro ao autenticar. Verifique suas credenciais.")}finally{g(!1)}},F=async()=>{l("");try{await j(),_("/admin",{replace:!0})}catch{l("Erro ao entrar com Google. Tente novamente.")}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-black p-4 transition-colors",children:b.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-900 rounded-xl shadow-lg p-8 border dark:border-gray-800",children:[b.jsxs("div",{className:"flex flex-col items-center mb-8",children:[b.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl text-white mb-4",children:b.jsx(d1,{size:40})}),b.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Acesse sua conta"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Painel administrativo Formulary AI"})]}),b.jsxs("form",{onSubmit:P,className:"space-y-6",children:[o&&b.jsx("div",{className:"p-3 text-sm bg-red-50 text-red-600 rounded-lg border border-red-200 animate-pulse",children:o}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),b.jsx("input",{type:"email",required:!0,value:i,onChange:te=>e(te.target.value),className:"w-full px-4 py-2 border dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"admin@formulary.ai"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Senha"}),b.jsx("input",{type:"password",required:!0,value:t,onChange:te=>s(te.target.value),className:"w-full px-4 py-2 border dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"admin123"})]}),b.jsx(Er,{type:"submit",size:"lg",className:"w-full py-3 shadow-md",icon:b.jsx(pR,{size:18}),disabled:p,children:p?"Processando...":c?"Criar Conta":"Entrar no Painel"}),b.jsxs("div",{className:"relative my-6",children:[b.jsx("div",{className:"absolute inset-0 flex items-center",children:b.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-800"})}),b.jsx("div",{className:"relative flex justify-center text-sm",children:b.jsx("span",{className:"px-2 bg-white dark:bg-gray-900 text-gray-500 dark:text-gray-400",children:"Ou continue com"})})]}),b.jsx(Er,{type:"button",variant:"outline",size:"lg",className:"w-full py-3 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-600",icon:b.jsx(J2,{size:18,className:"text-red-500"}),onClick:F,disabled:p,children:"Entrar com Google"})]}),b.jsx("div",{className:"mt-6 text-center",children:b.jsx("button",{onClick:()=>m(!c),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:c?"J tem uma conta? Entre agora":"No tem uma conta? Cadastre-se"})}),!c&&b.jsx("div",{className:"mt-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-100 dark:border-blue-800/30",children:b.jsxs("p",{className:"text-center text-xs text-blue-600 dark:text-blue-400 font-medium",children:[b.jsx("strong",{children:"Acesso Demo:"}),b.jsx("br",{}),"admin@formulary.ai / admin123"]})})]})})},r3=({isSidebarOpen:i,setIsSidebarOpen:e,handleLogout:t})=>b.jsx("aside",{className:`
      fixed inset-y-0 left-0 z-40 w-64 bg-white dark:bg-gray-900 border-r dark:border-gray-800 transform transition-transform duration-300 ease-in-out
      ${i?"translate-x-0":"-translate-x-full"}
      lg:translate-x-0 lg:static
    `,children:b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsxs("div",{className:"p-6 border-b dark:border-gray-800 flex items-center gap-2",children:[b.jsx(d1,{className:"text-blue-600",size:28}),b.jsx("span",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Formulary AI"}),b.jsx("button",{onClick:()=>e(!1),className:"lg:hidden ml-auto p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md",children:b.jsx(Du,{size:20,className:"dark:text-gray-400"})})]}),b.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[b.jsxs(Gn,{to:"/admin",onClick:()=>e(!1),className:"flex items-center gap-3 p-3 text-gray-600 dark:text-gray-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 rounded-lg transition-colors",children:[b.jsx(fR,{size:20}),b.jsx("span",{children:"Dashboard"})]}),b.jsxs(Gn,{to:"/admin/leads",onClick:()=>e(!1),className:"flex items-center gap-3 p-3 text-gray-600 dark:text-gray-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 rounded-lg transition-colors",children:[b.jsx(g1,{size:20}),b.jsx("span",{children:"Leads"})]}),b.jsxs(Gn,{to:"/admin/formularios/novo",onClick:()=>e(!1),className:"flex items-center gap-3 p-3 text-gray-600 dark:text-gray-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 rounded-lg transition-colors",children:[b.jsx(eR,{size:20}),b.jsx("span",{children:"Novo Formulrio"})]})]}),b.jsxs("div",{className:"p-4 border-t dark:border-gray-800 space-y-2",children:[b.jsxs("button",{onClick:()=>{const s=document.documentElement.classList.toggle("dark");localStorage.setItem(Kw,s?"dark":"light")},className:"flex items-center gap-3 w-full p-3 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[b.jsx(p1,{className:"hidden dark:block",size:20}),b.jsx(f1,{className:"block dark:hidden",size:20}),b.jsx("span",{className:"hidden dark:block",children:"Modo Claro"}),b.jsx("span",{className:"block dark:hidden",children:"Modo Escuro"})]}),b.jsxs("button",{onClick:t,className:"flex items-center gap-3 w-full p-3 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[b.jsx(yR,{size:20}),b.jsx("span",{children:"Sair"})]})]})]})}),s3=({children:i,isAuthenticated:e,isSidebarOpen:t,setIsSidebarOpen:s,handleLogout:o})=>e?b.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-black overflow-hidden",children:[b.jsx("button",{onClick:()=>s(!t),className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white dark:bg-gray-800 rounded-md shadow-md",children:t?b.jsx(Du,{size:24}):b.jsx(bR,{size:24})}),b.jsx(r3,{isSidebarOpen:t,setIsSidebarOpen:s,handleLogout:o}),b.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-8 pt-16 lg:pt-8 bg-gray-50 dark:bg-black",children:i})]}):b.jsx(i1,{to:"/login",replace:!0}),a3=()=>{const i=br();return z.useEffect(()=>{if(i.pathname.startsWith("/f/"))return;localStorage.getItem(Kw)==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[i.pathname]),null},o3=()=>{const{user:i,logout:e,loading:t}=Bf(),[s,o]=z.useState(!1),l=async()=>{try{await e()}catch(m){console.error("Logout failed",m)}};if(t)return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 border-none",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const c=m=>b.jsx(s3,{isAuthenticated:!!i,isSidebarOpen:s,setIsSidebarOpen:o,handleLogout:l,children:b.jsx(m,{})});return b.jsxs(A2,{children:[b.jsx(a3,{}),b.jsxs(n2,{children:[b.jsx(or,{path:"/login",element:b.jsx(i3,{})}),b.jsx(or,{path:"/admin",element:c(DM)}),b.jsx(or,{path:"/admin/formularios/novo",element:c(Pb)}),b.jsx(or,{path:"/admin/formularios/:id/editar",element:c(Pb)}),b.jsx(or,{path:"/admin/leads",element:c(Z6)}),b.jsx(or,{path:"/f/:slug",element:b.jsx(t3,{})}),b.jsx(or,{path:"/f/:slug/especialista",element:b.jsx(n3,{})}),b.jsx(or,{path:"/",element:b.jsx(i1,{to:"/admin",replace:!0})})]})]})},mx=document.getElementById("root");if(!mx)throw new Error("Could not find root element");const l3=sA.createRoot(mx);l3.render(b.jsx(JS.StrictMode,{children:b.jsx(kM,{children:b.jsx(o3,{})})}));
